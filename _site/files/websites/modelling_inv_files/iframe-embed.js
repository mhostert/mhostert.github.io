var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

function SCRIPT_LOADER(){
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="//web.archive.org/web/20220221113829/https://e.issuu.com/issuu-reader3-embed-files/426/",r(r.s=397)}([function(e,t){e.exports=React},function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"d",(function(){return a})),r.d(t,"f",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return c}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function a(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(u(arguments[t]));return e}},function(e,t,r){"use strict";var n=r(5),o=r(6),i=r(126),a=r(21),s=r(34),u=r(17),c=r(148),l=r(149),f=r(127),p=r(10),d=r(150),h=p("isConcatSpreadable"),v=d>=51||!o((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),y=f("concat"),m=function(e){if(!a(e))return!1;var t=e[h];return void 0!==t?!!t:i(e)};n({target:"Array",proto:!0,forced:!v||!y},{concat:function(e){var t,r,n,o,i,a=s(this),f=l(a,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(m(i=-1===t?a:arguments[t])){if(p+(o=u(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(r=0;r<o;r++,p++)r in i&&c(f,p,i[r])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,p++,i)}return f.length=p,f}})},function(e,t,r){var n=r(171),o=r(40),i=r(297);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(e,t,r){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)&&n.length){var a=o.apply(null,n);a&&e.push(a)}else if("object"===i)for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},function(e,t,r){var n=r(8),o=r(86).f,i=r(43),a=r(40),s=r(163),u=r(204),c=r(125);e.exports=function(e,t){var r,l,f,p,d,h=e.target,v=e.global,y=e.stat;if(r=v?n:y?n[h]||s(h,{}):(n[h]||{}).prototype)for(l in t){if(p=t[l],f=e.noTargetGet?(d=o(r,l))&&d.value:r[l],!c(v?l:h+(y?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,e)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,r){"use strict";var n=r(5),o=r(37).map,i=r(127),a=r(47),s=i("map"),u=a("map");n({target:"Array",proto:!0,forced:!s||!u},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){(function(t){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,r(50))},function(e,t,r){"use strict";var n=r(51),o=r(108),i=r(130),a=r(48),s=r(182),u=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:n(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(e,t,r){var n=r(8),o=r(166),i=r(26),a=r(122),s=r(169),u=r(207),c=o("wks"),l=n.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return i(c,e)||(s&&i(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t,r){"use strict";var n,o,i,a,s=r(5),u=r(87),c=r(8),l=r(95),f=r(298),p=r(40),d=r(151),h=r(88),v=r(152),y=r(21),m=r(129),g=r(97),_=r(164),b=r(172),w=r(153),E=r(107),O=r(209).set,T=r(299),x=r(301),k=r(302),S=r(212),P=r(303),C=r(48),A=r(125),R=r(10),j=r(154),I=r(150),D=R("species"),M="Promise",L=C.get,N=C.set,B=C.getterFor(M),F=f,U=c.TypeError,W=c.document,z=c.process,H=l("fetch"),V=S.f,G=V,q=!!(W&&W.createEvent&&c.dispatchEvent),$="function"==typeof PromiseRejectionEvent,K=A(M,(function(){if(!(_(F)!==String(F))){if(66===I)return!0;if(!j&&!$)return!0}if(u&&!F.prototype.finally)return!0;if(I>=51&&/native code/.test(F))return!1;var e=F.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[D]=t,!(e.then((function(){}))instanceof t)})),Y=K||!w((function(e){F.all(e).catch((function(){}))})),X=function(e){var t;return!(!y(e)||"function"!=typeof(t=e.then))&&t},Z=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;T((function(){for(var n=e.value,o=1==e.state,i=0;r.length>i;){var a,s,u,c=r[i++],l=o?c.ok:c.fail,f=c.resolve,p=c.reject,d=c.domain;try{l?(o||(2===e.rejection&&te(e),e.rejection=1),!0===l?a=n:(d&&d.enter(),a=l(n),d&&(d.exit(),u=!0)),a===c.promise?p(U("Promise-chain cycle")):(s=X(a))?s.call(a,f,p):f(a)):p(n)}catch(e){d&&!u&&d.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Q(e)}))}},J=function(e,t,r){var n,o;q?((n=W.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!$&&(o=c["on"+e])?o(n):"unhandledrejection"===e&&k("Unhandled promise rejection",r)},Q=function(e){O.call(c,(function(){var t,r=e.facade,n=e.value;if(ee(e)&&(t=P((function(){j?z.emit("unhandledRejection",n,r):J("unhandledrejection",r,n)})),e.rejection=j||ee(e)?2:1,t.error))throw t.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e){O.call(c,(function(){var t=e.facade;j?z.emit("rejectionHandled",t):J("rejectionhandled",t,e.value)}))},re=function(e,t,r){return function(n){e(t,n,r)}},ne=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,Z(e,!0))},oe=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw U("Promise can't be resolved itself");var n=X(t);n?T((function(){var r={done:!1};try{n.call(t,re(oe,r,e),re(ne,r,e))}catch(t){ne(r,t,e)}})):(e.value=t,e.state=1,Z(e,!1))}catch(t){ne({done:!1},t,e)}}};K&&(F=function(e){g(this,F,M),m(e),n.call(this);var t=L(this);try{e(re(oe,t),re(ne,t))}catch(e){ne(t,e)}},(n=function(e){N(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=d(F.prototype,{then:function(e,t){var r=B(this),n=V(E(this,F));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=j?z.domain:void 0,r.parent=!0,r.reactions.push(n),0!=r.state&&Z(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n,t=L(e);this.promise=e,this.resolve=re(oe,t),this.reject=re(ne,t)},S.f=V=function(e){return e===F||e===i?new o(e):G(e)},u||"function"!=typeof f||(a=f.prototype.then,p(f.prototype,"then",(function(e,t){var r=this;return new F((function(e,t){a.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return x(F,H.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:K},{Promise:F}),h(F,M,!1,!0),v(M),i=l(M),s({target:M,stat:!0,forced:K},{reject:function(e){var t=V(this);return t.reject.call(void 0,e),t.promise}}),s({target:M,stat:!0,forced:u||K},{resolve:function(e){return x(u&&this===i?F:this,e)}}),s({target:M,stat:!0,forced:Y},{all:function(e){var t=this,r=V(t),n=r.resolve,o=r.reject,i=P((function(){var r=m(t.resolve),i=[],a=0,s=1;b(e,(function(e){var u=a++,c=!1;i.push(void 0),s++,r.call(t,e).then((function(e){c||(c=!0,i[u]=e,--s||n(i))}),o)})),--s||n(i)}));return i.error&&o(i.value),r.promise},race:function(e){var t=this,r=V(t),n=r.reject,o=P((function(){var o=m(t.resolve);b(e,(function(e){o.call(t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}})},function(e,t,r){"use strict";var n=r(5),o=r(155);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(e,t,r){"use strict";var n=r(5),o=r(215);n({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(e,t,r){"use strict";var n,o=r(228),i=r(25),a=r(8),s=r(21),u=r(26),c=r(128),l=r(43),f=r(40),p=r(28).f,d=r(136),h=r(137),v=r(10),y=r(122),m=a.Int8Array,g=m&&m.prototype,_=a.Uint8ClampedArray,b=_&&_.prototype,w=m&&d(m),E=g&&d(g),O=Object.prototype,T=O.isPrototypeOf,x=v("toStringTag"),k=y("TYPED_ARRAY_TAG"),S=o&&!!h&&"Opera"!==c(a.opera),P=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},A={BigInt64Array:8,BigUint64Array:8},R=function(e){if(!s(e))return!1;var t=c(e);return u(C,t)||u(A,t)};for(n in C)a[n]||(S=!1);if((!S||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},S))for(n in C)a[n]&&h(a[n],w);if((!S||!E||E===O)&&(E=w.prototype,S))for(n in C)a[n]&&h(a[n].prototype,E);if(S&&d(b)!==E&&h(b,E),i&&!u(E,x))for(n in P=!0,p(E,x,{get:function(){return s(this)?this[k]:void 0}}),C)a[n]&&l(a[n],k,n);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:S,TYPED_ARRAY_TAG:P&&k,aTypedArray:function(e){if(R(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(h){if(T.call(w,e))return e}else for(var t in C)if(u(C,n)){var r=a[t];if(r&&(e===r||T.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(e,t,r){if(i){if(r)for(var n in C){var o=a[n];o&&u(o.prototype,e)&&delete o.prototype[e]}E[e]&&!r||f(E,e,r?t:S&&g[e]||t)}},exportTypedArrayStaticMethod:function(e,t,r){var n,o;if(i){if(h){if(r)for(n in C)(o=a[n])&&u(o,e)&&delete o[e];if(w[e]&&!r)return;try{return f(w,e,r?t:S&&m[e]||t)}catch(e){}}for(n in C)!(o=a[n])||o[e]&&!r||f(o,e,t)}},isView:function(e){if(!s(e))return!1;var t=c(e);return"DataView"===t||u(C,t)||u(A,t)},isTypedArray:R,TypedArray:w,TypedArrayPrototype:E}},function(e,t,r){var n=r(5),o=r(242);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},,function(e,t,r){var n=r(52),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(8),o=r(216),i=r(215),a=r(43);for(var s in o){var u=n[s],c=u&&u.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(e){c.forEach=i}}},function(e,t,r){"use strict";var n=r(5),o=r(121),i=r(51),a=r(109),s=[].join,u=o!=Object,c=a("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(e){return s.call(i(this),void 0===e?",":e)}})},function(e,t,r){"use strict";function n(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(e,Error)}}function o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function i(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function a(e){return"[object DOMException]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function u(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function c(e){return"[object Object]"===Object.prototype.toString.call(e)}function l(e){return"undefined"!=typeof Event&&v(e,Event)}function f(e){return"undefined"!=typeof Element&&v(e,Element)}function p(e){return"[object RegExp]"===Object.prototype.toString.call(e)}function d(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function h(e){return c(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function v(e,t){try{return e instanceof t}catch(e){return!1}}r.d(t,"d",(function(){return n})),r.d(t,"e",(function(){return o})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"k",(function(){return s})),r.d(t,"i",(function(){return u})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"j",(function(){return p})),r.d(t,"m",(function(){return d})),r.d(t,"l",(function(){return h})),r.d(t,"g",(function(){return v}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,r){"use strict";var n=r(5),o=r(124).includes,i=r(108);n({target:"Array",proto:!0,forced:!r(47)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(e,t){e.exports=function(e,t,r,n){var o=r?r.call(n,e,t):void 0;if(void 0!==o)return!!o;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<i.length;u++){var c=i[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(o=r?r.call(n,l,f,c):void 0)||void 0===o&&l!==f)return!1}return!0}},function(e,t,r){(function(t){(function(){var r,n,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(r()-a)/1e6},n=t.hrtime,i=(r=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,r(133))},function(e,t,r){var n=r(6);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(21);e.exports=function(e){if(!n(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,r){var n=r(25),o=r(203),i=r(27),a=r(105),s=Object.defineProperty;t.f=n?s:function(e,t,r){if(i(e),t=a(t,!0),i(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},function(e,t,r){var n=r(5),o=r(34),i=r(132);n({target:"Object",stat:!0,forced:r(6)((function(){i(1)}))},{keys:function(e){return i(o(e))}})},function(e,t,r){"use strict";var n=r(177).charAt,o=r(48),i=r(182),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),r=t.string,o=t.index;return o>=r.length?{value:void 0,done:!0}:(e=n(r,o),t.index+=e.length,{value:e,done:!1})}))},function(e,t,r){"use strict";var n=r(5),o=r(178),i=r(46);n({target:"String",proto:!0,forced:!r(179)("includes")},{includes:function(e){return!!~String(i(this)).indexOf(o(e),arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(5),o=r(21),i=r(126),a=r(106),s=r(17),u=r(51),c=r(148),l=r(10),f=r(127),p=r(47),d=f("slice"),h=p("slice",{ACCESSORS:!0,0:0,1:2}),v=l("species"),y=[].slice,m=Math.max;n({target:"Array",proto:!0,forced:!d||!h},{slice:function(e,t){var r,n,l,f=u(this),p=s(f.length),d=a(e,p),h=a(void 0===t?p:t,p);if(i(f)&&("function"!=typeof(r=f.constructor)||r!==Array&&!i(r.prototype)?o(r)&&null===(r=r[v])&&(r=void 0):r=void 0,r===Array||void 0===r))return y.call(f,d,h);for(n=new(void 0===r?Array:r)(m(h-d,0)),l=0;d<h;d++,l++)d in f&&c(n,l,f[d]);return n.length=l,n}})},function(e,t,r){"use strict";var n,o,i=e.exports=r(81),a=r(235);i.codegen=r(326),i.fetch=r(327),i.path=r(328),i.fs=i.inquire("fs"),i.toArray=function(e){if(e){for(var t=Object.keys(e),r=new Array(t.length),n=0;n<t.length;)r[n]=e[t[n++]];return r}return[]},i.toObject=function(e){for(var t={},r=0;r<e.length;){var n=e[r++],o=e[r++];void 0!==o&&(t[n]=o)}return t};var s=/\\/g,u=/"/g;i.isReserved=function(e){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(e)},i.safeProp=function(e){return!/^[$\w_]+$/.test(e)||i.isReserved(e)?'["'+e.replace(s,"\\\\").replace(u,'\\"')+'"]':"."+e},i.ucFirst=function(e){return e.charAt(0).toUpperCase()+e.substring(1)};var c=/_([a-z])/g;i.camelCase=function(e){return e.substring(0,1)+e.substring(1).replace(c,(function(e,t){return t.toUpperCase()}))},i.compareFieldsById=function(e,t){return e.id-t.id},i.decorateType=function(e,t){if(e.$type)return t&&e.$type.name!==t&&(i.decorateRoot.remove(e.$type),e.$type.name=t,i.decorateRoot.add(e.$type)),e.$type;n||(n=r(186));var o=new n(t||e.name);return i.decorateRoot.add(o),o.ctor=e,Object.defineProperty(e,"$type",{value:o,enumerable:!1}),Object.defineProperty(e.prototype,"$type",{value:o,enumerable:!1}),o};var l=0;i.decorateEnum=function(e){if(e.$type)return e.$type;o||(o=r(77));var t=new o("Enum"+l++,e);return i.decorateRoot.add(t),Object.defineProperty(e,"$type",{value:t,enumerable:!1}),t},i.setProperty=function(e,t,r){if("object"!=typeof e)throw TypeError("dst must be an object");if(!t)throw TypeError("path must be specified");return function e(t,r,n){var o=r.shift();if(r.length>0)t[o]=e(t[o]||{},r,n);else{var i=t[o];i&&(n=[].concat(i).concat(n)),t[o]=n}return t}(e,t=t.split("."),r)},Object.defineProperty(i,"decorateRoot",{get:function(){return a.decorated||(a.decorated=new(r(191)))}})},function(e,t,r){var n=r(46);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(40),o=r(27),i=r(6),a=r(174),s=RegExp.prototype,u=s.toString,c=i((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(c||l)&&n(RegExp.prototype,"toString",(function(){var e=o(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in s)?a.call(e):r)}),{unsafe:!0})},function(e,t,r){var n=r(8),o=r(216),i=r(9),a=r(43),s=r(10),u=s("iterator"),c=s("toStringTag"),l=i.values;for(var f in o){var p=n[f],d=p&&p.prototype;if(d){if(d[u]!==l)try{a(d,u,l)}catch(e){d[u]=l}if(d[c]||a(d,c,f),o[f])for(var h in i)if(d[h]!==i[h])try{a(d,h,i[h])}catch(e){d[h]=i[h]}}}},function(e,t,r){var n=r(89),o=r(121),i=r(34),a=r(17),s=r(149),u=[].push,c=function(e){var t=1==e,r=2==e,c=3==e,l=4==e,f=6==e,p=7==e,d=5==e||f;return function(h,v,y,m){for(var g,_,b=i(h),w=o(b),E=n(v,y,3),O=a(w.length),T=0,x=m||s,k=t?x(h,O):r||p?x(h,0):void 0;O>T;T++)if((d||T in w)&&(_=E(g=w[T],T,b),e))if(t)k[T]=_;else if(_)switch(e){case 3:return!0;case 5:return g;case 6:return T;case 2:u.call(k,g)}else switch(e){case 4:return!1;case 7:u.call(k,g)}return f?-1:c||l?l:k}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(e,t,r){"use strict";var n=r(5),o=r(37).find,i=r(108),a=r(47),s=!0,u=a("find");"find"in[]&&Array(1).find((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(e,t,r){"use strict";(function(e){r.d(t,"e",(function(){return i})),r.d(t,"i",(function(){return a})),r.d(t,"h",(function(){return s})),r.d(t,"d",(function(){return u})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return f})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return d}));var n=r(145),o=(r(104),{});function i(){return Object(n.b)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function a(){var e=i(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var r=new Uint16Array(8);t.getRandomValues(r),r[3]=4095&r[3]|16384,r[4]=16383&r[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(r[0])+n(r[1])+n(r[2])+n(r[3])+n(r[4])+n(r[5])+n(r[6])+n(r[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function s(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",n=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+n}}function u(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function c(e){var t=i();if(!("console"in t))return e();var r=t.console,n={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&r[e].__sentry_original__&&(n[e]=r[e],r[e]=r[e].__sentry_original__)}));var o=e();return Object.keys(n).forEach((function(e){r[e]=n[e]})),o}function l(e,t,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||r||"Error"}function f(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(r){e.exception.values[0].mechanism[r]=t[r]}))}catch(e){}}function p(){try{return document.location.href}catch(e){return""}}function d(e,t){if(!t)return 6e4;var r=parseInt(""+t,10);if(!isNaN(r))return 1e3*r;var n=Date.parse(""+t);return isNaN(n)?6e4:n-e}}).call(this,r(50))},function(e,t,r){var n=r(8),o=r(43),i=r(26),a=r(163),s=r(164),u=r(48),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,r,s){var u,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;"function"==typeof r&&("string"!=typeof t||i(r,"name")||o(r,"name",t),(u=l(r)).source||(u.source=f.join("string"==typeof t?t:""))),e!==n?(c?!d&&e[t]&&(p=!0):delete e[t],p?e[t]=r:o(e,t,r)):p?e[t]=r:a(t,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t,r){"use strict";var n=r(156),o=r(175),i=r(27),a=r(46),s=r(107),u=r(176),c=r(17),l=r(157),f=r(155),p=r(6),d=[].push,h=Math.min,v=!p((function(){return!RegExp(4294967295,"y")}));n("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(a(this)),i=void 0===r?4294967295:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!o(e))return t.call(n,e,i);for(var s,u,c,l=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=new RegExp(e.source,p+"g");(s=f.call(v,n))&&!((u=v.lastIndex)>h&&(l.push(n.slice(h,s.index)),s.length>1&&s.index<n.length&&d.apply(l,s.slice(1)),c=s[0].length,h=u,l.length>=i));)v.lastIndex===s.index&&v.lastIndex++;return h===n.length?!c&&v.test("")||l.push(""):l.push(n.slice(h)),l.length>i?l.slice(0,i):l}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var o=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,o,r):n.call(String(o),t,r)},function(e,o){var a=r(n,e,this,o,n!==t);if(a.done)return a.value;var f=i(e),p=String(this),d=s(f,RegExp),y=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(v?"y":"g"),g=new d(v?f:"^(?:"+f.source+")",m),_=void 0===o?4294967295:o>>>0;if(0===_)return[];if(0===p.length)return null===l(g,p)?[p]:[];for(var b=0,w=0,E=[];w<p.length;){g.lastIndex=v?w:0;var O,T=l(g,v?p:p.slice(w));if(null===T||(O=h(c(g.lastIndex+(v?0:w)),p.length))===b)w=u(p,w,y);else{if(E.push(p.slice(b,w)),E.length===_)return E;for(var x=1;x<=T.length-1;x++)if(E.push(T[x]),E.length===_)return E;w=b=O}}return E.push(p.slice(b)),E}]}),!v)},function(e,t,r){"use strict";var n=r(156),o=r(27),i=r(17),a=r(52),s=r(46),u=r(176),c=r(304),l=r(157),f=Math.max,p=Math.min;n("replace",2,(function(e,t,r,n){var d=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=n.REPLACE_KEEPS_$0,v=d?"$":"$0";return[function(r,n){var o=s(this),i=null==r?void 0:r[e];return void 0!==i?i.call(r,o,n):t.call(String(o),r,n)},function(e,n){if(!d&&h||"string"==typeof n&&-1===n.indexOf(v)){var s=r(t,e,this,n);if(s.done)return s.value}var y=o(e),m=String(this),g="function"==typeof n;g||(n=String(n));var _=y.global;if(_){var b=y.unicode;y.lastIndex=0}for(var w=[];;){var E=l(y,m);if(null===E)break;if(w.push(E),!_)break;""===String(E[0])&&(y.lastIndex=u(m,i(y.lastIndex),b))}for(var O,T="",x=0,k=0;k<w.length;k++){E=w[k];for(var S=String(E[0]),P=f(p(a(E.index),m.length),0),C=[],A=1;A<E.length;A++)C.push(void 0===(O=E[A])?O:String(O));var R=E.groups;if(g){var j=[S].concat(C,P,m);void 0!==R&&j.push(R);var I=String(n.apply(void 0,j))}else I=c(S,m,P,C,R,n);P>=x&&(T+=m.slice(x,P)+I,x=P+S.length)}return T+m.slice(x)}]}))},function(e,t,r){var n=r(25),o=r(28),i=r(93);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},function(e,t,r){var n=r(25),o=r(28).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;n&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,r){"use strict";var n=r(5),o=r(37).filter,i=r(127),a=r(47),s=i("filter"),u=a("filter");n({target:"Array",proto:!0,forced:!s||!u},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,r){var n=r(25),o=r(6),i=r(26),a=Object.defineProperty,s={},u=function(e){throw e};e.exports=function(e,t){if(i(s,e))return s[e];t||(t={});var r=[][e],c=!!i(t,"ACCESSORS")&&t.ACCESSORS,l=i(t,0)?t[0]:u,f=i(t,1)?t[1]:void 0;return s[e]=!!r&&!o((function(){if(c&&!n)return!0;var e={length:-1};c?a(e,1,{enumerable:!0,get:u}):e[1]=1,r.call(e,l,f)}))}},function(e,t,r){var n,o,i,a=r(295),s=r(8),u=r(21),c=r(43),l=r(26),f=r(165),p=r(147),d=r(123),h=s.WeakMap;if(a){var v=f.state||(f.state=new h),y=v.get,m=v.has,g=v.set;n=function(e,t){return t.facade=e,g.call(v,e,t),t},o=function(e){return y.call(v,e)||{}},i=function(e){return m.call(v,e)}}else{var _=p("state");d[_]=!0,n=function(e,t){return t.facade=e,c(e,_,t),t},o=function(e){return l(e,_)?e[_]:{}},i=function(e){return l(e,_)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}}}},function(e,t,r){"use strict";var n=r(5),o=r(124).indexOf,i=r(109),a=r(47),s=[].indexOf,u=!!s&&1/[1].indexOf(1,-0)<0,c=i("indexOf"),l=a("indexOf",{ACCESSORS:!0,1:0});n({target:"Array",proto:!0,forced:u||!c||!l},{indexOf:function(e){return u?s.apply(this,arguments)||0:o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(121),o=r(46);e.exports=function(e){return n(o(e))}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){"use strict";var n=r(5),o=r(180).left,i=r(109),a=r(47),s=r(150),u=r(154),c=i("reduce"),l=a("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!l||!u&&s>79&&s<83},{reduce:function(e){return o(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";var n=r(14),o=r(312),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("copyWithin",(function(e,t){return o.call(i(this),e,t,arguments.length>2?arguments[2]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=r(37).every,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("every",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=r(183),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("fill",(function(e){return o.apply(i(this),arguments)}))},function(e,t,r){"use strict";var n=r(14),o=r(37).filter,i=r(107),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("filter",(function(e){for(var t=o(a(this),e,arguments.length>1?arguments[1]:void 0),r=i(this,this.constructor),n=0,u=t.length,c=new(s(r))(u);u>n;)c[n]=t[n++];return c}))},function(e,t,r){"use strict";var n=r(14),o=r(37).find,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("find",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=r(37).findIndex,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("findIndex",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=r(37).forEach,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("forEach",(function(e){o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=r(124).includes,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("includes",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=r(124).indexOf,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("indexOf",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(8),o=r(14),i=r(9),a=r(10)("iterator"),s=n.Uint8Array,u=i.values,c=i.keys,l=i.entries,f=o.aTypedArray,p=o.exportTypedArrayMethod,d=s&&s.prototype[a],h=!!d&&("values"==d.name||null==d.name),v=function(){return u.call(f(this))};p("entries",(function(){return l.call(f(this))})),p("keys",(function(){return c.call(f(this))})),p("values",v,!h),p(a,v,!h)},function(e,t,r){"use strict";var n=r(14),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=[].join;i("join",(function(e){return a.apply(o(this),arguments)}))},function(e,t,r){"use strict";var n=r(14),o=r(313),i=n.aTypedArray;(0,n.exportTypedArrayMethod)("lastIndexOf",(function(e){return o.apply(i(this),arguments)}))},function(e,t,r){"use strict";var n=r(14),o=r(37).map,i=r(107),a=n.aTypedArray,s=n.aTypedArrayConstructor;(0,n.exportTypedArrayMethod)("map",(function(e){return o(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(s(i(e,e.constructor)))(t)}))}))},function(e,t,r){"use strict";var n=r(14),o=r(180).left,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduce",(function(e){return o(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=r(180).right,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("reduceRight",(function(e){return o(i(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var e,t=o(this).length,r=a(t/2),n=0;n<r;)e=this[n],this[n++]=this[--t],this[t]=e;return this}))},function(e,t,r){"use strict";var n=r(14),o=r(17),i=r(230),a=r(34),s=r(6),u=n.aTypedArray;(0,n.exportTypedArrayMethod)("set",(function(e){u(this);var t=i(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=a(e),s=o(n.length),c=0;if(s+t>r)throw RangeError("Wrong length");for(;c<s;)this[t+c]=n[c++]}),s((function(){new Int8Array(1).set({})})))},function(e,t,r){"use strict";var n=r(14),o=r(107),i=r(6),a=n.aTypedArray,s=n.aTypedArrayConstructor,u=n.exportTypedArrayMethod,c=[].slice;u("slice",(function(e,t){for(var r=c.call(a(this),e,t),n=o(this,this.constructor),i=0,u=r.length,l=new(s(n))(u);u>i;)l[i]=r[i++];return l}),i((function(){new Int8Array(1).slice()})))},function(e,t,r){"use strict";var n=r(14),o=r(37).some,i=n.aTypedArray;(0,n.exportTypedArrayMethod)("some",(function(e){return o(i(this),e,arguments.length>1?arguments[1]:void 0)}))},function(e,t,r){"use strict";var n=r(14),o=n.aTypedArray,i=n.exportTypedArrayMethod,a=[].sort;i("sort",(function(e){return a.call(o(this),e)}))},function(e,t,r){"use strict";var n=r(14),o=r(17),i=r(106),a=r(107),s=n.aTypedArray;(0,n.exportTypedArrayMethod)("subarray",(function(e,t){var r=s(this),n=r.length,u=i(e,n);return new(a(r,r.constructor))(r.buffer,r.byteOffset+u*r.BYTES_PER_ELEMENT,o((void 0===t?n:i(t,n))-u))}))},function(e,t,r){"use strict";var n=r(8),o=r(14),i=r(6),a=n.Int8Array,s=o.aTypedArray,u=o.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,f=!!a&&i((function(){c.call(new a(1))}));u("toLocaleString",(function(){return c.apply(f?l.call(s(this)):s(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(e,t,r){"use strict";var n=r(14).exportTypedArrayMethod,o=r(6),i=r(8).Uint8Array,a=i&&i.prototype||{},s=[].toString,u=[].join;o((function(){s.call({})}))&&(s=function(){return u.call(this)});var c=a.toString!=s;n("toString",s,c)},function(e,t,r){"use strict";e.exports=a;var n=r(114);((a.prototype=Object.create(n.prototype)).constructor=a).className="Enum";var o=r(139),i=r(33);function a(e,t,r,o,i){if(n.call(this,e,r),t&&"object"!=typeof t)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=o,this.comments=i||{},this.reserved=void 0,t)for(var a=Object.keys(t),s=0;s<a.length;++s)"number"==typeof t[a[s]]&&(this.valuesById[this.values[a[s]]=t[a[s]]]=a[s])}a.fromJSON=function(e,t){var r=new a(e,t.values,t.options,t.comment,t.comments);return r.reserved=t.reserved,r},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},a.prototype.add=function(e,t,r){if(!i.isString(e))throw TypeError("name must be a string");if(!i.isInteger(t))throw TypeError("id must be an integer");if(void 0!==this.values[e])throw Error("duplicate name '"+e+"' in "+this);if(this.isReservedId(t))throw Error("id "+t+" is reserved in "+this);if(this.isReservedName(e))throw Error("name '"+e+"' is reserved in "+this);if(void 0!==this.valuesById[t]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+t+" in "+this);this.values[e]=t}else this.valuesById[this.values[e]=t]=e;return this.comments[e]=r||null,this},a.prototype.remove=function(e){if(!i.isString(e))throw TypeError("name must be a string");var t=this.values[e];if(null==t)throw Error("name '"+e+"' does not exist in "+this);return delete this.valuesById[t],delete this.values[e],delete this.comments[e],this},a.prototype.isReservedId=function(e){return o.isReservedId(this.reserved,e)},a.prototype.isReservedName=function(e){return o.isReservedName(this.reserved,e)}},function(e,t,r){"use strict";var n=r(5),o=r(37).some,i=r(109),a=r(47),s=i("some"),u=a("some");n({target:"Array",proto:!0,forced:!s||!u},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,r){"use strict";(function(e){r.d(t,"c",(function(){return c})),r.d(t,"f",(function(){return l})),r.d(t,"e",(function(){return d})),r.d(t,"d",(function(){return y})),r.d(t,"b",(function(){return m})),r.d(t,"a",(function(){return g}));var n=r(1),o=r(200),i=r(20),a=r(262),s=r(161),u=r(104);function c(e,t,r){if(t in e){var n=e[t],o=r(n);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:n}})}catch(e){}e[t]=o}}function l(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}function f(e){if(Object(i.d)(e)){var t=e,r={message:t.message,name:t.name,stack:t.stack};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}if(Object(i.f)(e)){var a=e,s={};s.type=a.type;try{s.target=Object(i.c)(a.target)?Object(o.a)(a.target):Object.prototype.toString.call(a.target)}catch(e){s.target="<unknown>"}try{s.currentTarget=Object(i.c)(a.currentTarget)?Object(o.a)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(e){s.currentTarget="<unknown>"}for(var u in"undefined"!=typeof CustomEvent&&Object(i.g)(e,CustomEvent)&&(s.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);return s}return e}function p(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function d(e,t,r){void 0===t&&(t=3),void 0===r&&(r=102400);var n=y(e,t);return p(n)>r?d(e,t-1,r):n}function h(t,r){return"domain"===r&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===r?"[DomainEmitter]":void 0!==e&&t===e?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(i.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(s.a)(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t}function v(e,t,r,n){if(void 0===r&&(r=1/0),void 0===n&&(n=new a.a),0===r)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var r=h(e);return Object(i.i)(r)?r:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var o=h(t,e);if(Object(i.i)(o))return o;var s=f(t),u=Array.isArray(t)?[]:{};if(n.memoize(t))return"[Circular ~]";for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(u[c]=v(c,s[c],r-1,n));return n.unmemoize(t),u}function y(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,r){return v(e,r,t)})))}catch(e){return"**non-serializable**"}}function m(e,t){void 0===t&&(t=40);var r=Object.keys(f(e));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=t)return Object(u.d)(r[0],t);for(var n=r.length;n>0;n--){var o=r.slice(0,n).join(", ");if(!(o.length>t))return n===r.length?o:Object(u.d)(o,t)}return""}function g(e){var t,r;if(Object(i.h)(e)){var o=e,a={};try{for(var s=Object(n.f)(Object.keys(o)),u=s.next();!u.done;u=s.next()){var c=u.value;void 0!==o[c]&&(a[c]=g(o[c]))}}catch(e){t={error:e}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(t)throw t.error}}return a}return Array.isArray(e)?e.map(g):e}}).call(this,r(50))},function(e,t,r){"use strict";var n=r(25),o=r(8),i=r(125),a=r(40),s=r(26),u=r(94),c=r(158),l=r(105),f=r(6),p=r(98),d=r(96).f,h=r(86).f,v=r(28).f,y=r(225).trim,m=o.Number,g=m.prototype,_="Number"==u(p(g)),b=function(e){var t,r,n,o,i,a,s,u,c=l(e,!1);if("string"==typeof c&&c.length>2)if(43===(t=(c=y(c)).charCodeAt(0))||45===t){if(88===(r=c.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((u=i.charCodeAt(s))<48||u>o)return NaN;return parseInt(i,n)}return+c};if(i("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var w,E=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof E&&(_?f((function(){g.valueOf.call(r)})):"Number"!=u(r))?c(new m(b(t)),r,E):b(t)},O=n?d(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;O.length>T;T++)s(m,w=O[T])&&!s(E,w)&&v(E,w,h(m,w));E.prototype=g,g.constructor=E,a(o,"Number",E)}},function(e,t,r){"use strict";(function(e){var n=t;function o(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function i(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&o(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(232),n.base64=r(317),n.EventEmitter=r(318),n.float=r(319),n.inquire=r(233),n.utf8=r(320),n.pool=r(321),n.LongBits=r(322),n.isNode=Boolean(void 0!==e&&e&&e.process&&e.process.versions&&e.process.versions.node),n.global=n.isNode&&e||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"==typeof e||e instanceof String},n.isObject=function(e){return e&&"object"==typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!=typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"==typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=o,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=i,n.ProtocolError=i("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}}).call(this,r(50))},function(e,t,r){r(159)("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t){e.exports=ReactDOM},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return ye})),r.d(t,"c",(function(){return Re}));var n=r(117),o=r(0),i=r.n(o),a=r(23),s=r.n(a),u=r(283),c=r(284),l=r(202),f=r(118),p=r.n(f);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var h=function(e,t){for(var r=[e[0]],n=0,o=t.length;n<o;n+=1)r.push(t[n],e[n+1]);return r},v=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(n.typeOf)(e)},y=Object.freeze([]),m=Object.freeze({});function g(e){return"function"==typeof e}function _(e){return e.displayName||e.name||"Component"}function b(e){return e&&"string"==typeof e.styledComponentId}var w=void 0!==e&&(e.env.REACT_APP_SC_ATTR||e.env.SC_ATTR)||"data-styled",E="undefined"!=typeof window&&"HTMLElement"in window,O=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==e.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==e.env.REACT_APP_SC_DISABLE_SPEEDY&&e.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==e&&void 0!==e.env.SC_DISABLE_SPEEDY&&""!==e.env.SC_DISABLE_SPEEDY&&("false"!==e.env.SC_DISABLE_SPEEDY&&e.env.SC_DISABLE_SPEEDY));function T(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var x=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,o=n;e>=o;)(o<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(o),this.groupSizes.set(r),this.length=o;for(var i=n;i<o;i++)this.groupSizes[i]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var o=r;o<n;o++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),o=n+r,i=n;i<o;i++)t+=this.tag.getRule(i)+"/*!sc*/\n";return t},e}(),k=new Map,S=new Map,P=1,C=function(e){if(k.has(e))return k.get(e);for(;S.has(P);)P++;var t=P++;return k.set(e,t),S.set(t,e),t},A=function(e){return S.get(e)},R=function(e,t){k.set(e,t),S.set(t,e)},j="style["+w+'][data-styled-version="5.2.1"]',I=new RegExp("^"+w+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),D=function(e,t,r){for(var n,o=r.split(","),i=0,a=o.length;i<a;i++)(n=o[i])&&e.registerName(t,n)},M=function(e,t){for(var r=t.innerHTML.split("/*!sc*/\n"),n=[],o=0,i=r.length;o<i;o++){var a=r[o].trim();if(a){var s=a.match(I);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(R(c,u),D(e,c,s[3]),e.getTag().insertRules(u,n)),n.length=0}else n.push(a)}}},L=function(){return r.nc},N=function(e){var t=document.head,r=e||t,n=document.createElement("style"),o=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(w))return n}}(r),i=void 0!==o?o.nextSibling:null;n.setAttribute(w,"active"),n.setAttribute("data-styled-version","5.2.1");var a=L();return a&&n.setAttribute("nonce",a),r.insertBefore(n,i),n},B=function(){function e(e){var t=this.element=N(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var o=t[r];if(o.ownerNode===e)return o}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),F=function(){function e(e){var t=this.element=N(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),U=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),W=E,z={isServer:!E,useCSSOMInjection:!O},H=function(){function e(e,t,r){void 0===e&&(e=m),void 0===t&&(t={}),this.options=d({},z,{},e),this.gs=t,this.names=new Map(r),!this.options.isServer&&E&&W&&(W=!1,function(e){for(var t=document.querySelectorAll(j),r=0,n=t.length;r<n;r++){var o=t[r];o&&"active"!==o.getAttribute(w)&&(M(e,o),o.parentNode&&o.parentNode.removeChild(o))}}(this))}e.registerId=function(e){return C(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(d({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,o=t.target,e=r?new U(o):n?new B(o):new F(o),new x(e)));var e,t,r,n,o},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(C(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(C(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(C(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",o=0;o<r;o++){var i=A(o);if(void 0!==i){var a=e.names.get(i),s=t.getGroup(o);if(void 0!==a&&0!==s.length){var u=w+".g"+o+'[id="'+i+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),n+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return n}(this)},e}(),V=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function q(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=G(t%52)+r;return(G(t%52)+r).replace(V,"$1-$2")}var $=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},K=function(e){return $(5381,e)};function Y(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(g(r)&&!b(r))return!1}return!0}var X=K("5.2.1"),Z=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&Y(e),this.componentId=t,this.baseHash=$(X,t),this.baseStyle=r,H.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,o=[];if(this.baseStyle&&o.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))o.push(this.staticRulesId);else{var i=ve(this.rules,e,t,r).join(""),a=q($(this.baseHash,i.length)>>>0);if(!t.hasNameForId(n,a)){var s=r(i,"."+a,void 0,n);t.insertRules(n,a,s)}o.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=$(this.baseHash,r.hash),l="",f=0;f<u;f++){var p=this.rules[f];if("string"==typeof p)l+=p;else if(p){var d=ve(p,e,t,r),h=Array.isArray(d)?d.join(""):d;c=$(c,h+f),l+=h}}if(l){var v=q(c>>>0);if(!t.hasNameForId(n,v)){var y=r(l,"."+v,void 0,n);t.insertRules(n,v,y)}o.push(v)}}return o.join(" ")},e}(),J=/^\s*\/\/.*$/gm,Q=[":","[",".","#"];function ee(e){var t,r,n,o,i=void 0===e?m:e,a=i.options,s=void 0===a?m:a,c=i.plugins,l=void 0===c?y:c,f=new u.a(s),p=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,o,i,a,s,u,c,l,f){switch(r){case 1:if(0===l&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===c)return n+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(o[0]+n),"";default:return n+(0===f?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){p.push(e)})),h=function(e,n,i){return 0===n&&Q.includes(i[r.length])||i.match(o)?e:"."+t};function v(e,i,a,s){void 0===s&&(s="&");var u=e.replace(J,""),c=i&&a?a+" "+i+" { "+u+" }":u;return t=s,r=i,n=new RegExp("\\"+r+"\\b","g"),o=new RegExp("(\\"+r+"\\b){2,}"),f(a||!i?"":i,c)}return f.use([].concat(l,[function(e,t,o){2===e&&o.length&&o[0].lastIndexOf(r)>0&&(o[0]=o[0].replace(n,h))},d,function(e){if(-2===e){var t=p;return p=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||T(15),$(e,t.name)}),5381).toString():"",v}var te=i.a.createContext(),re=(te.Consumer,i.a.createContext()),ne=(re.Consumer,new H),oe=ee();function ie(){return Object(o.useContext)(te)||ne}function ae(){return Object(o.useContext)(re)||oe}function se(e){var t=Object(o.useState)(e.stylisPlugins),r=t[0],n=t[1],a=ie(),u=Object(o.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),c=Object(o.useMemo)((function(){return ee({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return Object(o.useEffect)((function(){s()(r,e.stylisPlugins)||n(e.stylisPlugins)}),[e.stylisPlugins]),i.a.createElement(te.Provider,{value:u},i.a.createElement(re.Provider,{value:c},e.children))}var ue=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=oe);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return T(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),ce=/([A-Z])/,le=/([A-Z])/g,fe=/^ms-/,pe=function(e){return"-"+e.toLowerCase()};function de(e){return ce.test(e)?e.replace(le,pe).replace(fe,"-ms-"):e}var he=function(e){return null==e||!1===e||""===e};function ve(e,t,r,n){if(Array.isArray(e)){for(var o,i=[],a=0,s=e.length;a<s;a+=1)""!==(o=ve(e[a],t,r,n))&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));return i}return he(e)?"":b(e)?"."+e.styledComponentId:g(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:ve(e(t),t,r,n):e instanceof ue?r?(e.inject(r,n),e.getName(n)):e:v(e)?function e(t,r){var n,o,i=[];for(var a in t)t.hasOwnProperty(a)&&!he(t[a])&&(v(t[a])?i.push.apply(i,e(t[a],a)):g(t[a])?i.push(de(a)+":",t[a],";"):i.push(de(a)+": "+(n=a,(null==(o=t[a])||"boolean"==typeof o||""===o?"":"number"!=typeof o||0===o||n in c.a?String(o).trim():o+"px")+";")));return r?[r+" {"].concat(i,["}"]):i}(e):e.toString();var u}function ye(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return g(e)||v(e)?ve(h(y,[e].concat(r))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:ve(h(e,r))}new Set;var me=function(e,t,r){return void 0===r&&(r=m),e.theme!==r.theme&&e.theme||t||r.theme},ge=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,_e=/(^-|-$)/g;function be(e){return e.replace(ge,"-").replace(_e,"")}var we=function(e){return q(K(e)>>>0)};function Ee(e){return"string"==typeof e&&!0}var Oe=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Te=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function xe(e,t,r){var n=e[r];Oe(t)&&Oe(n)?ke(n,t):e[r]=t}function ke(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var o=0,i=r;o<i.length;o++){var a=i[o];if(Oe(a))for(var s in a)Te(s)&&xe(e,a[s],s)}return e}var Se=i.a.createContext();Se.Consumer;var Pe={};function Ce(e,t,r){var n=b(e),a=!Ee(e),s=t.attrs,u=void 0===s?y:s,c=t.componentId,f=void 0===c?function(e,t){var r="string"!=typeof e?"sc":be(e);Pe[r]=(Pe[r]||0)+1;var n=r+"-"+we("5.2.1"+r+Pe[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):c,h=t.displayName,v=void 0===h?function(e){return Ee(e)?"styled."+e:"Styled("+_(e)+")"}(e):h,w=t.displayName&&t.componentId?be(t.displayName)+"-"+t.componentId:t.componentId||f,E=n&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,O=t.shouldForwardProp;n&&e.shouldForwardProp&&(O=t.shouldForwardProp?function(r,n){return e.shouldForwardProp(r,n)&&t.shouldForwardProp(r,n)}:e.shouldForwardProp);var T,x=new Z(r,w,n?e.componentStyle:void 0),k=x.isStatic&&0===u.length,S=function(e,t){return function(e,t,r,n){var i=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,f=e.styledComponentId,p=e.target,h=function(e,t,r){void 0===e&&(e=m);var n=d({},t,{theme:e}),o={};return r.forEach((function(e){var t,r,i,a=e;for(t in g(a)&&(a=a(n)),a)n[t]=o[t]="className"===t?(r=o[t],i=a[t],r&&i?r+" "+i:r||i):a[t]})),[n,o]}(me(t,Object(o.useContext)(Se),s)||m,t,i),v=h[0],y=h[1],_=function(e,t,r,n){var o=ie(),i=ae();return t?e.generateAndInjectStyles(m,o,i):e.generateAndInjectStyles(r,o,i)}(a,n,v),b=r,w=y.$as||t.$as||y.as||t.as||p,E=Ee(w),O=y!==t?d({},t,{},y):t,T={};for(var x in O)"$"!==x[0]&&"as"!==x&&("forwardedAs"===x?T.as=O[x]:(c?c(x,l.a):!E||Object(l.a)(x))&&(T[x]=O[x]));return t.style&&y.style!==t.style&&(T.style=d({},t.style,{},y.style)),T.className=Array.prototype.concat(u,f,_!==f?_:null,t.className,y.className).filter(Boolean).join(" "),T.ref=b,Object(o.createElement)(w,T)}(T,e,t,k)};return S.displayName=v,(T=i.a.forwardRef(S)).attrs=E,T.componentStyle=x,T.displayName=v,T.shouldForwardProp=O,T.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):y,T.styledComponentId=w,T.target=n?e.target:e,T.withComponent=function(e){var n=t.componentId,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(t,["componentId"]),i=n&&n+"-"+(Ee(e)?e:be(_(e)));return Ce(e,d({},o,{attrs:E,componentId:i}),r)},Object.defineProperty(T,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?ke({},e.defaultProps,t):t}}),T.toString=function(){return"."+T.styledComponentId},a&&p()(T,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),T}var Ae=function(e){return function e(t,r,o){if(void 0===o&&(o=m),!Object(n.isValidElementType)(r))return T(1,String(r));var i=function(){return t(r,o,ye.apply(void 0,arguments))};return i.withConfig=function(n){return e(t,r,d({},o,{},n))},i.attrs=function(n){return e(t,r,d({},o,{attrs:Array.prototype.concat(o.attrs,n).filter(Boolean)}))},i}(Ce,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Ae[e]=Ae(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=Y(e),H.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,r,n){var o=n(ve(this.rules,t,r,n).join(""),""),i=this.componentId+e;r.insertRules(i,i,o)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&H.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();function Re(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=ye.apply(void 0,[e].concat(r)).join(""),i=we(o);return new ue(i,o)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString(),r=L();return"<style "+[r&&'nonce="'+r+'"',w+'="true"','data-styled-version="5.2.1"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var r=((t={})[w]="",t["data-styled-version"]="5.2.1",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),n=L();return n&&(r.nonce=n),[i.a.createElement("style",d({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new H({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?T(2):i.a.createElement(se,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)}}();t.b=Ae}).call(this,r(133))},,function(e,t,r){var n=r(25),o=r(146),i=r(93),a=r(51),s=r(105),u=r(26),c=r(203),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return i(!o.f.call(e,t),e[t])}},function(e,t){e.exports=!1},function(e,t,r){var n=r(28).f,o=r(26),i=r(10)("toStringTag");e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,i)&&n(e,i,{configurable:!0,value:t})}},function(e,t,r){var n=r(129);e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(5),o=r(183),i=r(108);n({target:"Array",proto:!0},{fill:o}),i("fill")},function(e,t,r){"use strict";var n=SyntaxError,o=Function,i=TypeError,a=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(e){s=null}var u=function(){throw new i},c=s?function(){try{return u}catch(e){try{return s(arguments,"callee").get}catch(e){return u}}}():u,l=r(197)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p=a("async function* () {}"),d=p?p.prototype:void 0,h=d?d.prototype:void 0,v="undefined"==typeof Uint8Array?void 0:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":l?f([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":a("async function () {}"),"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":h?f(h):void 0,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":a("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?f(f([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?f((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?f((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l?f(""[Symbol.iterator]()):void 0,"%Symbol%":l?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":c,"%TypedArray%":v,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=r(198),_=r(362),b=g.call(Function.call,Array.prototype.concat),w=g.call(Function.apply,Array.prototype.splice),E=g.call(Function.call,String.prototype.replace),O=g.call(Function.call,String.prototype.slice),T=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,x=/\\(\\)?/g,k=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var o=[];return E(e,T,(function(e,t,r,n){o[o.length]=r?E(n,x,"$1"):t||e})),o},S=function(e,t){var r,o=e;if(_(m,o)&&(o="%"+(r=m[o])[0]+"%"),_(y,o)){var a=y[o];if(void 0===a&&!t)throw new i("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:o,value:a}}throw new n("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new i('"allowMissing" argument must be a boolean');var r=k(e),o=r.length>0?r[0]:"",a=S("%"+o+"%",t),u=a.name,c=a.value,l=!1,f=a.alias;f&&(o=f[0],w(r,b([0,1],f)));for(var p=1,d=!0;p<r.length;p+=1){var h=r[p],v=O(h,0,1),m=O(h,-1);if(('"'===v||"'"===v||"`"===v||'"'===m||"'"===m||"`"===m)&&v!==m)throw new n("property names with quotes must have matching quotes");if("constructor"!==h&&d||(l=!0),_(y,u="%"+(o+="."+h)+"%"))c=y[u];else if(null!=c){if(!(h in c)){if(!t)throw new i("base intrinsic for "+e+" exists, but the property is not available.");return}if(s&&p+1>=r.length){var g=s(c,h);c=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:c[h]}else d=_(c,h),c=c[h];d&&!l&&(y[u]=c)}}return c}},function(module,__webpack_exports__,__webpack_require__){"use strict";(function(global){__webpack_require__.d(__webpack_exports__,"c",(function(){return loadImageAsLayer})),__webpack_require__.d(__webpack_exports__,"d",(function(){return loadLayers})),__webpack_require__.d(__webpack_exports__,"b",(function(){return loadFindData})),__webpack_require__.d(__webpack_exports__,"a",(function(){return find})),__webpack_require__.d(__webpack_exports__,"e",(function(){return renderLayers}));var core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(2),core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_concat_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(38),core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_find_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(13),core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_for_each_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(100),core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_from_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_array_iterator_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(19),core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_array_join_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(53),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(32),core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_array_slice_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(78),core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_array_some_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(140),core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es_array_splice_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(44),core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es_function_name_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(80),core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es_number_constructor_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(335),core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_es_number_is_integer_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(15),core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_es_object_assign_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(337),core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_es_object_freeze_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(29),core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_es_object_keys_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(3),core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(11),core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_18__),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(141),core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_19___default=__webpack_require__.n(core_js_modules_es_regexp_constructor_js__WEBPACK_IMPORTED_MODULE_19__),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(12),core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_20___default=__webpack_require__.n(core_js_modules_es_regexp_exec_js__WEBPACK_IMPORTED_MODULE_20__),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(35),core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21___default=__webpack_require__.n(core_js_modules_es_regexp_to_string_js__WEBPACK_IMPORTED_MODULE_21__),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(116),core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_22___default=__webpack_require__.n(core_js_modules_es_set_js__WEBPACK_IMPORTED_MODULE_22__),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(30),core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_23___default=__webpack_require__.n(core_js_modules_es_string_iterator_js__WEBPACK_IMPORTED_MODULE_23__),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(194),core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_24___default=__webpack_require__.n(core_js_modules_es_string_match_js__WEBPACK_IMPORTED_MODULE_24__),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__(42),core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(core_js_modules_es_string_replace_js__WEBPACK_IMPORTED_MODULE_25__),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__(41),core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(core_js_modules_es_string_split_js__WEBPACK_IMPORTED_MODULE_26__),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_27__=__webpack_require__(142),core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_27___default=__webpack_require__.n(core_js_modules_es_string_trim_js__WEBPACK_IMPORTED_MODULE_27__),core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_28__=__webpack_require__(82),core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_28___default=__webpack_require__.n(core_js_modules_es_typed_array_float32_array_js__WEBPACK_IMPORTED_MODULE_28__),core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_29__=__webpack_require__(339),core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_29___default=__webpack_require__.n(core_js_modules_es_typed_array_float64_array_js__WEBPACK_IMPORTED_MODULE_29__),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_30__=__webpack_require__(138),core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_30___default=__webpack_require__.n(core_js_modules_es_typed_array_uint8_array_js__WEBPACK_IMPORTED_MODULE_30__),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_31__=__webpack_require__(54),core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_31___default=__webpack_require__.n(core_js_modules_es_typed_array_copy_within_js__WEBPACK_IMPORTED_MODULE_31__),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_32__=__webpack_require__(55),core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_32___default=__webpack_require__.n(core_js_modules_es_typed_array_every_js__WEBPACK_IMPORTED_MODULE_32__),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_33__=__webpack_require__(56),core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_33___default=__webpack_require__.n(core_js_modules_es_typed_array_fill_js__WEBPACK_IMPORTED_MODULE_33__),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_34__=__webpack_require__(57),core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_34___default=__webpack_require__.n(core_js_modules_es_typed_array_filter_js__WEBPACK_IMPORTED_MODULE_34__),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_35__=__webpack_require__(58),core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_35___default=__webpack_require__.n(core_js_modules_es_typed_array_find_js__WEBPACK_IMPORTED_MODULE_35__),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_36__=__webpack_require__(59),core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_36___default=__webpack_require__.n(core_js_modules_es_typed_array_find_index_js__WEBPACK_IMPORTED_MODULE_36__),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_37__=__webpack_require__(60),core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_37___default=__webpack_require__.n(core_js_modules_es_typed_array_for_each_js__WEBPACK_IMPORTED_MODULE_37__),core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_38__=__webpack_require__(340),core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_38___default=__webpack_require__.n(core_js_modules_es_typed_array_from_js__WEBPACK_IMPORTED_MODULE_38__),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_39__=__webpack_require__(61),core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_39___default=__webpack_require__.n(core_js_modules_es_typed_array_includes_js__WEBPACK_IMPORTED_MODULE_39__),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_40__=__webpack_require__(62),core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_40___default=__webpack_require__.n(core_js_modules_es_typed_array_index_of_js__WEBPACK_IMPORTED_MODULE_40__),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_41__=__webpack_require__(63),core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_41___default=__webpack_require__.n(core_js_modules_es_typed_array_iterator_js__WEBPACK_IMPORTED_MODULE_41__),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_42__=__webpack_require__(64),core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_42___default=__webpack_require__.n(core_js_modules_es_typed_array_join_js__WEBPACK_IMPORTED_MODULE_42__),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_43__=__webpack_require__(65),core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_43___default=__webpack_require__.n(core_js_modules_es_typed_array_last_index_of_js__WEBPACK_IMPORTED_MODULE_43__),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_44__=__webpack_require__(66),core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_44___default=__webpack_require__.n(core_js_modules_es_typed_array_map_js__WEBPACK_IMPORTED_MODULE_44__),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_45__=__webpack_require__(67),core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_45___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_js__WEBPACK_IMPORTED_MODULE_45__),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_46__=__webpack_require__(68),core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_46___default=__webpack_require__.n(core_js_modules_es_typed_array_reduce_right_js__WEBPACK_IMPORTED_MODULE_46__),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_47__=__webpack_require__(69),core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_47___default=__webpack_require__.n(core_js_modules_es_typed_array_reverse_js__WEBPACK_IMPORTED_MODULE_47__),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_48__=__webpack_require__(70),core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_48___default=__webpack_require__.n(core_js_modules_es_typed_array_set_js__WEBPACK_IMPORTED_MODULE_48__),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_49__=__webpack_require__(71),core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_49___default=__webpack_require__.n(core_js_modules_es_typed_array_slice_js__WEBPACK_IMPORTED_MODULE_49__),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_50__=__webpack_require__(72),core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_50___default=__webpack_require__.n(core_js_modules_es_typed_array_some_js__WEBPACK_IMPORTED_MODULE_50__),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_51__=__webpack_require__(73),core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_51___default=__webpack_require__.n(core_js_modules_es_typed_array_sort_js__WEBPACK_IMPORTED_MODULE_51__),core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_52__=__webpack_require__(74),core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_52___default=__webpack_require__.n(core_js_modules_es_typed_array_subarray_js__WEBPACK_IMPORTED_MODULE_52__),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_53__=__webpack_require__(75),core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_53___default=__webpack_require__.n(core_js_modules_es_typed_array_to_locale_string_js__WEBPACK_IMPORTED_MODULE_53__),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_54__=__webpack_require__(76),core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_54___default=__webpack_require__.n(core_js_modules_es_typed_array_to_string_js__WEBPACK_IMPORTED_MODULE_54__),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_55__=__webpack_require__(18),core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_55___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each_js__WEBPACK_IMPORTED_MODULE_55__),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_56__=__webpack_require__(36),core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_56___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator_js__WEBPACK_IMPORTED_MODULE_56__),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_57__=__webpack_require__(341),core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_57___default=__webpack_require__.n(core_js_modules_web_url_js__WEBPACK_IMPORTED_MODULE_57__),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_58__=__webpack_require__(113),regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_58___default=__webpack_require__.n(regenerator_runtime_runtime_js__WEBPACK_IMPORTED_MODULE_58__),_marked=regeneratorRuntime.mark(renderLayers);function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function retry(e,t){return new Promise((function r(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;return e().then((function(e){return n([e,i])})).catch((function(e){i<t?setTimeout((function(){return r(n,o,i+1,5*a)}),a):o([e,i])}))}))}var timeoutCounter=0;function withTimeout(e,t){if(timeoutCounter>=5)return Promise.reject("Too many timeouts");var r=null,n=new Promise((function(t,n){r=setTimeout((function(){timeoutCounter++,n(new Error("Worker image decoder timeout"))}),e)}));return Promise.race([t,n]).then((function(e){return r&&clearTimeout(r),e}),(function(e){return r&&clearTimeout(r),Promise.reject(e)}))}function getUniqueMessageId(){return"id_".concat(Math.random())}function createWorker(e){try{return new Worker(URL.createObjectURL(new Blob(["(".concat(e.toString(),")()")])))}catch(e){return null}}var worker=createWorker((function(){self.addEventListener("message",(function(e){var t=e.data,r=t.url,n=t.id;try{fetch(r,{mode:"cors"}).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e)})).then((function(e){return self.postMessage({id:n,bitmap:e},[e])})).catch((function(e){return self.postMessage({id:n,error:e.toString()})}))}catch(e){self.postMessage({id:n,error:e.toString()})}}))}));function loadImageWithWorker(e){return withTimeout(2e3,new Promise((function(t,r){if(worker){var n=getUniqueMessageId();worker.addEventListener("message",o),worker.addEventListener("error",i),worker.postMessage({url:e,id:n})}else r("Unable to create Worker with Blob");function o(e){var a=e.data;a.id===n&&(worker.removeEventListener("message",o),worker.removeEventListener("error",i),a.error&&r(a.error),t(a.bitmap))}function i(e){worker.removeEventListener("message",o),worker.removeEventListener("error",i),r(e)}})))}function loadImageWithImg(e){return new Promise((function(t,r){var n=new Image;"data"!==e.substr(0,4)&&(n.crossOrigin="Anonymous"),n.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(n).then((function(e){return t(e)})):t(n)},n.onerror=function(){return r(new TypeError("Could not load image"))},n.src=e}))}function loadImageWithXHR(e){return new Promise((function(t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){200===n.status?"function"==typeof createImageBitmap?createImageBitmap(n.response).then((function(e){t(e)}),(function(){r(new TypeError("[loadImageWithXHR] Could not create image bitmap"))})):r(new TypeError("[loadImageWithXHR] createImageBitmap not support")):r(new TypeError("[loadImageWithXHR] Could not load image ".concat(n.status)))},n.onerror=function(){r(new TypeError("[loadImageWithXHR] Could not load image"))},n.send()}))}function loadImage(e){return loadImageWithWorker(e).catch((function(){return loadImageWithImg(e)})).catch((function(){return loadImageWithXHR(e)}))}function createImageLayer(e,t,r,n){return{page:e,width:r,height:n,layers:[{type:"image",image:0,width:r,height:n}],images:[t],fonts:[]}}function loadLayersImage(e,t,r,n){return retry((function(){return loadImage(e)}),3).then((function(e){var o=_slicedToArray(e,2),i=o[0],a=o[1];return[createImageLayer(t,i,r,n),a]})).catch((function(e){return Promise.reject(e)}))}function loadJson(e,t){return fetch(e,{mode:"cors",credentials:t?"include":"omit"}).then((function(e){return e.json()}))}function loadLayersJson(e,t){return retry((function(){return loadJson(e,t)}),3).then((function(e){var t=_slicedToArray(e,2);return[t[0],t[1]]}))}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var aspromise=asPromise;function asPromise(e,t){for(var r=new Array(arguments.length-1),n=0,o=2,i=!0;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}var base64_1=createCommonjsModule((function(e,t){var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),o=new Array(123),i=0;i<64;)o[n[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(e,t,r){for(var o,i=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=n[c>>2],o=(3&c)<<4,u=1;break;case 1:a[s++]=n[o|c>>4],o=(15&c)<<2,u=2;break;case 2:a[s++]=n[o|c>>6],a[s++]=n[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=n[o],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(e,t,r){for(var n,i=r,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=o[u]))throw Error("invalid encoding");switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return r-i},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}})),eventemitter=EventEmitter;function EventEmitter(){this._listeners={}}EventEmitter.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},EventEmitter.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},EventEmitter.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this};var float_1=factory(factory);function factory(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,writeUintLE),e.writeFloatBE=t.bind(null,writeUintBE),e.readFloatLE=r.bind(null,readUintLE),e.readFloatBE=r.bind(null,readUintBE)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,writeUintLE,0,4),e.writeDoubleBE=t.bind(null,writeUintBE,4,0),e.readDoubleLE=r.bind(null,readUintLE,0,4),e.readDoubleBE=r.bind(null,readUintBE,4,0)}(),e}function writeUintLE(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function writeUintBE(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function readUintLE(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function readUintBE(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}var inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}var utf8_1=createCommonjsModule((function(e,t){var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}})),pool_1=pool;function pool(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}var longbits=LongBits;function LongBits(e,t){this.lo=e>>>0,this.hi=t>>>0}var zero=LongBits.zero=new LongBits(0,0);zero.toNumber=function(){return 0},zero.zzEncode=zero.zzDecode=function(){return this},zero.length=function(){return 1};var zeroHash=LongBits.zeroHash="\0\0\0\0\0\0\0\0";LongBits.fromNumber=function(e){if(0===e)return zero;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new LongBits(r,n)},LongBits.from=function(e){if("number"==typeof e)return LongBits.fromNumber(e);if(minimal.isString(e)){if(!minimal.Long)return LongBits.fromNumber(parseInt(e,10));e=minimal.Long.fromString(e)}return e.low||e.high?new LongBits(e.low>>>0,e.high>>>0):zero},LongBits.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},LongBits.prototype.toLong=function(e){return minimal.Long?new minimal.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var charCodeAt=String.prototype.charCodeAt;LongBits.fromHash=function(e){return e===zeroHash?zero:new LongBits((charCodeAt.call(e,0)|charCodeAt.call(e,1)<<8|charCodeAt.call(e,2)<<16|charCodeAt.call(e,3)<<24)>>>0,(charCodeAt.call(e,4)|charCodeAt.call(e,5)<<8|charCodeAt.call(e,6)<<16|charCodeAt.call(e,7)<<24)>>>0)},LongBits.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},LongBits.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},LongBits.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},LongBits.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10};var minimal=createCommonjsModule((function(e,t){var r=t;function n(e,t,r){for(var n=Object.keys(t),o=0;o<n.length;++o)void 0!==e[n[o]]&&r||(e[n[o]]=t[n[o]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&n(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=aspromise,r.base64=base64_1,r.EventEmitter=eventemitter,r.float=float_1,r.inquire=inquire_1,r.utf8=utf8_1,r.pool=pool_1,r.LongBits=longbits,r.global="undefined"!=typeof window&&window||void 0!==commonjsGlobal&&commonjsGlobal||"undefined"!=typeof self&&self||commonjsGlobal,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isNode=Boolean(r.global.process&&r.global.process.versions&&r.global.process.versions.node),r.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"==typeof e||e instanceof String},r.isObject=function(e){return e&&"object"===_typeof(e)},r.isset=r.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==_typeof(r)||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(e){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"==typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"==typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=n,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},r.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}})),writer=Writer,BufferWriter,LongBits$1=minimal.LongBits,base64=minimal.base64,utf8=minimal.utf8;function Op(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function noop(){}function State(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function Writer(){this.len=0,this.head=new Op(noop,0,0),this.tail=this.head,this.states=null}function writeByte(e,t,r){t[r]=255&e}function writeVarint32(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e}function VarintOp(e,t){this.len=e,this.next=void 0,this.val=t}function writeVarint64(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function writeFixed32(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}Writer.create=minimal.Buffer?function(){return(Writer.create=function(){return new BufferWriter})()}:function(){return new Writer},Writer.alloc=function(e){return new minimal.Array(e)},minimal.Array!==Array&&(Writer.alloc=minimal.pool(Writer.alloc,minimal.Array.prototype.subarray)),Writer.prototype._push=function(e,t,r){return this.tail=this.tail.next=new Op(e,t,r),this.len+=t,this},VarintOp.prototype=Object.create(Op.prototype),VarintOp.prototype.fn=writeVarint32,Writer.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new VarintOp((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},Writer.prototype.int32=function(e){return e<0?this._push(writeVarint64,10,LongBits$1.fromNumber(e)):this.uint32(e)},Writer.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},Writer.prototype.uint64=function(e){var t=LongBits$1.from(e);return this._push(writeVarint64,t.length(),t)},Writer.prototype.int64=Writer.prototype.uint64,Writer.prototype.sint64=function(e){var t=LongBits$1.from(e).zzEncode();return this._push(writeVarint64,t.length(),t)},Writer.prototype.bool=function(e){return this._push(writeByte,1,e?1:0)},Writer.prototype.fixed32=function(e){return this._push(writeFixed32,4,e>>>0)},Writer.prototype.sfixed32=Writer.prototype.fixed32,Writer.prototype.fixed64=function(e){var t=LongBits$1.from(e);return this._push(writeFixed32,4,t.lo)._push(writeFixed32,4,t.hi)},Writer.prototype.sfixed64=Writer.prototype.fixed64,Writer.prototype.float=function(e){return this._push(minimal.float.writeFloatLE,4,e)},Writer.prototype.double=function(e){return this._push(minimal.float.writeDoubleLE,8,e)};var writeBytes=minimal.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};Writer.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(writeByte,1,0);if(minimal.isString(e)){var r=Writer.alloc(t=base64.length(e));base64.decode(e,r,0),e=r}return this.uint32(t)._push(writeBytes,t,e)},Writer.prototype.string=function(e){var t=utf8.length(e);return t?this.uint32(t)._push(utf8.write,t,e):this._push(writeByte,1,0)},Writer.prototype.fork=function(){return this.states=new State(this),this.head=this.tail=new Op(noop,0,0),this.len=0,this},Writer.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Op(noop,0,0),this.len=0),this},Writer.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},Writer.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},Writer._configure=function(e){BufferWriter=e};var writer_buffer=BufferWriter$1;(BufferWriter$1.prototype=Object.create(writer.prototype)).constructor=BufferWriter$1;var Buffer=minimal.Buffer;function BufferWriter$1(){writer.call(this)}BufferWriter$1.alloc=function(e){return(BufferWriter$1.alloc=minimal._Buffer_allocUnsafe)(e)};var writeBytesBuffer=Buffer&&Buffer.prototype instanceof Uint8Array&&"set"===Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]};function writeStringBuffer(e,t,r){e.length<40?minimal.utf8.write(e,t,r):t.utf8Write(e,r)}BufferWriter$1.prototype.bytes=function(e){minimal.isString(e)&&(e=minimal._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(writeBytesBuffer,t,e),this},BufferWriter$1.prototype.string=function(e){var t=Buffer.byteLength(e);return this.uint32(t),t&&this._push(writeStringBuffer,t,e),this};var reader=Reader,BufferReader,LongBits$2=minimal.LongBits,utf8$1=minimal.utf8;function indexOutOfRange(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function Reader(e){this.buf=e,this.pos=0,this.len=e.length}var create_array="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new Reader(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new Reader(e);throw Error("illegal buffer")},value;function readLongVarint(){var e=new LongBits$2(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw indexOutOfRange(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function readFixed32_end(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function readFixed64(){if(this.pos+8>this.len)throw indexOutOfRange(this,8);return new LongBits$2(readFixed32_end(this.buf,this.pos+=4),readFixed32_end(this.buf,this.pos+=4))}Reader.create=minimal.Buffer?function(e){return(Reader.create=function(e){return minimal.Buffer.isBuffer(e)?new BufferReader(e):create_array(e)})(e)}:create_array,Reader.prototype._slice=minimal.Array.prototype.subarray||minimal.Array.prototype.slice,Reader.prototype.uint32=(value=4294967295,function(){if(value=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return value;if(value=(value|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return value;if((this.pos+=5)>this.len)throw this.pos=this.len,indexOutOfRange(this,10);return value}),Reader.prototype.int32=function(){return 0|this.uint32()},Reader.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},Reader.prototype.bool=function(){return 0!==this.uint32()},Reader.prototype.fixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.sfixed32=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);return 0|readFixed32_end(this.buf,this.pos+=4)},Reader.prototype.float=function(){if(this.pos+4>this.len)throw indexOutOfRange(this,4);var e=minimal.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},Reader.prototype.double=function(){if(this.pos+8>this.len)throw indexOutOfRange(this,4);var e=minimal.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},Reader.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw indexOutOfRange(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},Reader.prototype.string=function(){var e=this.bytes();return utf8$1.read(e,0,e.length)},Reader.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw indexOutOfRange(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw indexOutOfRange(this)}while(128&this.buf[this.pos++]);return this},Reader.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},Reader._configure=function(e){BufferReader=e;var t=minimal.Long?"toLong":"toNumber";minimal.merge(Reader.prototype,{int64:function(){return readLongVarint.call(this)[t](!1)},uint64:function(){return readLongVarint.call(this)[t](!0)},sint64:function(){return readLongVarint.call(this).zzDecode()[t](!1)},fixed64:function(){return readFixed64.call(this)[t](!0)},sfixed64:function(){return readFixed64.call(this)[t](!1)}})};var reader_buffer=BufferReader$1;function BufferReader$1(e){reader.call(this,e)}(BufferReader$1.prototype=Object.create(reader.prototype)).constructor=BufferReader$1,minimal.Buffer&&(BufferReader$1.prototype._slice=minimal.Buffer.prototype.slice),BufferReader$1.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len))};var service=Service;function Service(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");minimal.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(Service.prototype=Object.create(minimal.EventEmitter.prototype)).constructor=Service,Service.prototype.rpcCall=function e(t,r,n,o,i){if(!o)throw TypeError("request must be specified");var a=this;if(!i)return minimal.asPromise(e,a,t,r,n,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),i(e);if(null!==r){if(!(r instanceof n))try{r=n[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),i(e)}return a.emit("data",r,t),i(null,r)}a.end(!0)}))}catch(e){return a.emit("error",e,t),void setTimeout((function(){i(e)}),0)}else setTimeout((function(){i(Error("already ended"))}),0)},Service.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var rpc_1=createCommonjsModule((function(e,t){t.Service=service})),roots={},indexMinimal=createCommonjsModule((function(e,t){var r=t;function n(){r.Reader._configure(r.BufferReader),r.util._configure()}r.build="minimal",r.Writer=writer,r.BufferWriter=writer_buffer,r.Reader=reader,r.BufferReader=reader_buffer,r.util=minimal,r.rpc=rpc_1,r.roots=roots,r.configure=n,r.Writer._configure(r.BufferWriter),n()})),minimal$1=indexMinimal,$Reader=minimal$1.Reader,$util=minimal$1.util,$root=minimal$1.roots.default||(minimal$1.roots.default={}),valuesById,values,layers;$root.layers=(layers={},layers.BlendType=(valuesById={},(values=Object.create(valuesById))[valuesById[0]="Normal"]=0,values[valuesById[1]="Multiply"]=1,values[valuesById[2]="Screen"]=2,values[valuesById[3]="Overlay"]=3,values[valuesById[4]="Darken"]=4,values[valuesById[5]="Lighten"]=5,values[valuesById[6]="Colordodge"]=6,values[valuesById[7]="Colorburn"]=7,values[valuesById[8]="Hardlight"]=8,values[valuesById[9]="Softlight"]=9,values[valuesById[10]="Difference"]=10,values[valuesById[11]="Exclusion"]=11,values[valuesById[12]="Hue"]=12,values[valuesById[13]="Saturation"]=13,values[valuesById[14]="Color"]=14,values[valuesById[15]="Luminosity"]=15,values),layers.ImageLayer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.image=0,e.prototype.width=0,e.prototype.height=0,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.ImageLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.image=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;default:e.skipType(7&o)}}return n},e}(),layers.TextLayer=function(){function e(e){if(this.matrix=[],this.originx=[],this.originy=[],this.scale=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.font=0,e.prototype.size=0,e.prototype.color=0,e.prototype.matrix=$util.emptyArray,e.prototype.originx=$util.emptyArray,e.prototype.originy=$util.emptyArray,e.prototype.scale=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.TextLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.text=e.string();break;case 2:n.font=e.uint32();break;case 3:n.size=e.float();break;case 4:n.color=e.uint32();break;case 5:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 6:if(n.originx&&n.originx.length||(n.originx=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.originx.push(e.float());else n.originx.push(e.float());break;case 7:if(n.originy&&n.originy.length||(n.originy=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.originy.push(e.float());else n.originy.push(e.float());break;case 8:if(n.scale&&n.scale.length||(n.scale=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.scale.push(e.float());else n.scale.push(e.float());break;default:e.skipType(7&o)}}return n},e}(),layers.RectLayer=function(){function e(e){if(this.box=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.box=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.RectLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.box&&n.box.length||(n.box=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.box.push(e.float());else n.box.push(e.float());break;default:e.skipType(7&o)}}return n},e}(),layers.LineLayer=function(){function e(e){if(this.coord=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.color=0,e.prototype.blend=0,e.prototype.coord=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.LineLayer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.color=e.uint32();break;case 2:n.blend=e.int32();break;case 3:if(n.coord&&n.coord.length||(n.coord=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.coord.push(e.float());else n.coord.push(e.float());break;default:e.skipType(7&o)}}return n},e}(),layers.Font=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=$util.newBuffer([]),e.prototype.weight=0,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Font;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.bytes();break;case 2:n.weight=e.uint32();break;default:e.skipType(7&o)}}return n},e}(),layers.Image=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.resource=$util.newBuffer([]),e.prototype.width=0,e.prototype.height=0,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Image;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.resource=e.bytes();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;default:e.skipType(7&o)}}return n},e}(),layers.Layer=function(){function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}var t;return e.prototype.image=null,e.prototype.text=null,e.prototype.rect=null,e.prototype.line=null,Object.defineProperty(e.prototype,"kind",{get:$util.oneOfGetter(t=["image","text","rect","line"]),set:$util.oneOfSetter(t)}),e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Layer;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.image=$root.layers.ImageLayer.decode(e,e.uint32());break;case 2:n.text=$root.layers.TextLayer.decode(e,e.uint32());break;case 3:n.rect=$root.layers.RectLayer.decode(e,e.uint32());break;case 4:n.line=$root.layers.LineLayer.decode(e,e.uint32());break;default:e.skipType(7&o)}}return n},e}(),layers.Page=function(){function e(e){if(this.layer=[],this.font=[],this.image=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=0,e.prototype.version=0,e.prototype.build="",e.prototype.width=0,e.prototype.height=0,e.prototype.usable=!1,e.prototype.rmse=0,e.prototype.fallback="",e.prototype.layer=$util.emptyArray,e.prototype.font=$util.emptyArray,e.prototype.image=$util.emptyArray,e.decode=function(e,t){e instanceof $Reader||(e=$Reader.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root.layers.Page;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.page=e.uint32();break;case 2:n.version=e.uint32();break;case 3:n.build=e.string();break;case 4:n.width=e.uint32();break;case 5:n.height=e.uint32();break;case 6:n.usable=e.bool();break;case 7:n.rmse=e.float();break;case 8:n.fallback=e.string();break;case 9:n.layer&&n.layer.length||(n.layer=[]),n.layer.push($root.layers.Layer.decode(e,e.uint32()));break;case 10:n.font&&n.font.length||(n.font=[]),n.font.push($root.layers.Font.decode(e,e.uint32()));break;case 11:n.image&&n.image.length||(n.image=[]),n.image.push($root.layers.Image.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e}(),layers);var layersProto=$root;function xhrSupportsResponseTypeArrayBuffer(){var e=new XMLHttpRequest;if("string"==typeof e.responseType)try{return e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return!1}return!1}function decodeAsync(e){var t=new Uint8Array(e.length);return new Promise((function(r){setTimeout((function(){return function n(o){for(var i=Math.min(t.length,o+1e4),a=o;a<i;a++)t[a]=255&e.charCodeAt(a);i<t.length?setTimeout((function(){return n(i)}),0):r(t)}(0)}),0)}))}function loadBinaryFallback(e,t){return new Promise((function(r,n){var o=new XMLHttpRequest;if(o.open("GET",e,!0),o.withCredentials=t,!o.overrideMimeType)return n("cannot load binary files");o.overrideMimeType("text/plain; charset=x-user-defined"),o.onreadystatechange=function(){if(4===o.readyState)return 200===o.status?r(o.responseText):n()},o.send()})).then(decodeAsync)}function loadBinaryBuffer(e,t){return new Promise((function(r,n){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.withCredentials=t,o.onload=function(){var e=o.response;return e?r(new Uint8Array(e)):n()},o.onerror=function(){return n()},o.send()}))}var loadBinary=xhrSupportsResponseTypeArrayBuffer()?loadBinaryBuffer:loadBinaryFallback;function base64$1(e){for(var t=[],r=0;r<e.length;r+=32768)t.push(String.fromCharCode.apply(null,e.subarray(r,r+32768)));return btoa(t.join(""))}function blendTypeToString(e){switch(e){case layersProto.layers.BlendType.Normal:return"source-over";case layersProto.layers.BlendType.Multiply:return"multiply";case layersProto.layers.BlendType.Screen:return"screen";case layersProto.layers.BlendType.Overlay:case layersProto.layers.BlendType.Darken:return"overlay";case layersProto.layers.BlendType.Lighten:return"lighten";case layersProto.layers.BlendType.Colordodge:return"color-dodge";case layersProto.layers.BlendType.Colorburn:return"color-burn";case layersProto.layers.BlendType.Hardlight:return"hard-light";case layersProto.layers.BlendType.Softlight:return"soft-light";case layersProto.layers.BlendType.Difference:return"difference";case layersProto.layers.BlendType.Exclusion:return"exclusion";case layersProto.layers.BlendType.Hue:return"hue";case layersProto.layers.BlendType.Saturation:return"saturation";case layersProto.layers.BlendType.Color:return"color";case layersProto.layers.BlendType.Luminosity:return"luminosity"}}function protoToColorArray(e){return[e>>16&255,e>>8&255,e>>0&255,(e>>24&255)/255]}function protoToLayer(e){switch(e.kind){case"image":return{type:"image",image:e.image.image,width:e.image.width,height:e.image.height};case"rect":return{type:"rect",box:e.rect.box,color:protoToColorArray(e.rect.color),blend:blendTypeToString(e.rect.blend)};case"line":return{type:"line",coords:e.line.coord,color:protoToColorArray(e.line.color),blend:blendTypeToString(e.line.blend)};case"text":return{type:"text",text:e.text.text,font:e.text.font,size:e.text.size,color:protoToColorArray(e.text.color),matrix:e.text.matrix,originx:e.text.originx,originy:e.text.originy,scale:e.text.scale}}}function loadLayersProto(e,t){return retry((function(){return loadBinary(e,t)}),3).then((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1],o=layersProto.layers.Page.decode(r);return[{layers:o.layer.map(protoToLayer),images:o.image.map((function(e){return{type:"embed",resource:base64$1(e.resource)}})),fonts:o.font.map((function(e){return{type:"embed",resource:base64$1(e.resource)}})),width:o.width,height:o.height,page:o.page,version:o.version,usable:o.usable},n]}))}function loadImageAsLayer(e){var t=e.url,r=e.pageNumber,n=e.width,o=e.height,i=e.loadStatsTracker;return i.onPageLoadStart(r,"image"),loadLayersImage(t,r,n,o).then((function(e){var t=_slicedToArray(e,2),n=t[0];return t[1]>1?i.onPageLoadSuccessAfterRetry(r,"image"):i.onPageLoadSuccess(r,"image"),n})).catch((function(e){return i.onPageLoadFailure(r,"image"),Promise.reject(e)}))}function loadLayersByVersion(e,t,r,n){var o=null;switch(r){case 1:o=loadLayersJson;break;case 2:o=loadLayersProto;break;default:return Promise.reject("Unknown version ".concat(r))}n.onPageLoadStart(t,"layers");return o(e,!1)}var fontfaceobserver_standalone=createCommonjsModule((function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function n(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,r=t+100;return e.f.style.width=r+"px",e.c.scrollLeft=r,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function i(e,r){function n(){var e=i;o(e)&&e.a.parentNode&&r(e.g)}var i=e;t(e.b,n),t(e.c,n),o(e)}function a(e,t){var r=t||{};this.family=e,this.style=r.style||"normal",this.weight=r.weight||"normal",this.stretch=r.stretch||"normal"}var s=null,u=null,c=null,l=null;function f(){return null===l&&(l=!!document.fonts),l}function p(){if(null===c){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}c=""!==e.style.font}return c}function d(e,t){return[e.style,e.weight,p()?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,t){var o=this,a=e||"BESbswy",c=0,l=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(f()&&!function(){if(null===u)if(f()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);u=!!e&&603>parseInt(e[1],10)}else u=!1;return u}()){var h=new Promise((function(e,t){!function r(){(new Date).getTime()-p>=l?t(Error(l+"ms timeout exceeded")):document.fonts.load(d(o,'"'+o.family+'"'),a).then((function(t){1<=t.length?e():setTimeout(r,25)}),t)}()})),v=new Promise((function(e,t){c=setTimeout((function(){t(Error(l+"ms timeout exceeded"))}),l)}));Promise.race([v,h]).then((function(){clearTimeout(c),e(o)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function u(){var t;(t=-1!=y&&-1!=m||-1!=y&&-1!=g||-1!=m&&-1!=g)&&((t=y!=m&&y!=g&&m!=g)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(y==_&&m==_&&g==_||y==b&&m==b&&g==b||y==w&&m==w&&g==w)),t=!t),t&&(E.parentNode&&E.parentNode.removeChild(E),clearTimeout(c),e(o))}var f=new r(a),h=new r(a),v=new r(a),y=-1,m=-1,g=-1,_=-1,b=-1,w=-1,E=document.createElement("div");E.dir="ltr",n(f,d(o,"sans-serif")),n(h,d(o,"serif")),n(v,d(o,"monospace")),E.appendChild(f.a),E.appendChild(h.a),E.appendChild(v.a),document.body.appendChild(E),_=f.a.offsetWidth,b=h.a.offsetWidth,w=v.a.offsetWidth,function e(){if((new Date).getTime()-p>=l)E.parentNode&&E.parentNode.removeChild(E),t(Error(l+"ms timeout exceeded"));else{var r=document.hidden;!0!==r&&void 0!==r||(y=f.a.offsetWidth,m=h.a.offsetWidth,g=v.a.offsetWidth,u()),c=setTimeout(e,50)}}(),i(f,(function(e){y=e,u()})),n(f,d(o,'"'+o.family+'",sans-serif')),i(h,(function(e){m=e,u()})),n(h,d(o,'"'+o.family+'",serif')),i(v,(function(e){g=e,u()})),n(v,d(o,'"'+o.family+'",monospace'))}))}))},e.exports=a}()})),FONT_LOAD_TIMEOUT_IN_MS=3e3,styleNode=document.createElement("style");styleNode.id="reader3-fonts",styleNode.type="text/css",document.head&&document.head.appendChild(styleNode);var fonts={};function fontLoadNative(e,t,r,n){var o=new FontFace(t,r,{});e.add(o);var i=e.load("12px ".concat(t)).then((function(e){if(0===e.length)throw new Error("Native font load failed");return o})),a=null,s=new Promise((function(e,t){a=setTimeout((function(){return t(new Error("Native font load timeout"))}),n)}));return Promise.race([i,s]).then((function(e){return a&&clearTimeout(a),e}),(function(e){return a&&clearTimeout(a),Promise.reject(e)}))}function fontLoadCompat(e,t,r,n){var o='@font-face { font-family: "'.concat(e,'"; src: ').concat(t,'; format("woff"); }');styleNode.appendChild(document.createTextNode(o));var i=new fontfaceobserver_standalone(e);if(r){var a=r.text.substring(0,8);return i.load(a,n).catch((function(e){var t=new Error('Compat font load failed: "'.concat(e,'"'));throw t.skipTracking=!0,t}))}return Promise.resolve(i)}function loadFont(e,t,r){if(fonts.hasOwnProperty(e))return fonts[e];var n=document.fonts;return fonts[e]=n?fontLoadNative(n,e,t,FONT_LOAD_TIMEOUT_IN_MS):fontLoadCompat(e,t,r,FONT_LOAD_TIMEOUT_IN_MS),fonts[e]}function getSymbols(e){for(var t=0,r=e.length,n=[];t<r-1;++t){var o=e.charCodeAt(t);o>=55296&&o<=56319&&(o=e.charCodeAt(t+1))>=56320&&o<=57343?(n.push(e.slice(t,t+2)),++t):n.push(e.charAt(t))}return n.push(e.charAt(t)),n}function getTimestamp(){try{return performance.now()}catch(e){return Date.now()}}var $Reader$1=minimal$1.Reader,$util$1=minimal$1.util,$root$1=minimal$1.roots.default||(minimal$1.roots.default={}),text;$root$1.text=(text={},text.TextBlock=function(){function e(e){if(this.matrix=[],this.char_offset=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.text="",e.prototype.height=0,e.prototype.matrix=$util$1.emptyArray,e.prototype.char_offset=$util$1.emptyArray,e.decode=function(e,t){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root$1.text.TextBlock;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.text=e.string();break;case 2:n.height=e.float();break;case 3:if(n.matrix&&n.matrix.length||(n.matrix=[]),2==(7&o))for(var i=e.uint32()+e.pos;e.pos<i;)n.matrix.push(e.float());else n.matrix.push(e.float());break;case 4:if(n.char_offset&&n.char_offset.length||(n.char_offset=[]),2==(7&o))for(i=e.uint32()+e.pos;e.pos<i;)n.char_offset.push(e.int32());else n.char_offset.push(e.int32());break;default:e.skipType(7&o)}}return n},e}(),text.Page=function(){function e(e){if(this.text_block=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page_number=0,e.prototype.width=0,e.prototype.height=0,e.prototype.text_block=$util$1.emptyArray,e.decode=function(e,t){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root$1.text.Page;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.page_number=e.uint32();break;case 2:n.width=e.uint32();break;case 3:n.height=e.uint32();break;case 4:n.text_block&&n.text_block.length||(n.text_block=[]),n.text_block.push($root$1.text.TextBlock.decode(e,e.uint32()));break;default:e.skipType(7&o)}}return n},e}(),text.Document=function(){function e(e){if(this.page=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.page=$util$1.emptyArray,e.prototype.build="",e.decode=function(e,t){e instanceof $Reader$1||(e=$Reader$1.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new $root$1.text.Document;e.pos<r;){var o=e.uint32();switch(o>>>3){case 1:n.page&&n.page.length||(n.page=[]),n.page.push($root$1.text.Page.decode(e,e.uint32()));break;case 2:n.build=e.string();break;default:e.skipType(7&o)}}return n},e}(),text);var textProto=$root$1,accent_map={"ẚ":"a","Á":"a","á":"a","À":"a","à":"a","Ă":"a","ă":"a","Ắ":"a","ắ":"a","Ằ":"a","ằ":"a","Ẵ":"a","ẵ":"a","Ẳ":"a","ẳ":"a","Â":"a","â":"a","Ấ":"a","ấ":"a","Ầ":"a","ầ":"a","Ẫ":"a","ẫ":"a","Ẩ":"a","ẩ":"a","Ǎ":"a","ǎ":"a","Å":"a","å":"a","Ǻ":"a","ǻ":"a","Ä":"a","ä":"a","Ǟ":"a","ǟ":"a","Ã":"a","ã":"a","Ȧ":"a","ȧ":"a","Ǡ":"a","ǡ":"a","Ą":"a","ą":"a","Ā":"a","ā":"a","Ả":"a","ả":"a","Ȁ":"a","ȁ":"a","Ȃ":"a","ȃ":"a","Ạ":"a","ạ":"a","Ặ":"a","ặ":"a","Ậ":"a","ậ":"a","Ḁ":"a","ḁ":"a","Ⱥ":"a","ⱥ":"a","Ǽ":"a","ǽ":"a","Ǣ":"a","ǣ":"a","Ḃ":"b","ḃ":"b","Ḅ":"b","ḅ":"b","Ḇ":"b","ḇ":"b","Ƀ":"b","ƀ":"b","ᵬ":"b","Ɓ":"b","ɓ":"b","Ƃ":"b","ƃ":"b","Ć":"c","ć":"c","Ĉ":"c","ĉ":"c","Č":"c","č":"c","Ċ":"c","ċ":"c","Ç":"c","ç":"c","Ḉ":"c","ḉ":"c","Ȼ":"c","ȼ":"c","Ƈ":"c","ƈ":"c","ɕ":"c","Ď":"d","ď":"d","Ḋ":"d","ḋ":"d","Ḑ":"d","ḑ":"d","Ḍ":"d","ḍ":"d","Ḓ":"d","ḓ":"d","Ḏ":"d","ḏ":"d","Đ":"d","đ":"d","ᵭ":"d","Ɖ":"d","ɖ":"d","Ɗ":"d","ɗ":"d","Ƌ":"d","ƌ":"d","ȡ":"d","ð":"d","É":"e","Ə":"e","Ǝ":"e","ǝ":"e","é":"e","È":"e","è":"e","Ĕ":"e","ĕ":"e","Ê":"e","ê":"e","Ế":"e","ế":"e","Ề":"e","ề":"e","Ễ":"e","ễ":"e","Ể":"e","ể":"e","Ě":"e","ě":"e","Ë":"e","ë":"e","Ẽ":"e","ẽ":"e","Ė":"e","ė":"e","Ȩ":"e","ȩ":"e","Ḝ":"e","ḝ":"e","Ę":"e","ę":"e","Ē":"e","ē":"e","Ḗ":"e","ḗ":"e","Ḕ":"e","ḕ":"e","Ẻ":"e","ẻ":"e","Ȅ":"e","ȅ":"e","Ȇ":"e","ȇ":"e","Ẹ":"e","ẹ":"e","Ệ":"e","ệ":"e","Ḙ":"e","ḙ":"e","Ḛ":"e","ḛ":"e","Ɇ":"e","ɇ":"e","ɚ":"e","ɝ":"e","Ḟ":"f","ḟ":"f","ᵮ":"f","Ƒ":"f","ƒ":"f","Ǵ":"g","ǵ":"g","Ğ":"g","ğ":"g","Ĝ":"g","ĝ":"g","Ǧ":"g","ǧ":"g","Ġ":"g","ġ":"g","Ģ":"g","ģ":"g","Ḡ":"g","ḡ":"g","Ǥ":"g","ǥ":"g","Ɠ":"g","ɠ":"g","Ĥ":"h","ĥ":"h","Ȟ":"h","ȟ":"h","Ḧ":"h","ḧ":"h","Ḣ":"h","ḣ":"h","Ḩ":"h","ḩ":"h","Ḥ":"h","ḥ":"h","Ḫ":"h","ḫ":"h",H:"h","ẖ":"h","Ħ":"h","ħ":"h","Ⱨ":"h","ⱨ":"h","Í":"i","í":"i","Ì":"i","ì":"i","Ĭ":"i","ĭ":"i","Î":"i","î":"i","Ǐ":"i","ǐ":"i","Ï":"i","ï":"i","Ḯ":"i","ḯ":"i","Ĩ":"i","ĩ":"i","İ":"i",i:"i","Į":"i","į":"i","Ī":"i","ī":"i","Ỉ":"i","ỉ":"i","Ȉ":"i","ȉ":"i","Ȋ":"i","ȋ":"i","Ị":"i","ị":"i","Ḭ":"i","ḭ":"i",I:"i","ı":"i","Ɨ":"i","ɨ":"i","Ĵ":"j","ĵ":"j",J:"j","ǰ":"j","ȷ":"j","Ɉ":"j","ɉ":"j","ʝ":"j","ɟ":"j","ʄ":"j","Ḱ":"k","ḱ":"k","Ǩ":"k","ǩ":"k","Ķ":"k","ķ":"k","Ḳ":"k","ḳ":"k","Ḵ":"k","ḵ":"k","Ƙ":"k","ƙ":"k","Ⱪ":"k","ⱪ":"k","Ĺ":"a","ĺ":"l","Ľ":"l","ľ":"l","Ļ":"l","ļ":"l","Ḷ":"l","ḷ":"l","Ḹ":"l","ḹ":"l","Ḽ":"l","ḽ":"l","Ḻ":"l","ḻ":"l","Ł":"l","ł":"l","Ŀ":"l","ŀ":"l","Ƚ":"l","ƚ":"l","Ⱡ":"l","ⱡ":"l","Ɫ":"l","ɫ":"l","ɬ":"l","ɭ":"l","ȴ":"l","Ḿ":"m","ḿ":"m","Ṁ":"m","ṁ":"m","Ṃ":"m","ṃ":"m","ɱ":"m","Ń":"n","ń":"n","Ǹ":"n","ǹ":"n","Ň":"n","ň":"n","Ñ":"n","ñ":"n","Ṅ":"n","ṅ":"n","Ņ":"n","ņ":"n","Ṇ":"n","ṇ":"n","Ṋ":"n","ṋ":"n","Ṉ":"n","ṉ":"n","Ɲ":"n","ɲ":"n","Ƞ":"n","ƞ":"n","ɳ":"n","ȵ":"n",N:"n",n:"n","Ó":"o","ó":"o","Ò":"o","ò":"o","Ŏ":"o","ŏ":"o","Ô":"o","ô":"o","Ố":"o","ố":"o","Ồ":"o","ồ":"o","Ỗ":"o","ỗ":"o","Ổ":"o","ổ":"o","Ǒ":"o","ǒ":"o","Ö":"o","ö":"o","Ȫ":"o","ȫ":"o","Ő":"o","ő":"o","Õ":"o","õ":"o","Ṍ":"o","ṍ":"o","Ṏ":"o","ṏ":"o","Ȭ":"o","ȭ":"o","Ȯ":"o","ȯ":"o","Ȱ":"o","ȱ":"o","Ø":"o","ø":"o","Ǿ":"o","ǿ":"o","Ǫ":"o","ǫ":"o","Ǭ":"o","ǭ":"o","Ō":"o","ō":"o","Ṓ":"o","ṓ":"o","Ṑ":"o","ṑ":"o","Ỏ":"o","ỏ":"o","Ȍ":"o","ȍ":"o","Ȏ":"o","ȏ":"o","Ơ":"o","ơ":"o","Ớ":"o","ớ":"o","Ờ":"o","ờ":"o","Ỡ":"o","ỡ":"o","Ở":"o","ở":"o","Ợ":"o","ợ":"o","Ọ":"o","ọ":"o","Ộ":"o","ộ":"o","Ɵ":"o","ɵ":"o","Ṕ":"p","ṕ":"p","Ṗ":"p","ṗ":"p","Ᵽ":"p","Ƥ":"p","ƥ":"p",p:"p","ʠ":"q","Ɋ":"q","ɋ":"q","Ŕ":"r","ŕ":"r","Ř":"r","ř":"r","Ṙ":"r","ṙ":"r","Ŗ":"r","ŗ":"r","Ȑ":"r","ȑ":"r","Ȓ":"r","ȓ":"r","Ṛ":"r","ṛ":"r","Ṝ":"r","ṝ":"r","Ṟ":"r","ṟ":"r","Ɍ":"r","ɍ":"r","ᵲ":"r","ɼ":"r","Ɽ":"r","ɽ":"r","ɾ":"r","ᵳ":"r","ß":"s","Ś":"s","ś":"s","Ṥ":"s","ṥ":"s","Ŝ":"s","ŝ":"s","Š":"s","š":"s","Ṧ":"s","ṧ":"s","Ṡ":"s","ṡ":"s","ẛ":"s","Ş":"s","ş":"s","Ṣ":"s","ṣ":"s","Ṩ":"s","ṩ":"s","Ș":"s","ș":"s","ʂ":"s",S:"s",s:"s","Þ":"t","þ":"t","Ť":"t","ť":"t",T:"t","ẗ":"t","Ṫ":"t","ṫ":"t","Ţ":"t","ţ":"t","Ṭ":"t","ṭ":"t","Ț":"t","ț":"t","Ṱ":"t","ṱ":"t","Ṯ":"t","ṯ":"t","Ŧ":"t","ŧ":"t","Ⱦ":"t","ⱦ":"t","ᵵ":"t","ƫ":"t","Ƭ":"t","ƭ":"t","Ʈ":"t","ʈ":"t","ȶ":"t","Ú":"u","ú":"u","Ù":"u","ù":"u","Ŭ":"u","ŭ":"u","Û":"u","û":"u","Ǔ":"u","ǔ":"u","Ů":"u","ů":"u","Ü":"u","ü":"u","Ǘ":"u","ǘ":"u","Ǜ":"u","ǜ":"u","Ǚ":"u","ǚ":"u","Ǖ":"u","ǖ":"u","Ű":"u","ű":"u","Ũ":"u","ũ":"u","Ṹ":"u","ṹ":"u","Ų":"u","ų":"u","Ū":"u","ū":"u","Ṻ":"u","ṻ":"u","Ủ":"u","ủ":"u","Ȕ":"u","ȕ":"u","Ȗ":"u","ȗ":"u","Ư":"u","ư":"u","Ứ":"u","ứ":"u","Ừ":"u","ừ":"u","Ữ":"u","ữ":"u","Ử":"u","ử":"u","Ự":"u","ự":"u","Ụ":"u","ụ":"u","Ṳ":"u","ṳ":"u","Ṷ":"u","ṷ":"u","Ṵ":"u","ṵ":"u","Ʉ":"u","ʉ":"u","Ṽ":"v","ṽ":"v","Ṿ":"v","ṿ":"v","Ʋ":"v","ʋ":"v","Ẃ":"w","ẃ":"w","Ẁ":"w","ẁ":"w","Ŵ":"w","ŵ":"w",W:"w","ẘ":"w","Ẅ":"w","ẅ":"w","Ẇ":"w","ẇ":"w","Ẉ":"w","ẉ":"w","Ẍ":"x","ẍ":"x","Ẋ":"x","ẋ":"x","Ý":"y","ý":"y","Ỳ":"y","ỳ":"y","Ŷ":"y","ŷ":"y",Y:"y","ẙ":"y","Ÿ":"y","ÿ":"y","Ỹ":"y","ỹ":"y","Ẏ":"y","ẏ":"y","Ȳ":"y","ȳ":"y","Ỷ":"y","ỷ":"y","Ỵ":"y","ỵ":"y","ʏ":"y","Ɏ":"y","ɏ":"y","Ƴ":"y","ƴ":"y","Ź":"z","ź":"z","Ẑ":"z","ẑ":"z","Ž":"z","ž":"z","Ż":"z","ż":"z","Ẓ":"z","ẓ":"z","Ẕ":"z","ẕ":"z","Ƶ":"z","ƶ":"z","Ȥ":"z","ȥ":"z","ʐ":"z","ʑ":"z","Ⱬ":"z","ⱬ":"z","Ǯ":"z","ǯ":"z","ƺ":"z","２":"2","６":"6","Ｂ":"B","Ｆ":"F","Ｊ":"J","Ｎ":"N","Ｒ":"R","Ｖ":"V","Ｚ":"Z","ｂ":"b","ｆ":"f","ｊ":"j","ｎ":"n","ｒ":"r","ｖ":"v","ｚ":"z","１":"1","５":"5","９":"9","Ａ":"A","Ｅ":"E","Ｉ":"I","Ｍ":"M","Ｑ":"Q","Ｕ":"U","Ｙ":"Y","ａ":"a","ｅ":"e","ｉ":"i","ｍ":"m","ｑ":"q","ｕ":"u","ｙ":"y","０":"0","４":"4","８":"8","Ｄ":"D","Ｈ":"H","Ｌ":"L","Ｐ":"P","Ｔ":"T","Ｘ":"X","ｄ":"d","ｈ":"h","ｌ":"l","ｐ":"p","ｔ":"t","ｘ":"x","３":"3","７":"7","Ｃ":"C","Ｇ":"G","Ｋ":"K","Ｏ":"O","Ｓ":"S","Ｗ":"W","ｃ":"c","ｇ":"g","ｋ":"k","ｏ":"o","ｓ":"s","ｗ":"w"};function accentFold(e){return e in accent_map?accent_map[e]:e}function filterAccents(e){return e.split("").map((function(e){return accentFold(e)})).join("")}function filterAccentsInData(e){return{page:e.page.map((function(e){var t=e.height,r=e.page_number,n=e.text_block;return{height:t,page_number:r,width:e.width,text_block:n.map((function(e){return{char_offset:e.char_offset,height:e.height,matrix:e.matrix,text:filterAccents(e.text)}}))}}))}}function parseFindData(e){return{pages:filterAccentsInData(e).page.map((function(e){return{pageNumber:e.page_number,textBlocks:(e.text_block||[]).map((function(e){var t=e.char_offset.reduce((function(e,t){return e.push((e[e.length-1]||0)+t),e}),[]);return t.push(t[t.length-1]),{text:"".concat(e.text,"\n"),height:e.height,matrix:e.matrix,charOffsets:t}})),text:(e.text_block||[]).reduce((function(e,t){return"".concat(e).concat(t.text,"\n")}),""),width:e.width,height:e.height}}))}}function loadFindData(e){return(e.match(/\.json(?:\?.*)$/)?loadJson(e,!1).then((function(e){return e})):loadBinary(e,!1).then((function(e){return textProto.text.Document.decode(e)}))).then(parseFindData)}var CanvasPool={_pool:[],get:function(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release:function(e){this._pool.push(e)}};function preRenderInOffscreenCanvasWhenNeeded(e,t,r){return new Promise((function(n){if(!("requestIdleCallback"in window))return n();var o=parseInt(e.replace(/^f\d+_/,""),10),i=[];r.forEach((function(e){"text"===e.type&&e.font===o&&i.push.apply(i,_toConsumableArray(getSymbols(e.text)))}));var a=Array.from(new Set(i.join("")));if(0===a.length)return n();if(t/a.length<=3e3)return n();var s=CanvasPool.get(),u=s.getContext("2d");if(!u)return CanvasPool.release(s),n();u.font='10px "'.concat(e,'"'),window.requestIdleCallback((function e(){var t=getTimestamp();do{var r=a.shift();u.fillText(r,0,0)}while(getTimestamp()-t<100&&a.length>0);a.length>0?window.requestIdleCallback(e):(CanvasPool.release(s),n())}))}))}function hydrateLayers(e,t,r,n){var o=e.images.map((function(e){var r;switch(n.onImageDecodeStart(e),e.type){case"embed":r="data:image/jpeg;base64,".concat(e.resource);break;case"file":r="".concat(t,"/").concat(e.resource);break;default:throw new Error("cannot process image resource with type ".concat(e.type))}return loadImage(r).then((function(t){return n.onImageDecodeEnd(e),t}))})),i=e.fonts.map((function(r,o){var i,a="f".concat(e.page,"_").concat(o);switch(n.onFontLoadStart(a),r.type){case"embed":i="url(data:application/x-font-woff;charset=utf-8;base64,".concat(r.resource,")");break;case"file":i="url(".concat(t,"/").concat(r.resource,")");break;default:throw new Error("cannot process font resource with type ".concat(r.type))}var s=e.layers.find((function(e){return"text"===e.type&&e.font===o&&e.text.trim().length>0}));return loadFont(a,i,s).then((function(){return n.onFontLoadEnd(a),preRenderInOffscreenCanvasWhenNeeded(a,r.resource.length,e.layers)}))}));return Promise.all([Promise.all(o),Promise.all(i)]).then((function(t){return{layers:e.layers,images:t[0],fonts:e.fonts.map((function(e){return{type:e.type,weight:e.weight}})),width:e.width,height:e.height,page:e.page,version:e.version,usable:e.usable}}))}function loadLayers(e){var t=e.url,r=e.pageNumber,n=e.version,o=e.loadStatsTracker;return loadLayersByVersion(t,r,n,o).then((function(e){var n=_slicedToArray(e,2),i=n[0],a=n[1];return hydrateLayers(i,t.split("?",2)[0].split("/").slice(0,-1).join("/"),r,o).then((function(e){return a>1?o.onPageLoadSuccessAfterRetry(r,"layers"):o.onPageLoadSuccess(r,"layers"),e})).catch((function(e){return o.onPageLoadFailure(r,"layers"),Promise.reject(e)}))}))}var _reEscape=/[-/\\^$*+?.()|[\]{}]/,_reNonBlank=/\S/;function computeSearchRegexp(e){for(var t="",r=e.length,n=0;n<r;n++){var o=e[n];o.match(_reNonBlank)?(t+=o.replace(_reEscape,"\\$&"),t+="\n?"):t+=" "}return t=t.replace(/[ ]+/g,"\\s+"),new RegExp(t,"mig")}function sliceTextBlocks(e,t,r){for(var n=[],o=0;o<r.length;o++){var i=r[o].text.length;if(n.length||e<i?n.push(r[o]):e-=i,n.length&&t<=i)return{start:e,end:t,blocks:n};t-=i}throw new Error("index out of range")}function getResultFromIndex(e,t,r){var n=sliceTextBlocks(e,e+t,r),o=n.start,i=n.end,a=n.blocks;return a.map((function(e,t){var r=0===t?o:0,n=t===a.length-1?i:e.charOffsets.length-1,s=e.charOffsets[r];return{x:s,y:0,width:e.charOffsets[n]-s,height:e.height,matrix:e.matrix}}))}function find(e,t){var r=[];if(!(e=e.trim()).length)return r;var n,o=computeSearchRegexp(e=filterAccents(e)),i=_createForOfIteratorHelper(t.pages);try{for(i.s();!(n=i.n()).done;)for(var a=n.value,s=o.exec(a.text);s;s=o.exec(a.text))r.push({pageNo:a.pageNumber,result:getResultFromIndex(s.index,s[0].length,a.textBlocks)})}catch(e){i.e(e)}finally{i.f()}return r}function highlight(e,t,r){e.save(),e.fillStyle="rgba(0,255,0,0.3)";var n,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=e.canvas.width/r.width,s=e.canvas.height/r.height;e.setTransform(a,0,0,s,0,0),e.transform(i.matrix[0],i.matrix[1],i.matrix[2],i.matrix[3],i.matrix[4],i.matrix[5]),e.fillRect(i.x,i.y,i.width,i.height)}}catch(e){o.e(e)}finally{o.f()}return e.restore(),t}var NEVER_USE_TWOPASS=/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent);function color(e){return"rgba(".concat(e.join(),")")}var twoPassCanvas=null;function renderLayers(e,t,r){var n,o,i,a,s,u,c=arguments;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return n=c.length>3&&void 0!==c[3]&&c[3],void(l.next=3);case 3:o=l.sent,i=getTimestamp(),a=_createForOfIteratorHelper(r.layers),l.prev=6,u=regeneratorRuntime.mark((function a(){var u,c,l,f,p,d,h,v,y;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(u=s.value,!isNaN(o)){a.next=3;break}return a.abrupt("return","break");case 3:if("image"!==(c=u).type){a.next=33;break}if(l=r.images[c.image],a.prev=6,!(t[0]<2||t[3]<2)||NEVER_USE_TWOPASS||n){a.next=22;break}if(twoPassCanvas||(twoPassCanvas=document.createElement("canvas")),twoPassCanvas.width=2*e.canvas.width,twoPassCanvas.height=2*e.canvas.height,twoPassCanvas.id="reader3-twopass-canvas-".concat(twoPassCanvas.width,"x").concat(twoPassCanvas.height),f=twoPassCanvas.getContext("2d")){a.next=16;break}throw new Error("could not get canvas for twopass scaling");case 16:f.setTransform(2*t[0],2*t[1],2*t[2],2*t[3],2*t[4],2*t[5]),f.drawImage(l,0,0,c.width,c.height),e.setTransform(1,0,0,1,0,0),e.drawImage(twoPassCanvas,0,0,twoPassCanvas.width,twoPassCanvas.height,0,0,e.canvas.width,e.canvas.height),a.next=24;break;case 22:e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.drawImage(l,0,0,c.width,c.height);case 24:a.next=31;break;case 26:throw a.prev=26,a.t0=a.catch(6),p={has_image:!!l,image_width:l&&l.width,image_height:l&&l.height,dst_width:c.width,dst_height:c.height,canvas_width:e.canvas.width,canvas_height:e.canvas.height},a.t0.sentry_extra=Object.assign({textRender:p},a.t0.sentry_extra),a.t0;case 31:a.next=34;break;case 33:"text"===c.type?(d=100*Math.ceil(r.fonts[c.font].weight/100)||400,e.font="".concat(d," ").concat(c.size,'px "f').concat(r.page,"_").concat(c.font,'"'),e.fillStyle=color(c.color),e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(c.matrix[0],c.matrix[1],c.matrix[2],c.matrix[3],c.matrix[4],c.matrix[5]),h=c.scale.some((function(e){return 1!==e})),getSymbols(c.text).forEach((function(r,n){var o=c.originx[n],i=c.originy[n],a=c.scale[n];h&&(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.transform(c.matrix[0]*a,c.matrix[1]*a,c.matrix[2],c.matrix[3],c.matrix[4],c.matrix[5])),e.fillText(r,o/a,i)}))):"rect"===c.type?(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.fillStyle=color(c.color),v=e.globalCompositeOperation,e.globalCompositeOperation=c.blend,e.fillRect(c.box[0],c.box[1],c.box[2],c.box[3]),e.globalCompositeOperation=v):"line"===c.type&&(e.setTransform(t[0],t[1],t[2],t[3],t[4],t[5]),e.strokeStyle=color(c.color),e.lineWidth=1,y=e.globalCompositeOperation,e.globalCompositeOperation=c.blend,e.beginPath(),e.moveTo(c.coords[0],c.coords[1]),e.lineTo(c.coords[2],c.coords[3]),e.stroke(),e.globalCompositeOperation=y);case 34:if(!(getTimestamp()-i>o)){a.next=39;break}return void(a.next=37);case 37:o=a.sent,i=getTimestamp();case 39:case"end":return a.stop()}}),a,null,[[6,26]])})),a.s();case 9:if((s=a.n()).done){l.next=16;break}return l.delegateYield(u(),"t0",11);case 11:if("break"!==l.t0){l.next=14;break}return l.abrupt("break",16);case 14:l.next=9;break;case 16:l.next=21;break;case 18:l.prev=18,l.t1=l.catch(6),a.e(l.t1);case 21:return l.prev=21,a.f(),l.finish(21);case 24:case"end":return l.stop()}}),_marked,null,[[6,18,21,24]])}}).call(this,__webpack_require__(50))},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(205),o=r(8),i=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e])||i(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},function(e,t,r){var n=r(206),o=r(167).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},function(e,t){e.exports=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e}},function(e,t,r){var n,o=r(27),i=r(214),a=r(167),s=r(123),u=r(210),c=r(162),l=r(147),f=l("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"<\/script>"},h=function(){try{n=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=n?function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t}(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F);for(var r=a.length;r--;)delete h.prototype[a[r]];return h()};s[f]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(p.prototype=o(e),r=new p,p.prototype=null,r[f]=e):r=h(),void 0===t?r:i(r,t)}},function(e,t,r){"use strict";e.exports=c;var n=r(114);((c.prototype=Object.create(n.prototype)).constructor=c).className="Field";var o,i=r(77),a=r(115),s=r(33),u=/^required|optional|repeated$/;function c(e,t,r,o,i,c,l){if(s.isObject(o)?(l=i,c=o,o=i=void 0):s.isObject(i)&&(l=c,c=i,i=void 0),n.call(this,e,c),!s.isInteger(t)||t<0)throw TypeError("id must be a non-negative integer");if(!s.isString(r))throw TypeError("type must be a string");if(void 0!==o&&!u.test(o=o.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==i&&!s.isString(i))throw TypeError("extend must be a string");this.rule=o&&"optional"!==o?o:void 0,this.type=r,this.id=t,this.extend=i||void 0,this.required="required"===o,this.optional=!this.required,this.repeated="repeated"===o,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!s.Long&&void 0!==a.long[r],this.bytes="bytes"===r,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this._packed=null,this.comment=l}c.fromJSON=function(e,t){return new c(e,t.id,t.type,t.rule,t.extend,t.options,t.comment)},Object.defineProperty(c.prototype,"packed",{get:function(){return null===this._packed&&(this._packed=!1!==this.getOption("packed")),this._packed}}),c.prototype.setOption=function(e,t,r){return"packed"===e&&(this._packed=null),n.prototype.setOption.call(this,e,t,r)},c.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return s.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},c.prototype.resolve=function(){if(this.resolved)return this;if(void 0===(this.typeDefault=a.defaults[this.type])&&(this.resolvedType=(this.declaringField?this.declaringField.parent:this.parent).lookupTypeOrEnum(this.type),this.resolvedType instanceof o?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof i&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault])),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof i)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long)this.typeDefault=s.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault);else if(this.bytes&&"string"==typeof this.typeDefault){var e;s.base64.test(this.typeDefault)?s.base64.decode(this.typeDefault,e=s.newBuffer(s.base64.length(this.typeDefault)),0):s.utf8.write(this.typeDefault,e=s.newBuffer(s.utf8.length(this.typeDefault)),0),this.typeDefault=e}return this.map?this.defaultValue=s.emptyObject:this.repeated?this.defaultValue=s.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof o&&(this.parent.ctor.prototype[this.name]=this.defaultValue),n.prototype.resolve.call(this)},c.d=function(e,t,r,n){return"function"==typeof t?t=s.decorateType(t).name:t&&"object"==typeof t&&(t=s.decorateEnum(t).name),function(o,i){s.decorateType(o.constructor).add(new c(i,e,t,r,{default:n}))}},c._configure=function(e){o=e}},function(e,t,r){var n=r(5),o=r(244);n({target:"Array",stat:!0,forced:!r(153)((function(e){Array.from(e)}))},{from:o})},function(e,t,r){"use strict";var n=r(249),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var e={};try{for(var t in s(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),c=function(e,t,r,n){var o;(!(t in e)||"function"==typeof(o=n)&&"[object Function]"===i.call(o)&&n())&&(u?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},l=function(e,t){var r=arguments.length>2?arguments[2]:{},i=n(t);o&&(i=a.call(i,Object.getOwnPropertySymbols(t)));for(var s=0;s<i.length;s+=1)c(e,i[s],t[i[s]],r[i[s]])};l.supportsDescriptors=!!u,e.exports=l},function(e,t,r){var n;
/*!
 * jsUri
 * https://github.com/derek-watson/jsUri
 *
 * Copyright 2013, Derek Watson
 * Released under the MIT license.
 *
 * Includes parseUri regular expressions
 * http://blog.stevenlevithan.com/archives/parseuri
 * Copyright 2007, Steven Levithan
 * Released under the MIT license.
 */!function(o){var i={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*)(?::([^:@]*))?)?@)?(\[[0-9a-fA-F:.]+\]|[^:\/?#]*)(?::(\d+|(?=:)))?(:)?)((((?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};function a(e){return e&&(e=e.toString().replace(i.pluses,"%20"),e=decodeURIComponent(e)),e}function s(e){var t,r,n,o,s,u,c,l=[];if(null==e||""===e)return l;for(0===e.indexOf("?")&&(e=e.substring(1)),t=0,c=(r=e.toString().split(i.query_separator)).length;t<c;t++)0!==(o=(n=r[t]).indexOf("="))&&(s=a(n.substring(0,o)),u=a(n.substring(o+1)),l.push(-1===o?[n,null]:[s,u]));return l}function u(e){this.uriParts=function(e){var t=i.uri_parser.exec(e||""),r={};return["source","protocol","authority","userInfo","user","password","host","port","isColonUri","relative","path","directory","file","query","anchor"].forEach((function(e,n){r[e]=t[n]||""})),r}(e),this.queryPairs=s(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var r,n;if(null==this)throw new TypeError(" this is null or not defined");var o=Object(this),i=o.length>>>0;if("function"!=typeof e)throw new TypeError(e+" is not a function");for(arguments.length>1&&(r=t),n=0;n<i;){var a;n in o&&(a=o[n],e.call(r,a,n,o)),n++}}),["protocol","userInfo","host","port","path","anchor"].forEach((function(e){u.prototype[e]=function(t){return void 0!==t&&(this.uriParts[e]=t),this.uriParts[e]}})),u.prototype.hasAuthorityPrefix=function(e){return void 0!==e&&(this.hasAuthorityPrefixUserPref=e),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},u.prototype.isColonUri=function(e){if(void 0===e)return!!this.uriParts.isColonUri;this.uriParts.isColonUri=!!e},u.prototype.query=function(e){var t,r,n,o="";for(void 0!==e&&(this.queryPairs=s(e)),t=0,n=this.queryPairs.length;t<n;t++)r=this.queryPairs[t],o.length>0&&(o+="&"),null===r[1]?o+=r[0]:(o+=r[0],o+="=",void 0!==r[1]&&(o+=encodeURIComponent(r[1])));return o.length>0?"?"+o:o},u.prototype.getQueryParamValue=function(e){var t,r,n;for(r=0,n=this.queryPairs.length;r<n;r++)if(e===(t=this.queryPairs[r])[0])return t[1]},u.prototype.getQueryParamValues=function(e){var t,r,n,o=[];for(t=0,n=this.queryPairs.length;t<n;t++)e===(r=this.queryPairs[t])[0]&&o.push(r[1]);return o},u.prototype.deleteQueryParam=function(e,t){var r,n,o,i,s,u=[];for(r=0,s=this.queryPairs.length;r<s;r++)o=a((n=this.queryPairs[r])[0])===a(e),i=n[1]===t,(1!==arguments.length||o)&&(2!==arguments.length||o&&i)||u.push(n);return this.queryPairs=u,this},u.prototype.addQueryParam=function(e,t,r){return 3===arguments.length&&-1!==r?(r=Math.min(r,this.queryPairs.length),this.queryPairs.splice(r,0,[e,t])):arguments.length>0&&this.queryPairs.push([e,t]),this},u.prototype.hasQueryParam=function(e){var t,r=this.queryPairs.length;for(t=0;t<r;t++)if(this.queryPairs[t][0]==e)return!0;return!1},u.prototype.replaceQueryParam=function(e,t,r){var n,o,i=-1,s=this.queryPairs.length;if(3===arguments.length){for(n=0;n<s;n++)if(a((o=this.queryPairs[n])[0])===a(e)&&decodeURIComponent(o[1])===a(r)){i=n;break}i>=0&&this.deleteQueryParam(e,a(r)).addQueryParam(e,t,i)}else{for(n=0;n<s;n++)if(a((o=this.queryPairs[n])[0])===a(e)){i=n;break}this.deleteQueryParam(e),this.addQueryParam(e,t,i)}return this},["protocol","hasAuthorityPrefix","isColonUri","userInfo","host","port","path","query","anchor"].forEach((function(e){var t="set"+e.charAt(0).toUpperCase()+e.slice(1);u.prototype[t]=function(t){return this[e](t),this}})),u.prototype.scheme=function(){var e="";return this.protocol()?(e+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(e+=":"),e+="//"):this.hasAuthorityPrefix()&&this.host()&&(e+="//"),e},u.prototype.origin=function(){var e=this.scheme();return this.userInfo()&&this.host()&&(e+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(e+="@")),this.host()&&(e+=this.host(),(this.port()||this.path()&&this.path().substr(0,1).match(/[0-9]/))&&(e+=":"+this.port())),e},u.prototype.addTrailingSlash=function(){var e=this.path()||"";return"/"!==e.substr(-1)&&this.path(e+"/"),this},u.prototype.toString=function(){var e,t=this.origin();return this.isColonUri()?this.path()&&(t+=":"+this.path()):this.path()?(e=this.path(),i.ends_with_slashes.test(t)||i.starts_with_slashes.test(e)?(t&&t.replace(i.ends_with_slashes,"/"),e=e.replace(i.starts_with_slashes,"/")):t+="/",t+=e):this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},u.prototype.clone=function(){return new u(this.toString())},void 0===(n=function(){return u}.call(t,r,t,e))||(e.exports=n)}()},function(e,t,r){var n=r(249),o=r(359),i=r(363),a=r(365),s=r(366),u=r(255),c=Date.prototype.getTime;function l(e,t,r){var d=r||{};return!!(d.strict?i(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?d.strict?i(e,t):e==t:function(e,t,r){var i,d;if(typeof e!=typeof t)return!1;if(f(e)||f(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e)!==o(t))return!1;var h=a(e),v=a(t);if(h!==v)return!1;if(h||v)return e.source===t.source&&s(e)===s(t);if(u(e)&&u(t))return c.call(e)===c.call(t);var y=p(e),m=p(t);if(y!==m)return!1;if(y||m){if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}if(typeof e!=typeof t)return!1;try{var g=n(e),_=n(t)}catch(e){return!1}if(g.length!==_.length)return!1;for(g.sort(),_.sort(),i=g.length-1;i>=0;i--)if(g[i]!=_[i])return!1;for(i=g.length-1;i>=0;i--)if(d=g[i],!l(e[d],t[d],r))return!1;return!0}(e,t,d))}function f(e){return null==e}function p(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}e.exports=l},function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return s}));var n=r(20);function o(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function i(e,t){var r=e,n=r.length;if(n<=150)return r;t>n&&(t=n);var o=Math.max(t-60,0);o<5&&(o=0);var i=Math.min(o+140,n);return i>n-5&&(i=n),i===n&&(o=Math.max(i-140,0)),r=r.slice(o,i),o>0&&(r="'{snip} "+r),i<n&&(r+=" {snip}"),r}function a(e,t){if(!Array.isArray(e))return"";for(var r=[],n=0;n<e.length;n++){var o=e[n];try{r.push(String(o))}catch(e){r.push("[value cannot be serialized]")}}return r.join(t)}function s(e,t){return!!Object(n.k)(e)&&(Object(n.j)(t)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}},function(e,t,r){var n=r(21);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(52),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},function(e,t,r){var n=r(27),o=r(129),i=r(10)("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||null==(r=n(a)[i])?t:o(r)}},function(e,t,r){var n=r(10),o=r(98),i=r(28),a=n("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,r){"use strict";var n=r(6);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},function(e,t,r){"use strict";var n=r(5),o=r(8),i=r(95),a=r(87),s=r(25),u=r(169),c=r(207),l=r(6),f=r(26),p=r(126),d=r(21),h=r(27),v=r(34),y=r(51),m=r(105),g=r(93),_=r(98),b=r(132),w=r(96),E=r(219),O=r(168),T=r(86),x=r(28),k=r(146),S=r(43),P=r(40),C=r(166),A=r(147),R=r(123),j=r(122),I=r(10),D=r(220),M=r(221),L=r(88),N=r(48),B=r(37).forEach,F=A("hidden"),U=I("toPrimitive"),W=N.set,z=N.getterFor("Symbol"),H=Object.prototype,V=o.Symbol,G=i("JSON","stringify"),q=T.f,$=x.f,K=E.f,Y=k.f,X=C("symbols"),Z=C("op-symbols"),J=C("string-to-symbol-registry"),Q=C("symbol-to-string-registry"),ee=C("wks"),te=o.QObject,re=!te||!te.prototype||!te.prototype.findChild,ne=s&&l((function(){return 7!=_($({},"a",{get:function(){return $(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=q(H,t);n&&delete H[t],$(e,t,r),n&&e!==H&&$(H,t,n)}:$,oe=function(e,t){var r=X[e]=_(V.prototype);return W(r,{type:"Symbol",tag:e,description:t}),s||(r.description=t),r},ie=c?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof V},ae=function(e,t,r){e===H&&ae(Z,t,r),h(e);var n=m(t,!0);return h(r),f(X,n)?(r.enumerable?(f(e,F)&&e[F][n]&&(e[F][n]=!1),r=_(r,{enumerable:g(0,!1)})):(f(e,F)||$(e,F,g(1,{})),e[F][n]=!0),ne(e,n,r)):$(e,n,r)},se=function(e,t){h(e);var r=y(t),n=b(r).concat(fe(r));return B(n,(function(t){s&&!ue.call(r,t)||ae(e,t,r[t])})),e},ue=function(e){var t=m(e,!0),r=Y.call(this,t);return!(this===H&&f(X,t)&&!f(Z,t))&&(!(r||!f(this,t)||!f(X,t)||f(this,F)&&this[F][t])||r)},ce=function(e,t){var r=y(e),n=m(t,!0);if(r!==H||!f(X,n)||f(Z,n)){var o=q(r,n);return!o||!f(X,n)||f(r,F)&&r[F][n]||(o.enumerable=!0),o}},le=function(e){var t=K(y(e)),r=[];return B(t,(function(e){f(X,e)||f(R,e)||r.push(e)})),r},fe=function(e){var t=e===H,r=K(t?Z:y(e)),n=[];return B(r,(function(e){!f(X,e)||t&&!f(H,e)||n.push(X[e])})),n};(u||(P((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=j(e),r=function(e){this===H&&r.call(Z,e),f(this,F)&&f(this[F],t)&&(this[F][t]=!1),ne(this,t,g(1,e))};return s&&re&&ne(H,t,{configurable:!0,set:r}),oe(t,e)}).prototype,"toString",(function(){return z(this).tag})),P(V,"withoutSetter",(function(e){return oe(j(e),e)})),k.f=ue,x.f=ae,T.f=ce,w.f=E.f=le,O.f=fe,D.f=function(e){return oe(I(e),e)},s&&($(V.prototype,"description",{configurable:!0,get:function(){return z(this).description}}),a||P(H,"propertyIsEnumerable",ue,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:V}),B(b(ee),(function(e){M(e)})),n({target:"Symbol",stat:!0,forced:!u},{for:function(e){var t=String(e);if(f(J,t))return J[t];var r=V(t);return J[t]=r,Q[r]=t,r},keyFor:function(e){if(!ie(e))throw TypeError(e+" is not a symbol");if(f(Q,e))return Q[e]},useSetter:function(){re=!0},useSimple:function(){re=!1}}),n({target:"Object",stat:!0,forced:!u,sham:!s},{create:function(e,t){return void 0===t?_(e):se(_(e),t)},defineProperty:ae,defineProperties:se,getOwnPropertyDescriptor:ce}),n({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:le,getOwnPropertySymbols:fe}),n({target:"Object",stat:!0,forced:l((function(){O.f(1)}))},{getOwnPropertySymbols:function(e){return O.f(v(e))}}),G)&&n({target:"JSON",stat:!0,forced:!u||l((function(){var e=V();return"[null]"!=G([e])||"{}"!=G({a:e})||"{}"!=G(Object(e))}))},{stringify:function(e,t,r){for(var n,o=[e],i=1;arguments.length>i;)o.push(arguments[i++]);if(n=t,(d(t)||void 0!==e)&&!ie(e))return p(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ie(t))return t}),o[1]=t,G.apply(null,o)}});V.prototype[U]||S(V.prototype,U,V.prototype.valueOf),L(V,"Symbol"),R[F]=!0},function(e,t,r){"use strict";var n=r(5),o=r(25),i=r(8),a=r(26),s=r(21),u=r(28).f,c=r(204),l=i.Symbol;if(o&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof p?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t};c(p,l);var d=p.prototype=l.prototype;d.constructor=p;var h=d.toString,v="Symbol(test)"==String(l("test")),y=/^Symbol\((.*)\)[^)]+$/;u(d,"description",{configurable:!0,get:function(){var e=s(this)?this.valueOf():this,t=h.call(e);if(a(f,e))return"";var r=v?t.slice(7,-1):t.replace(y,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:p})}},function(e,t,r){var n=r(5),o=r(6),i=r(34),a=r(136),s=r(222);n({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return x()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=b(a,r);if(s){if(s===l)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=c(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function c(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function d(){}var h={};h[o]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(T([])));y&&y!==t&&r.call(y,o)&&(h=y);var m=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,s){var u=c(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=c(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function T(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return p.prototype=m.constructor=d,d.constructor=p,p.displayName=s(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,s(e,a,"GeneratorFunction")),e.prototype=Object.create(m),e},e.awrap=function(e){return{__await:e}},g(_.prototype),_.prototype[i]=function(){return this},e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(m),s(m,a,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=T,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:T(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,r){"use strict";e.exports=i,i.className="ReflectionObject";var n,o=r(33);function i(e,t){if(!o.isString(e))throw TypeError("name must be a string");if(t&&!o.isObject(t))throw TypeError("options must be an object");this.options=t,this.parsedOptions=null,this.name=e,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(i.prototype,{root:{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}},fullName:{get:function(){for(var e=[this.name],t=this.parent;t;)e.unshift(t.name),t=t.parent;return e.join(".")}}}),i.prototype.toJSON=function(){throw Error()},i.prototype.onAdd=function(e){this.parent&&this.parent!==e&&this.parent.remove(this),this.parent=e,this.resolved=!1;var t=e.root;t instanceof n&&t._handleAdd(this)},i.prototype.onRemove=function(e){var t=e.root;t instanceof n&&t._handleRemove(this),this.parent=null,this.resolved=!1},i.prototype.resolve=function(){return this.resolved||this.root instanceof n&&(this.resolved=!0),this},i.prototype.getOption=function(e){if(this.options)return this.options[e]},i.prototype.setOption=function(e,t,r){return r&&this.options&&void 0!==this.options[e]||((this.options||(this.options={}))[e]=t),this},i.prototype.setParsedOption=function(e,t,r){this.parsedOptions||(this.parsedOptions=[]);var n=this.parsedOptions;if(r){var i=n.find((function(t){return Object.prototype.hasOwnProperty.call(t,e)}));if(i){var a=i[e];o.setProperty(a,r,t)}else(i={})[e]=o.setProperty({},r,t),n.push(i)}else{var s={};s[e]=t,n.push(s)}return this},i.prototype.setOptions=function(e,t){if(e)for(var r=Object.keys(e),n=0;n<r.length;++n)this.setOption(r[n],e[r[n]],t);return this},i.prototype.toString=function(){var e=this.constructor.className,t=this.fullName;return t.length?e+" "+t:e},i._configure=function(e){n=e}},function(e,t,r){"use strict";var n=t,o=r(33),i=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function a(e,t){var r=0,n={};for(t|=0;r<e.length;)n[i[r+t]]=e[r++];return n}n.basic=a([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),n.defaults=a([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",o.emptyArray,null]),n.long=a([0,0,0,1,1],7),n.mapKey=a([0,0,0,5,5,0,0,0,1,1,0,2],2),n.packed=a([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(e,t,r){"use strict";var n=r(245),o=r(247);e.exports=n("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,r){"use strict";e.exports=r(333)},function(e,t,r){"use strict";var n=r(117),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(h){var o=d(r);o&&o!==h&&e(t,o,n)}var a=l(r);f&&(a=a.concat(f(r)));for(var s=u(t),v=u(r),y=0;y<a.length;++y){var m=a[y];if(!(i[m]||n&&n[m]||v&&v[m]||s&&s[m])){var g=p(r,m);try{c(t,m,g)}catch(e){}}}}return t}},function(e,t,r){(function(n){var o;r(140),r(141),r(12),r(35),r(194),r(42),t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(o=!1,function(){o||(o=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||function(){},e.exports=r(394)(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(133))},,function(e,t,r){var n=r(6),o=r(94),i="".split;e.exports=n((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?i.call(e,""):Object(e)}:Object},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++r+n).toString(36)}},function(e,t){e.exports={}},function(e,t,r){var n=r(51),o=r(17),i=r(106),a=function(e){return function(t,r,a){var s,u=n(t),c=o(u.length),l=i(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,r){var n=r(6),o=/#|\.prototype\./,i=function(e,t){var r=s[a(e)];return r==c||r!=u&&("function"==typeof t?n(t):!!t)},a=i.normalize=function(e){return String(e).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";e.exports=i},function(e,t,r){var n=r(94);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,r){var n=r(6),o=r(10),i=r(150),a=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},function(e,t,r){var n=r(171),o=r(94),i=r(10)("toStringTag"),a="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?r:a?o(t):"Object"==(n=o(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports={}},function(e,t,r){var n=r(128),o=r(130),i=r(10)("iterator");e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||o[n(e)]}},function(e,t,r){var n=r(206),o=r(167);e.exports=Object.keys||function(e){return n(e,o)}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(156),o=r(27),i=r(46),a=r(305),s=r(157);n("search",1,(function(e,t,r){return[function(t){var r=i(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=o(e),u=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var l=s(i,u);return a(i.lastIndex,c)||(i.lastIndex=c),null===l?-1:l.index}]}))},function(e,t,r){"use strict";var n,o=r(5),i=r(86).f,a=r(17),s=r(178),u=r(46),c=r(179),l=r(87),f="".startsWith,p=Math.min,d=c("startsWith");o({target:"String",proto:!0,forced:!!(l||d||(n=i(String.prototype,"startsWith"),!n||n.writable))&&!d},{startsWith:function(e){var t=String(u(this));s(e);var r=a(p(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return f?f.call(t,n,r):t.slice(r,r+n.length)===n}})},function(e,t,r){var n=r(26),o=r(34),i=r(147),a=r(222),s=i("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=o(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,r){var n=r(27),o=r(308);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,i){return n(r),o(i),t?e.call(r,i):r.__proto__=i,r}}():void 0)},function(e,t,r){r(159)("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";e.exports=l;var n=r(114);((l.prototype=Object.create(n.prototype)).constructor=l).className="Namespace";var o,i,a,s=r(99),u=r(33);function c(e,t){if(e&&e.length){for(var r={},n=0;n<e.length;++n)r[e[n].name]=e[n].toJSON(t);return r}}function l(e,t){n.call(this,e,t),this.nested=void 0,this._nestedArray=null}function f(e){return e._nestedArray=null,e}l.fromJSON=function(e,t){return new l(e,t.options).addJSON(t.nested)},l.arrayToJSON=c,l.isReservedId=function(e,t){if(e)for(var r=0;r<e.length;++r)if("string"!=typeof e[r]&&e[r][0]<=t&&e[r][1]>t)return!0;return!1},l.isReservedName=function(e,t){if(e)for(var r=0;r<e.length;++r)if(e[r]===t)return!0;return!1},Object.defineProperty(l.prototype,"nestedArray",{get:function(){return this._nestedArray||(this._nestedArray=u.toArray(this.nested))}}),l.prototype.toJSON=function(e){return u.toObject(["options",this.options,"nested",c(this.nestedArray,e)])},l.prototype.addJSON=function(e){if(e)for(var t,r=Object.keys(e),n=0;n<r.length;++n)t=e[r[n]],this.add((void 0!==t.fields?o.fromJSON:void 0!==t.values?a.fromJSON:void 0!==t.methods?i.fromJSON:void 0!==t.id?s.fromJSON:l.fromJSON)(r[n],t));return this},l.prototype.get=function(e){return this.nested&&this.nested[e]||null},l.prototype.getEnum=function(e){if(this.nested&&this.nested[e]instanceof a)return this.nested[e].values;throw Error("no such enum: "+e)},l.prototype.add=function(e){if(!(e instanceof s&&void 0!==e.extend||e instanceof o||e instanceof a||e instanceof i||e instanceof l))throw TypeError("object must be a valid nested object");if(this.nested){var t=this.get(e.name);if(t){if(!(t instanceof l&&e instanceof l)||t instanceof o||t instanceof i)throw Error("duplicate name '"+e.name+"' in "+this);for(var r=t.nestedArray,n=0;n<r.length;++n)e.add(r[n]);this.remove(t),this.nested||(this.nested={}),e.setOptions(t.options,!0)}}else this.nested={};return this.nested[e.name]=e,e.onAdd(this),f(this)},l.prototype.remove=function(e){if(!(e instanceof n))throw TypeError("object must be a ReflectionObject");if(e.parent!==this)throw Error(e+" is not a member of "+this);return delete this.nested[e.name],Object.keys(this.nested).length||(this.nested=void 0),e.onRemove(this),f(this)},l.prototype.define=function(e,t){if(u.isString(e))e=e.split(".");else if(!Array.isArray(e))throw TypeError("illegal path");if(e&&e.length&&""===e[0])throw Error("path must be relative");for(var r=this;e.length>0;){var n=e.shift();if(r.nested&&r.nested[n]){if(!((r=r.nested[n])instanceof l))throw Error("path conflicts with non-namespace objects")}else r.add(r=new l(n))}return t&&r.addJSON(t),r},l.prototype.resolveAll=function(){for(var e=this.nestedArray,t=0;t<e.length;)e[t]instanceof l?e[t++].resolveAll():e[t++].resolve();return this.resolve()},l.prototype.lookup=function(e,t,r){if("boolean"==typeof t?(r=t,t=void 0):t&&!Array.isArray(t)&&(t=[t]),u.isString(e)&&e.length){if("."===e)return this.root;e=e.split(".")}else if(!e.length)return this;if(""===e[0])return this.root.lookup(e.slice(1),t);var n=this.get(e[0]);if(n){if(1===e.length){if(!t||t.indexOf(n.constructor)>-1)return n}else if(n instanceof l&&(n=n.lookup(e.slice(1),t,!0)))return n}else for(var o=0;o<this.nestedArray.length;++o)if(this._nestedArray[o]instanceof l&&(n=this._nestedArray[o].lookup(e,t,!0)))return n;return null===this.parent||r?null:this.parent.lookup(e,t)},l.prototype.lookupType=function(e){var t=this.lookup(e,[o]);if(!t)throw Error("no such type: "+e);return t},l.prototype.lookupEnum=function(e){var t=this.lookup(e,[a]);if(!t)throw Error("no such Enum '"+e+"' in "+this);return t},l.prototype.lookupTypeOrEnum=function(e){var t=this.lookup(e,[o,a]);if(!t)throw Error("no such Type or Enum '"+e+"' in "+this);return t},l.prototype.lookupService=function(e){var t=this.lookup(e,[i]);if(!t)throw Error("no such Service '"+e+"' in "+this);return t},l._configure=function(e,t,r){o=e,i=t,a=r}},function(e,t,r){"use strict";var n=r(5),o=r(106),i=r(52),a=r(17),s=r(34),u=r(149),c=r(148),l=r(127),f=r(47),p=l("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min;n({target:"Array",proto:!0,forced:!p||!d},{splice:function(e,t){var r,n,l,f,p,d,y=s(this),m=a(y.length),g=o(e,m),_=arguments.length;if(0===_?r=n=0:1===_?(r=0,n=m-g):(r=_-2,n=v(h(i(t),0),m-g)),m+r-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(y,n),f=0;f<n;f++)(p=g+f)in y&&c(l,f,y[p]);if(l.length=n,r<n){for(f=g;f<m-n;f++)d=f+r,(p=f+n)in y?y[d]=y[p]:delete y[d];for(f=m;f>m-n+r;f--)delete y[f-1]}else if(r>n)for(f=m-n;f>g;f--)d=f+r-1,(p=f+n-1)in y?y[d]=y[p]:delete y[d];for(f=0;f<r;f++)y[f+g]=arguments[f+2];return y.length=m-n+r,l}})},function(e,t,r){var n=r(25),o=r(8),i=r(125),a=r(158),s=r(28).f,u=r(96).f,c=r(175),l=r(174),f=r(213),p=r(40),d=r(6),h=r(48).set,v=r(152),y=r(10)("match"),m=o.RegExp,g=m.prototype,_=/a/g,b=/a/g,w=new m(_)!==_,E=f.UNSUPPORTED_Y;if(n&&i("RegExp",!w||E||d((function(){return b[y]=!1,m(_)!=_||m(b)==b||"/a/i"!=m(_,"i")})))){for(var O=function(e,t){var r,n=this instanceof O,o=c(e),i=void 0===t;if(!n&&o&&e.constructor===O&&i)return e;w?o&&!i&&(e=e.source):e instanceof O&&(i&&(t=l.call(e)),e=e.source),E&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var s=a(w?new m(e,t):m(e,t),n?this:g,O);return E&&r&&h(s,{sticky:r}),s},T=function(e){e in O||s(O,e,{configurable:!0,get:function(){return m[e]},set:function(t){m[e]=t}})},x=u(m),k=0;x.length>k;)T(x[k++]);g.constructor=O,O.prototype=g,p(o,"RegExp",O)}v("RegExp")},function(e,t,r){"use strict";var n=r(5),o=r(225).trim;n({target:"String",proto:!0,forced:r(338)("trim")},{trim:function(){return o(this)}})},function(e,t,r){"use strict";var n=r(5),o=r(217);n({target:"String",proto:!0,forced:r(218)("link")},{link:function(e){return o(this,"a","href",e)}})},function(e,t,r){"use strict";var n=r(198),o=r(91),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||n.call(a,i),u=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),l=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);if(u&&c){var r=u(t,"length");r.configurable&&c(t,"length",{value:1+l(0,e.length-(arguments.length-1))})}return t};var f=function(){return s(n,i,arguments)};c?c(e.exports,"apply",{value:f}):e.exports.apply=f},function(e,t,r){"use strict";(function(e,n){function o(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function i(e,t){return e.require(t)}r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}))}).call(this,r(133),r(192)(e))},function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},function(e,t,r){var n=r(166),o=r(122),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},function(e,t,r){"use strict";var n=r(105),o=r(28),i=r(93);e.exports=function(e,t,r){var a=n(t);a in e?o.f(e,a,i(0,r)):e[a]=r}},function(e,t,r){var n=r(21),o=r(126),i=r(10)("species");e.exports=function(e,t){var r;return o(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!o(r.prototype)?n(r)&&null===(r=r[i])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},function(e,t,r){var n,o,i=r(8),a=r(170),s=i.process,u=s&&s.versions,c=u&&u.v8;c?o=(n=c.split("."))[0]+n[1]:a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=n[1]),e.exports=o&&+o},function(e,t,r){var n=r(40);e.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},function(e,t,r){"use strict";var n=r(95),o=r(28),i=r(10),a=r(25),s=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var n=r(10)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},function(e,t,r){var n=r(94),o=r(8);e.exports="process"==n(o.process)},function(e,t,r){"use strict";var n,o,i=r(174),a=r(213),s=RegExp.prototype.exec,u=String.prototype.replace,c=s,l=(n=/a/,o=/b*/g,s.call(n,"a"),s.call(o,"a"),0!==n.lastIndex||0!==o.lastIndex),f=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(l||p||f)&&(c=function(e){var t,r,n,o,a=this,c=f&&a.sticky,d=i.call(a),h=a.source,v=0,y=e;return c&&(-1===(d=d.replace("y","")).indexOf("g")&&(d+="g"),y=String(e).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==e[a.lastIndex-1])&&(h="(?: "+h+")",y=" "+y,v++),r=new RegExp("^(?:"+h+")",d)),p&&(r=new RegExp("^"+h+"$(?!\\s)",d)),l&&(t=a.lastIndex),n=s.call(c?r:a,y),c?n?(n.input=n.input.slice(v),n[0]=n[0].slice(v),n.index=a.lastIndex,a.lastIndex+=n[0].length):a.lastIndex=0:l&&n&&(a.lastIndex=a.global?n.index+n[0].length:t),p&&n&&n.length>1&&u.call(n[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),e.exports=c},function(e,t,r){"use strict";r(12);var n=r(40),o=r(6),i=r(10),a=r(155),s=r(43),u=i("species"),c=!o((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),l="$0"==="a".replace(/./,"$0"),f=i("replace"),p=!!/./[f]&&""===/./[f]("a","$0"),d=!o((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var h=i(e),v=!o((function(){var t={};return t[h]=function(){return 7},7!=""[e](t)})),y=v&&!o((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t}));if(!v||!y||"replace"===e&&(!c||!l||p)||"split"===e&&!d){var m=/./[h],g=r(h,""[e],(function(e,t,r,n,o){return t.exec===a?v&&!o?{done:!0,value:m.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=g[0],b=g[1];n(String.prototype,e,_),n(RegExp.prototype,h,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}f&&s(RegExp.prototype[h],"sham",!0)}},function(e,t,r){var n=r(94),o=r(155);e.exports=function(e,t){var r=e.exec;if("function"==typeof r){var i=r.call(e,t);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(e))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(e,t)}},function(e,t,r){var n=r(21),o=r(137);e.exports=function(e,t,r){var i,a;return o&&"function"==typeof(i=t.constructor)&&i!==r&&n(a=i.prototype)&&a!==r.prototype&&o(e,a),e}},function(e,t,r){"use strict";var n=r(5),o=r(8),i=r(25),a=r(227),s=r(14),u=r(309),c=r(97),l=r(93),f=r(43),p=r(17),d=r(229),h=r(230),v=r(105),y=r(26),m=r(128),g=r(21),_=r(98),b=r(137),w=r(96).f,E=r(231),O=r(37).forEach,T=r(152),x=r(28),k=r(86),S=r(48),P=r(158),C=S.get,A=S.set,R=x.f,j=k.f,I=Math.round,D=o.RangeError,M=u.ArrayBuffer,L=u.DataView,N=s.NATIVE_ARRAY_BUFFER_VIEWS,B=s.TYPED_ARRAY_TAG,F=s.TypedArray,U=s.TypedArrayPrototype,W=s.aTypedArrayConstructor,z=s.isTypedArray,H=function(e,t){for(var r=0,n=t.length,o=new(W(e))(n);n>r;)o[r]=t[r++];return o},V=function(e,t){R(e,t,{get:function(){return C(this)[t]}})},G=function(e){var t;return e instanceof M||"ArrayBuffer"==(t=m(e))||"SharedArrayBuffer"==t},q=function(e,t){return z(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},$=function(e,t){return q(e,t=v(t,!0))?l(2,e[t]):j(e,t)},K=function(e,t,r){return!(q(e,t=v(t,!0))&&g(r)&&y(r,"value"))||y(r,"get")||y(r,"set")||r.configurable||y(r,"writable")&&!r.writable||y(r,"enumerable")&&!r.enumerable?R(e,t,r):(e[t]=r.value,e)};i?(N||(k.f=$,x.f=K,V(U,"buffer"),V(U,"byteOffset"),V(U,"byteLength"),V(U,"length")),n({target:"Object",stat:!0,forced:!N},{getOwnPropertyDescriptor:$,defineProperty:K}),e.exports=function(e,t,r){var i=e.match(/\d+$/)[0]/8,s=e+(r?"Clamped":"")+"Array",u="get"+e,l="set"+e,v=o[s],y=v,m=y&&y.prototype,x={},k=function(e,t){R(e,t,{get:function(){return function(e,t){var r=C(e);return r.view[u](t*i+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,n){var o=C(e);r&&(n=(n=I(n))<0?0:n>255?255:255&n),o.view[l](t*i+o.byteOffset,n,!0)}(this,t,e)},enumerable:!0})};N?a&&(y=t((function(e,t,r,n){return c(e,y,s),P(g(t)?G(t)?void 0!==n?new v(t,h(r,i),n):void 0!==r?new v(t,h(r,i)):new v(t):z(t)?H(y,t):E.call(y,t):new v(d(t)),e,y)})),b&&b(y,F),O(w(v),(function(e){e in y||f(y,e,v[e])})),y.prototype=m):(y=t((function(e,t,r,n){c(e,y,s);var o,a,u,l=0,f=0;if(g(t)){if(!G(t))return z(t)?H(y,t):E.call(y,t);o=t,f=h(r,i);var v=t.byteLength;if(void 0===n){if(v%i)throw D("Wrong length");if((a=v-f)<0)throw D("Wrong length")}else if((a=p(n)*i)+f>v)throw D("Wrong length");u=a/i}else u=d(t),o=new M(a=u*i);for(A(e,{buffer:o,byteOffset:f,byteLength:a,length:u,view:new L(o)});l<u;)k(e,l++)})),b&&b(y,F),m=y.prototype=_(U)),m.constructor!==y&&f(m,"constructor",y),B&&f(m,B,s),x[s]=y,n({global:!0,forced:y!=v,sham:!N},x),"BYTES_PER_ELEMENT"in y||f(y,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in m||f(m,"BYTES_PER_ELEMENT",i),T(s)}):e.exports=function(){}},function(e,t,r){"use strict";e.exports=a;var n=r(114);((a.prototype=Object.create(n.prototype)).constructor=a).className="OneOf";var o=r(99),i=r(33);function a(e,t,r,o){if(Array.isArray(t)||(r=t,t=void 0),n.call(this,e,r),void 0!==t&&!Array.isArray(t))throw TypeError("fieldNames must be an Array");this.oneof=t||[],this.fieldsArray=[],this.comment=o}function s(e){if(e.parent)for(var t=0;t<e.fieldsArray.length;++t)e.fieldsArray[t].parent||e.parent.add(e.fieldsArray[t])}a.fromJSON=function(e,t){return new a(e,t.oneof,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},a.prototype.add=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");return e.parent&&e.parent!==this.parent&&e.parent.remove(e),this.oneof.push(e.name),this.fieldsArray.push(e),e.partOf=this,s(this),this},a.prototype.remove=function(e){if(!(e instanceof o))throw TypeError("field must be a Field");var t=this.fieldsArray.indexOf(e);if(t<0)throw Error(e+" is not a member of "+this);return this.fieldsArray.splice(t,1),(t=this.oneof.indexOf(e.name))>-1&&this.oneof.splice(t,1),e.partOf=null,this},a.prototype.onAdd=function(e){n.prototype.onAdd.call(this,e);for(var t=0;t<this.oneof.length;++t){var r=e.get(this.oneof[t]);r&&!r.partOf&&(r.partOf=this,this.fieldsArray.push(r))}s(this)},a.prototype.onRemove=function(e){for(var t,r=0;r<this.fieldsArray.length;++r)(t=this.fieldsArray[r]).parent&&t.parent.remove(t);n.prototype.onRemove.call(this,e)},a.d=function(){for(var e=new Array(arguments.length),t=0;t<arguments.length;)e[t]=arguments[t++];return function(t,r){i.decorateType(t.constructor).add(new a(r,e)),Object.defineProperty(t,r,{get:i.oneOfGetter(e),set:i.oneOfSetter(e)})}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));function n(e){try{return e&&"function"==typeof e&&e.name||"<anonymous>"}catch(e){return"<anonymous>"}}},function(e,t,r){var n=r(8),o=r(21),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,r){var n=r(8),o=r(43);e.exports=function(e,t){try{o(n,e,t)}catch(r){n[e]=t}return t}},function(e,t,r){var n=r(165),o=Function.toString;"function"!=typeof n.inspectSource&&(n.inspectSource=function(e){return o.call(e)}),e.exports=n.inspectSource},function(e,t,r){var n=r(8),o=r(163),i=n["__core-js_shared__"]||o("__core-js_shared__",{});e.exports=i},function(e,t,r){var n=r(87),o=r(165);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.3",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(6);e.exports=!!Object.getOwnPropertySymbols&&!n((function(){return!String(Symbol())}))},function(e,t,r){var n=r(95);e.exports=n("navigator","userAgent")||""},function(e,t,r){var n={};n[r(10)("toStringTag")]="z",e.exports="[object z]"===String(n)},function(e,t,r){var n=r(27),o=r(173),i=r(17),a=r(89),s=r(131),u=r(208),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,r){var l,f,p,d,h,v,y,m=r&&r.that,g=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_ITERATOR),b=!(!r||!r.INTERRUPTED),w=a(t,m,1+g+b),E=function(e){return l&&u(l),new c(!0,e)},O=function(e){return g?(n(e),b?w(e[0],e[1],E):w(e[0],e[1])):b?w(e,E):w(e)};if(_)l=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(o(f)){for(p=0,d=i(e.length);d>p;p++)if((h=O(e[p]))&&h instanceof c)return h;return new c(!1)}l=f.call(e)}for(v=l.next;!(y=v.call(l)).done;){try{h=O(y.value)}catch(e){throw u(l),e}if("object"==typeof h&&h&&h instanceof c)return h}return new c(!1)}},function(e,t,r){var n=r(10),o=r(130),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},function(e,t,r){"use strict";var n=r(27);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,r){var n=r(21),o=r(94),i=r(10)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==o(e))}},function(e,t,r){"use strict";var n=r(177).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},function(e,t,r){var n=r(52),o=r(46),i=function(e){return function(t,r){var i,a,s=String(o(t)),u=n(r),c=s.length;return u<0||u>=c?e?"":void 0:(i=s.charCodeAt(u))<55296||i>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):i:e?s.slice(u,u+2):a-56320+(i-55296<<10)+65536}};e.exports={codeAt:i(!1),charAt:i(!0)}},function(e,t,r){var n=r(175);e.exports=function(e){if(n(e))throw TypeError("The method doesn't accept regular expressions");return e}},function(e,t,r){var n=r(10)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[n]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,r){var n=r(129),o=r(34),i=r(121),a=r(17),s=function(e){return function(t,r,s,u){n(r);var c=o(t),l=i(c),f=a(c.length),p=e?f-1:0,d=e?-1:1;if(s<2)for(;;){if(p in l){u=l[p],p+=d;break}if(p+=d,e?p<0:f<=p)throw TypeError("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=d)p in l&&(u=r(u,l[p],p,c));return u}};e.exports={left:s(!1),right:s(!0)}},function(e,t,r){"use strict";var n=r(5),o=r(37).findIndex,i=r(108),a=r(47),s=!0,u=a("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(e,t,r){"use strict";var n=r(5),o=r(223),i=r(136),a=r(137),s=r(88),u=r(43),c=r(40),l=r(10),f=r(87),p=r(130),d=r(224),h=d.IteratorPrototype,v=d.BUGGY_SAFARI_ITERATORS,y=l("iterator"),m=function(){return this};e.exports=function(e,t,r,l,d,g,_){o(r,t,l);var b,w,E,O=function(e){if(e===d&&P)return P;if(!v&&e in k)return k[e];switch(e){case"keys":case"values":case"entries":return function(){return new r(this,e)}}return function(){return new r(this)}},T=t+" Iterator",x=!1,k=e.prototype,S=k[y]||k["@@iterator"]||d&&k[d],P=!v&&S||O(d),C="Array"==t&&k.entries||S;if(C&&(b=i(C.call(new e)),h!==Object.prototype&&b.next&&(f||i(b)===h||(a?a(b,h):"function"!=typeof b[y]&&u(b,y,m)),s(b,T,!0,!0),f&&(p[T]=m))),"values"==d&&S&&"values"!==S.name&&(x=!0,P=function(){return S.call(this)}),f&&!_||k[y]===P||u(k,y,P),p[t]=P,d)if(w={values:O("values"),keys:g?P:O("keys"),entries:O("entries")},_)for(E in w)(v||x||!(E in k))&&c(k,E,w[E]);else n({target:t,proto:!0,forced:v||x},w);return w}},function(e,t,r){"use strict";var n=r(34),o=r(106),i=r(17);e.exports=function(e){for(var t=n(this),r=i(t.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:o(u,r);c>s;)t[s++]=e;return t}},function(e,t,r){"use strict";e.exports=f;var n,o=r(81),i=o.LongBits,a=o.base64,s=o.utf8;function u(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function c(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function f(){this.len=0,this.head=new u(c,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(f.create=function(){return new n})()}:function(){return new f}};function d(e,t,r){t[r]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function v(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function y(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}f.create=p(),f.alloc=function(e){return new o.Array(e)},o.Array!==Array&&(f.alloc=o.pool(f.alloc,o.Array.prototype.subarray)),f.prototype._push=function(e,t,r){return this.tail=this.tail.next=new u(e,t,r),this.len+=t,this},h.prototype=Object.create(u.prototype),h.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},f.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},f.prototype.int32=function(e){return e<0?this._push(v,10,i.fromNumber(e)):this.uint32(e)},f.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},f.prototype.uint64=function(e){var t=i.from(e);return this._push(v,t.length(),t)},f.prototype.int64=f.prototype.uint64,f.prototype.sint64=function(e){var t=i.from(e).zzEncode();return this._push(v,t.length(),t)},f.prototype.bool=function(e){return this._push(d,1,e?1:0)},f.prototype.fixed32=function(e){return this._push(y,4,e>>>0)},f.prototype.sfixed32=f.prototype.fixed32,f.prototype.fixed64=function(e){var t=i.from(e);return this._push(y,4,t.lo)._push(y,4,t.hi)},f.prototype.sfixed64=f.prototype.fixed64,f.prototype.float=function(e){return this._push(o.float.writeFloatLE,4,e)},f.prototype.double=function(e){return this._push(o.float.writeDoubleLE,8,e)};var m=o.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};f.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(d,1,0);if(o.isString(e)){var r=f.alloc(t=a.length(e));a.decode(e,r,0),e=r}return this.uint32(t)._push(m,t,e)},f.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(d,1,0)},f.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new u(c,0,0),this.len=0,this},f.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new u(c,0,0),this.len=0),this},f.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},f.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},f._configure=function(e){n=e,f.create=p(),n._configure()}},function(e,t,r){"use strict";e.exports=u;var n,o=r(81),i=o.LongBits,a=o.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function u(e){this.buf=e,this.pos=0,this.len=e.length}var c,l="undefined"!=typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new u(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new u(e);throw Error("illegal buffer")},f=function(){return o.Buffer?function(e){return(u.create=function(e){return o.Buffer.isBuffer(e)?new n(e):l(e)})(e)}:l};function p(){var e=new i(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function d(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(d(this.buf,this.pos+=4),d(this.buf,this.pos+=4))}u.create=f(),u.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,u.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),u.prototype.int32=function(){return 0|this.uint32()},u.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},u.prototype.bool=function(){return 0!==this.uint32()},u.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return d(this.buf,this.pos+=4)},u.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|d(this.buf,this.pos+=4)},u.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},u.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},u.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},u.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},u.prototype.skip=function(e){if("number"==typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},u.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},u._configure=function(e){n=e,u.create=f(),n._configure();var t=o.Long?"toLong":"toNumber";o.merge(u.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},function(e,t,r){"use strict";e.exports=g;var n=r(139);((g.prototype=Object.create(n.prototype)).constructor=g).className="Type";var o=r(77),i=r(160),a=r(99),s=r(187),u=r(188),c=r(190),l=r(185),f=r(184),p=r(33),d=r(236),h=r(237),v=r(238),y=r(239),m=r(240);function g(e,t){n.call(this,e,t),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this._fieldsById=null,this._fieldsArray=null,this._oneofsArray=null,this._ctor=null}function _(e){return e._fieldsById=e._fieldsArray=e._oneofsArray=null,delete e.encode,delete e.decode,delete e.verify,e}Object.defineProperties(g.prototype,{fieldsById:{get:function(){if(this._fieldsById)return this._fieldsById;this._fieldsById={};for(var e=Object.keys(this.fields),t=0;t<e.length;++t){var r=this.fields[e[t]],n=r.id;if(this._fieldsById[n])throw Error("duplicate id "+n+" in "+this);this._fieldsById[n]=r}return this._fieldsById}},fieldsArray:{get:function(){return this._fieldsArray||(this._fieldsArray=p.toArray(this.fields))}},oneofsArray:{get:function(){return this._oneofsArray||(this._oneofsArray=p.toArray(this.oneofs))}},ctor:{get:function(){return this._ctor||(this.ctor=g.generateConstructor(this)())},set:function(e){var t=e.prototype;t instanceof c||((e.prototype=new c).constructor=e,p.merge(e.prototype,t)),e.$type=e.prototype.$type=this,p.merge(e,c,!0),this._ctor=e;for(var r=0;r<this.fieldsArray.length;++r)this._fieldsArray[r].resolve();var n={};for(r=0;r<this.oneofsArray.length;++r)n[this._oneofsArray[r].resolve().name]={get:p.oneOfGetter(this._oneofsArray[r].oneof),set:p.oneOfSetter(this._oneofsArray[r].oneof)};r&&Object.defineProperties(e.prototype,n)}}}),g.generateConstructor=function(e){for(var t,r=p.codegen(["p"],e.name),n=0;n<e.fieldsArray.length;++n)(t=e._fieldsArray[n]).map?r("this%s={}",p.safeProp(t.name)):t.repeated&&r("this%s=[]",p.safeProp(t.name));return r("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},g.fromJSON=function(e,t){var r=new g(e,t.options);r.extensions=t.extensions,r.reserved=t.reserved;for(var c=Object.keys(t.fields),l=0;l<c.length;++l)r.add((void 0!==t.fields[c[l]].keyType?s.fromJSON:a.fromJSON)(c[l],t.fields[c[l]]));if(t.oneofs)for(c=Object.keys(t.oneofs),l=0;l<c.length;++l)r.add(i.fromJSON(c[l],t.oneofs[c[l]]));if(t.nested)for(c=Object.keys(t.nested),l=0;l<c.length;++l){var f=t.nested[c[l]];r.add((void 0!==f.id?a.fromJSON:void 0!==f.fields?g.fromJSON:void 0!==f.values?o.fromJSON:void 0!==f.methods?u.fromJSON:n.fromJSON)(c[l],f))}return t.extensions&&t.extensions.length&&(r.extensions=t.extensions),t.reserved&&t.reserved.length&&(r.reserved=t.reserved),t.group&&(r.group=!0),t.comment&&(r.comment=t.comment),r},g.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return p.toObject(["options",t&&t.options||void 0,"oneofs",n.arrayToJSON(this.oneofsArray,e),"fields",n.arrayToJSON(this.fieldsArray.filter((function(e){return!e.declaringField})),e)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},g.prototype.resolveAll=function(){for(var e=this.fieldsArray,t=0;t<e.length;)e[t++].resolve();var r=this.oneofsArray;for(t=0;t<r.length;)r[t++].resolve();return n.prototype.resolveAll.call(this)},g.prototype.get=function(e){return this.fields[e]||this.oneofs&&this.oneofs[e]||this.nested&&this.nested[e]||null},g.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);if(e instanceof a&&void 0===e.extend){if(this._fieldsById?this._fieldsById[e.id]:this.fieldsById[e.id])throw Error("duplicate id "+e.id+" in "+this);if(this.isReservedId(e.id))throw Error("id "+e.id+" is reserved in "+this);if(this.isReservedName(e.name))throw Error("name '"+e.name+"' is reserved in "+this);return e.parent&&e.parent.remove(e),this.fields[e.name]=e,e.message=this,e.onAdd(this),_(this)}return e instanceof i?(this.oneofs||(this.oneofs={}),this.oneofs[e.name]=e,e.onAdd(this),_(this)):n.prototype.add.call(this,e)},g.prototype.remove=function(e){if(e instanceof a&&void 0===e.extend){if(!this.fields||this.fields[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.fields[e.name],e.parent=null,e.onRemove(this),_(this)}if(e instanceof i){if(!this.oneofs||this.oneofs[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.oneofs[e.name],e.parent=null,e.onRemove(this),_(this)}return n.prototype.remove.call(this,e)},g.prototype.isReservedId=function(e){return n.isReservedId(this.reserved,e)},g.prototype.isReservedName=function(e){return n.isReservedName(this.reserved,e)},g.prototype.create=function(e){return new this.ctor(e)},g.prototype.setup=function(){for(var e=this.fullName,t=[],r=0;r<this.fieldsArray.length;++r)t.push(this._fieldsArray[r].resolve().resolvedType);this.encode=d(this)({Writer:f,types:t,util:p}),this.decode=h(this)({Reader:l,types:t,util:p}),this.verify=v(this)({types:t,util:p}),this.fromObject=y.fromObject(this)({types:t,util:p}),this.toObject=y.toObject(this)({types:t,util:p});var n=m[e];if(n){var o=Object.create(this);o.fromObject=this.fromObject,this.fromObject=n.fromObject.bind(o),o.toObject=this.toObject,this.toObject=n.toObject.bind(o)}return this},g.prototype.encode=function(e,t){return this.setup().encode(e,t)},g.prototype.encodeDelimited=function(e,t){return this.encode(e,t&&t.len?t.fork():t).ldelim()},g.prototype.decode=function(e,t){return this.setup().decode(e,t)},g.prototype.decodeDelimited=function(e){return e instanceof l||(e=l.create(e)),this.decode(e,e.uint32())},g.prototype.verify=function(e){return this.setup().verify(e)},g.prototype.fromObject=function(e){return this.setup().fromObject(e)},g.prototype.toObject=function(e,t){return this.setup().toObject(e,t)},g.d=function(e){return function(t){p.decorateType(t,e)}}},function(e,t,r){"use strict";e.exports=a;var n=r(99);((a.prototype=Object.create(n.prototype)).constructor=a).className="MapField";var o=r(115),i=r(33);function a(e,t,r,o,a,s){if(n.call(this,e,t,o,void 0,void 0,a,s),!i.isString(r))throw TypeError("keyType must be a string");this.keyType=r,this.resolvedKeyType=null,this.map=!0}a.fromJSON=function(e,t){return new a(e,t.id,t.keyType,t.type,t.options,t.comment)},a.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return i.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},a.prototype.resolve=function(){if(this.resolved)return this;if(void 0===o.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return n.prototype.resolve.call(this)},a.d=function(e,t,r){return"function"==typeof r?r=i.decorateType(r).name:r&&"object"==typeof r&&(r=i.decorateEnum(r).name),function(n,o){i.decorateType(n.constructor).add(new a(o,e,t,r))}}},function(e,t,r){"use strict";e.exports=s;var n=r(139);((s.prototype=Object.create(n.prototype)).constructor=s).className="Service";var o=r(189),i=r(33),a=r(234);function s(e,t){n.call(this,e,t),this.methods={},this._methodsArray=null}function u(e){return e._methodsArray=null,e}s.fromJSON=function(e,t){var r=new s(e,t.options);if(t.methods)for(var n=Object.keys(t.methods),i=0;i<n.length;++i)r.add(o.fromJSON(n[i],t.methods[n[i]]));return t.nested&&r.addJSON(t.nested),r.comment=t.comment,r},s.prototype.toJSON=function(e){var t=n.prototype.toJSON.call(this,e),r=!!e&&Boolean(e.keepComments);return i.toObject(["options",t&&t.options||void 0,"methods",n.arrayToJSON(this.methodsArray,e)||{},"nested",t&&t.nested||void 0,"comment",r?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this._methodsArray||(this._methodsArray=i.toArray(this.methods))}}),s.prototype.get=function(e){return this.methods[e]||n.prototype.get.call(this,e)},s.prototype.resolveAll=function(){for(var e=this.methodsArray,t=0;t<e.length;++t)e[t].resolve();return n.prototype.resolve.call(this)},s.prototype.add=function(e){if(this.get(e.name))throw Error("duplicate name '"+e.name+"' in "+this);return e instanceof o?(this.methods[e.name]=e,e.parent=this,u(this)):n.prototype.add.call(this,e)},s.prototype.remove=function(e){if(e instanceof o){if(this.methods[e.name]!==e)throw Error(e+" is not a member of "+this);return delete this.methods[e.name],e.parent=null,u(this)}return n.prototype.remove.call(this,e)},s.prototype.create=function(e,t,r){for(var n,o=new a.Service(e,t,r),s=0;s<this.methodsArray.length;++s){var u=i.lcFirst((n=this._methodsArray[s]).resolve().name).replace(/[^$\w_]/g,"");o[u]=i.codegen(["r","c"],i.isReserved(u)?u+"_":u)("return this.rpcCall(m,q,s,r,c)")({m:n,q:n.resolvedRequestType.ctor,s:n.resolvedResponseType.ctor})}return o}},function(e,t,r){"use strict";e.exports=i;var n=r(114);((i.prototype=Object.create(n.prototype)).constructor=i).className="Method";var o=r(33);function i(e,t,r,i,a,s,u,c,l){if(o.isObject(a)?(u=a,a=s=void 0):o.isObject(s)&&(u=s,s=void 0),void 0!==t&&!o.isString(t))throw TypeError("type must be a string");if(!o.isString(r))throw TypeError("requestType must be a string");if(!o.isString(i))throw TypeError("responseType must be a string");n.call(this,e,u),this.type=t||"rpc",this.requestType=r,this.requestStream=!!a||void 0,this.responseType=i,this.responseStream=!!s||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=c,this.parsedOptions=l}i.fromJSON=function(e,t){return new i(e,t.type,t.requestType,t.responseType,t.requestStream,t.responseStream,t.options,t.comment,t.parsedOptions)},i.prototype.toJSON=function(e){var t=!!e&&Boolean(e.keepComments);return o.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),n.prototype.resolve.call(this))}},function(e,t,r){"use strict";e.exports=o;var n=r(81);function o(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)this[t[r]]=e[t[r]]}o.create=function(e){return this.$type.create(e)},o.encode=function(e,t){return this.$type.encode(e,t)},o.encodeDelimited=function(e,t){return this.$type.encodeDelimited(e,t)},o.decode=function(e){return this.$type.decode(e)},o.decodeDelimited=function(e){return this.$type.decodeDelimited(e)},o.verify=function(e){return this.$type.verify(e)},o.fromObject=function(e){return this.$type.fromObject(e)},o.toObject=function(e,t){return this.$type.toObject(e,t)},o.prototype.toJSON=function(){return this.$type.toObject(this,n.toJSONOptions)}},function(e,t,r){"use strict";e.exports=f;var n=r(139);((f.prototype=Object.create(n.prototype)).constructor=f).className="Root";var o,i,a,s=r(99),u=r(77),c=r(160),l=r(33);function f(e){n.call(this,"",e),this.deferred=[],this.files=[]}function p(){}f.fromJSON=function(e,t){return t||(t=new f),e.options&&t.setOptions(e.options),t.addJSON(e.nested)},f.prototype.resolvePath=l.path.resolve,f.prototype.fetch=l.fetch,f.prototype.load=function e(t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=this;if(!n)return l.asPromise(e,o,t,r);var s=n===p;function u(e,t){if(n){var r=n;if(n=null,s)throw e;r(e,t)}}function c(e){var t=e.lastIndexOf("google/protobuf/");if(t>-1){var r=e.substring(t);if(r in a)return r}return null}function f(e,t){try{if(l.isString(t)&&"{"===t.charAt(0)&&(t=JSON.parse(t)),l.isString(t)){i.filename=e;var n,a=i(t,o,r),f=0;if(a.imports)for(;f<a.imports.length;++f)(n=c(a.imports[f])||o.resolvePath(e,a.imports[f]))&&d(n);if(a.weakImports)for(f=0;f<a.weakImports.length;++f)(n=c(a.weakImports[f])||o.resolvePath(e,a.weakImports[f]))&&d(n,!0)}else o.setOptions(t.options).addJSON(t.nested)}catch(e){u(e)}s||h||u(null,o)}function d(e,t){if(!(o.files.indexOf(e)>-1))if(o.files.push(e),e in a)s?f(e,a[e]):(++h,setTimeout((function(){--h,f(e,a[e])})));else if(s){var r;try{r=l.fs.readFileSync(e).toString("utf8")}catch(e){return void(t||u(e))}f(e,r)}else++h,o.fetch(e,(function(r,i){--h,n&&(r?t?h||u(null,o):u(r):f(e,i))}))}var h=0;l.isString(t)&&(t=[t]);for(var v,y=0;y<t.length;++y)(v=o.resolvePath("",t[y]))&&d(v);if(s)return o;h||u(null,o)},f.prototype.loadSync=function(e,t){if(!l.isNode)throw Error("not supported");return this.load(e,t,p)},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map((function(e){return"'extend "+e.extend+"' in "+e.parent.fullName})).join(", "));return n.prototype.resolveAll.call(this)};var d=/^[A-Z]/;function h(e,t){var r=t.parent.lookup(t.extend);if(r){var n=new s(t.fullName,t.id,t.type,t.rule,void 0,t.options);return n.declaringField=t,t.extensionField=n,r.add(n),!0}return!1}f.prototype._handleAdd=function(e){if(e instanceof s)void 0===e.extend||e.extensionField||h(0,e)||this.deferred.push(e);else if(e instanceof u)d.test(e.name)&&(e.parent[e.name]=e.values);else if(!(e instanceof c)){if(e instanceof o)for(var t=0;t<this.deferred.length;)h(0,this.deferred[t])?this.deferred.splice(t,1):++t;for(var r=0;r<e.nestedArray.length;++r)this._handleAdd(e._nestedArray[r]);d.test(e.name)&&(e.parent[e.name]=e)}},f.prototype._handleRemove=function(e){if(e instanceof s){if(void 0!==e.extend)if(e.extensionField)e.extensionField.parent.remove(e.extensionField),e.extensionField=null;else{var t=this.deferred.indexOf(e);t>-1&&this.deferred.splice(t,1)}}else if(e instanceof u)d.test(e.name)&&delete e.parent[e.name];else if(e instanceof n){for(var r=0;r<e.nestedArray.length;++r)this._handleRemove(e._nestedArray[r]);d.test(e.name)&&delete e.parent[e.name]}},f._configure=function(e,t,r){o=e,i=t,a=r}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){var n=r(123),o=r(21),i=r(26),a=r(28).f,s=r(122),u=r(246),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},p=function(e){a(e,c,{value:{objectID:"O"+ ++l,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,c)){if(!f(e))return"F";if(!t)return"E";p(e)}return e[c].objectID},getWeakData:function(e,t){if(!i(e,c)){if(!f(e))return!0;if(!t)return!1;p(e)}return e[c].weakData},onFreeze:function(e){return u&&d.REQUIRED&&f(e)&&!i(e,c)&&p(e),e}};n[c]=!0},function(e,t,r){"use strict";var n=r(156),o=r(27),i=r(17),a=r(46),s=r(176),u=r(157);n("match",1,(function(e,t,r){return[function(t){var r=a(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var a=o(e),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;for(var f,p=[],d=0;null!==(f=u(a,c));){var h=String(f[0]);p[d]=h,""===h&&(a.lastIndex=s(c,i(a.lastIndex),l)),d++}return 0===d?null:p}]}))},function(e,t,r){r(221)("iterator")},function(e,t,r){"use strict";var n=r(91),o=r(144),i=o(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&i(e,".prototype.")>-1?o(r):r}},function(e,t,r){"use strict";(function(t){var n=t.Symbol,o=r(360);e.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}}).call(this,r(50))},function(e,t,r){"use strict";var n=r(361);e.exports=Function.prototype.bind||n},function(e,t,r){"use strict";(function(e,n){var o,i=r(261);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var a=Object(i.a)(o);t.a=a}).call(this,r(50),r(192)(e))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(20);function o(e,t){try{for(var r=e,n=[],o=0,a=0,s=" > ".length,u=void 0;r&&o++<5&&!("html"===(u=i(r,t))||o>1&&a+n.length*s+u.length>=80);)n.push(u),a+=u.length,r=r.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function i(e,t){var r,o,i,a,s,u,c,l=e,f=[];if(!l||!l.tagName)return"";f.push(l.tagName.toLowerCase());var p=(null===(r=t)||void 0===r?void 0:r.length)?t.filter((function(e){return l.getAttribute(e)})).map((function(e){return[e,l.getAttribute(e)]})):null;if(null===(o=p)||void 0===o?void 0:o.length)p.forEach((function(e){f.push("["+e[0]+'="'+e[1]+'"]')}));else if(l.id&&f.push("#"+l.id),(i=l.className)&&Object(n.k)(i))for(a=i.split(/\s+/),c=0;c<a.length;c++)f.push("."+a[c]);var d=["type","name","title","alt"];for(c=0;c<d.length;c++)s=d[c],(u=l.getAttribute(s))&&f.push("["+s+'="'+u+'"]');return f.join("")}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function i(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var r,o,a=[];for(o in"string"!=typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!=r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;a.push(o+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,n={};t=r.exec(e);){var i=o(t[1]),a=o(t[2]);null===i||null===a||i in n||(n[i]=a)}return n}},function(e,t,r){"use strict";var n=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,o=function(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}((function(e){return n.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=o},function(e,t,r){var n=r(25),o=r(6),i=r(162);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(e,t,r){var n=r(26),o=r(296),i=r(86),a=r(28);e.exports=function(e,t){for(var r=o(t),s=a.f,u=i.f,c=0;c<r.length;c++){var l=r[c];n(e,l)||s(e,l,u(t,l))}}},function(e,t,r){var n=r(8);e.exports=n},function(e,t,r){var n=r(26),o=r(51),i=r(124).indexOf,a=r(123);e.exports=function(e,t){var r,s=o(e),u=0,c=[];for(r in s)!n(a,r)&&n(s,r)&&c.push(r);for(;t.length>u;)n(s,r=t[u++])&&(~i(c,r)||c.push(r));return c}},function(e,t,r){var n=r(169);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,r){var n=r(27);e.exports=function(e){var t=e.return;if(void 0!==t)return n(t.call(e)).value}},function(e,t,r){var n,o,i,a=r(8),s=r(6),u=r(89),c=r(210),l=r(162),f=r(211),p=r(154),d=a.location,h=a.setImmediate,v=a.clearImmediate,y=a.process,m=a.MessageChannel,g=a.Dispatch,_=0,b={},w=function(e){if(b.hasOwnProperty(e)){var t=b[e];delete b[e],t()}},E=function(e){return function(){w(e)}},O=function(e){w(e.data)},T=function(e){a.postMessage(e+"",d.protocol+"//"+d.host)};h&&v||(h=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return b[++_]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},n(_),_},v=function(e){delete b[e]},p?n=function(e){y.nextTick(E(e))}:g&&g.now?n=function(e){g.now(E(e))}:m&&!f?(i=(o=new m).port2,o.port1.onmessage=O,n=u(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&d&&"file:"!==d.protocol&&!s(T)?(n=T,a.addEventListener("message",O,!1)):n="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),w(e)}}:function(e){setTimeout(E(e),0)}),e.exports={set:h,clear:v}},function(e,t,r){var n=r(95);e.exports=n("document","documentElement")},function(e,t,r){var n=r(170);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(n)},function(e,t,r){"use strict";var n=r(129),o=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new o(e)}},function(e,t,r){"use strict";var n=r(6);function o(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=n((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=n((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},function(e,t,r){var n=r(25),o=r(28),i=r(27),a=r(132);e.exports=n?Object.defineProperties:function(e,t){i(e);for(var r,n=a(t),s=n.length,u=0;s>u;)o.f(e,r=n[u++],t[r]);return e}},function(e,t,r){"use strict";var n=r(37).forEach,o=r(109),i=r(47),a=o("forEach"),s=i("forEach");e.exports=a&&s?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,r){var n=r(46),o=/"/g;e.exports=function(e,t,r,i){var a=String(n(e)),s="<"+t;return""!==r&&(s+=" "+r+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"}},function(e,t,r){var n=r(6);e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},function(e,t,r){var n=r(51),o=r(96).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(n(e))}},function(e,t,r){var n=r(10);t.f=n},function(e,t,r){var n=r(205),o=r(26),i=r(220),a=r(28).f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||a(t,e,{value:i.f(e)})}},function(e,t,r){var n=r(6);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,r){"use strict";var n=r(224).IteratorPrototype,o=r(98),i=r(93),a=r(88),s=r(130),u=function(){return this};e.exports=function(e,t,r){var c=t+" Iterator";return e.prototype=o(n,{next:i(1,r)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,r){"use strict";var n,o,i,a=r(6),s=r(136),u=r(43),c=r(26),l=r(10),f=r(87),p=l("iterator"),d=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(n=o):d=!0);var h=null==n||a((function(){var e={};return n[p].call(e)!==e}));h&&(n={}),f&&!h||c(n,p)||u(n,p,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:d}},function(e,t,r){var n=r(46),o="["+r(226)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(e){return function(t){var r=String(n(t));return 1&e&&(r=r.replace(i,"")),2&e&&(r=r.replace(a,"")),r}};e.exports={start:s(1),end:s(2),trim:s(3)}},function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(e,t,r){var n=r(8),o=r(6),i=r(153),a=r(14).NATIVE_ARRAY_BUFFER_VIEWS,s=n.ArrayBuffer,u=n.Int8Array;e.exports=!a||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!i((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||o((function(){return 1!==new u(new s(2),1,void 0).length}))},function(e,t){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(e,t,r){var n=r(52),o=r(17);e.exports=function(e){if(void 0===e)return 0;var t=n(e),r=o(t);if(t!==r)throw RangeError("Wrong length or index");return r}},function(e,t,r){var n=r(311);e.exports=function(e,t){var r=n(e);if(r%t)throw RangeError("Wrong offset");return r}},function(e,t,r){var n=r(34),o=r(17),i=r(131),a=r(173),s=r(89),u=r(14).aTypedArrayConstructor;e.exports=function(e){var t,r,c,l,f,p,d=n(e),h=arguments.length,v=h>1?arguments[1]:void 0,y=void 0!==v,m=i(d);if(null!=m&&!a(m))for(p=(f=m.call(d)).next,d=[];!(l=p.call(f)).done;)d.push(l.value);for(y&&h>2&&(v=s(v,arguments[2],2)),r=o(d.length),c=new(u(this))(r),t=0;r>t;t++)c[t]=y?v(d[t],t):d[t];return c}},function(e,t,r){"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,o=2,i=!0;for(;o<arguments.length;)r[n++]=arguments[o++];return new Promise((function(o,a){r[n]=function(e){if(i)if(i=!1,e)a(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];o.apply(null,t)}};try{e.apply(t||null,r)}catch(e){i&&(i=!1,a(e))}}))}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(e,t,r){"use strict";t.Service=r(325)},function(e,t,r){"use strict";e.exports={}},function(e,t,r){"use strict";e.exports=function(e){for(var t,r=i.codegen(["m","w"],e.name+"$encode")("if(!w)")("w=Writer.create()"),s=e.fieldsArray.slice().sort(i.compareFieldsById),u=0;u<s.length;++u){var c=s[u].resolve(),l=e._fieldsArray.indexOf(c),f=c.resolvedType instanceof n?"int32":c.type,p=o.basic[f];t="m"+i.safeProp(c.name),c.map?(r("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",t,c.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",t)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(c.id<<3|2)>>>0,8|o.mapKey[c.keyType],c.keyType),void 0===p?r("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",l,t):r(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|p,f,t),r("}")("}")):c.repeated?(r("if(%s!=null&&%s.length){",t,t),c.packed&&void 0!==o.packed[f]?r("w.uint32(%i).fork()",(c.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",t)("w.%s(%s[i])",f,t)("w.ldelim()"):(r("for(var i=0;i<%s.length;++i)",t),void 0===p?a(r,c,l,t+"[i]"):r("w.uint32(%i).%s(%s[i])",(c.id<<3|p)>>>0,f,t)),r("}")):(c.optional&&r("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",t,c.name),void 0===p?a(r,c,l,t):r("w.uint32(%i).%s(%s)",(c.id<<3|p)>>>0,f,t))}return r("return w")};var n=r(77),o=r(115),i=r(33);function a(e,t,r,n){return t.resolvedType.group?e("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",r,n,(t.id<<3|3)>>>0,(t.id<<3|4)>>>0):e("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",r,n,(t.id<<3|2)>>>0)}},function(e,t,r){"use strict";e.exports=function(e){var t=i.codegen(["r","l"],e.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(e.fieldsArray.filter((function(e){return e.map})).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");e.group&&t("if((t&7)===4)")("break");t("switch(t>>>3){");for(var r=0;r<e.fieldsArray.length;++r){var s=e._fieldsArray[r].resolve(),u=s.resolvedType instanceof n?"int32":s.type,c="m"+i.safeProp(s.name);t("case %i:",s.id),s.map?(t("if(%s===util.emptyObject)",c)("%s={}",c)("var c2 = r.uint32()+r.pos"),void 0!==o.defaults[s.keyType]?t("k=%j",o.defaults[s.keyType]):t("k=null"),void 0!==o.defaults[u]?t("value=%j",o.defaults[u]):t("value=null"),t("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",s.keyType)("case 2:"),void 0===o.basic[u]?t("value=types[%i].decode(r,r.uint32())",r):t("value=r.%s()",u),t("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==o.long[s.keyType]?t('%s[typeof k==="object"?util.longToHash(k):k]=value',c):t("%s[k]=value",c)):s.repeated?(t("if(!(%s&&%s.length))",c,c)("%s=[]",c),void 0!==o.packed[u]&&t("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",c,u)("}else"),void 0===o.basic[u]?t(s.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",c,r):t("%s.push(r.%s())",c,u)):void 0===o.basic[u]?t(s.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",c,r):t("%s=r.%s()",c,u),t("break")}for(t("default:")("r.skipType(t&7)")("break")("}")("}"),r=0;r<e._fieldsArray.length;++r){var l=e._fieldsArray[r];l.required&&t("if(!m.hasOwnProperty(%j))",l.name)("throw util.ProtocolError(%j,{instance:m})",a(l))}return t("return m")};var n=r(77),o=r(115),i=r(33);function a(e){return"missing required '"+e.name+"'"}},function(e,t,r){"use strict";e.exports=function(e){var t=o.codegen(["m"],e.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),r=e.oneofsArray,n={};r.length&&t("var p={}");for(var u=0;u<e.fieldsArray.length;++u){var c=e._fieldsArray[u].resolve(),l="m"+o.safeProp(c.name);if(c.optional&&t("if(%s!=null&&m.hasOwnProperty(%j)){",l,c.name),c.map)t("if(!util.isObject(%s))",l)("return%j",i(c,"object"))("var k=Object.keys(%s)",l)("for(var i=0;i<k.length;++i){"),s(t,c,"k[i]"),a(t,c,u,l+"[k[i]]")("}");else if(c.repeated)t("if(!Array.isArray(%s))",l)("return%j",i(c,"array"))("for(var i=0;i<%s.length;++i){",l),a(t,c,u,l+"[i]")("}");else{if(c.partOf){var f=o.safeProp(c.partOf.name);1===n[c.partOf.name]&&t("if(p%s===1)",f)("return%j",c.partOf.name+": multiple values"),n[c.partOf.name]=1,t("p%s=1",f)}a(t,c,u,l)}c.optional&&t("}")}return t("return null")};var n=r(77),o=r(33);function i(e,t){return e.name+": "+t+(e.repeated&&"array"!==t?"[]":e.map&&"object"!==t?"{k:"+e.keyType+"}":"")+" expected"}function a(e,t,r,o){if(t.resolvedType)if(t.resolvedType instanceof n){e("switch(%s){",o)("default:")("return%j",i(t,"enum value"));for(var a=Object.keys(t.resolvedType.values),s=0;s<a.length;++s)e("case %i:",t.resolvedType.values[a[s]]);e("break")("}")}else e("{")("var e=types[%i].verify(%s);",r,o)("if(e)")("return%j+e",t.name+".")("}");else switch(t.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.isInteger(%s))",o)("return%j",i(t,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",o,o,o,o)("return%j",i(t,"integer|Long"));break;case"float":case"double":e('if(typeof %s!=="number")',o)("return%j",i(t,"number"));break;case"bool":e('if(typeof %s!=="boolean")',o)("return%j",i(t,"boolean"));break;case"string":e("if(!util.isString(%s))",o)("return%j",i(t,"string"));break;case"bytes":e('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',o,o,o)("return%j",i(t,"buffer"))}return e}function s(e,t,r){switch(t.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":e("if(!util.key32Re.test(%s))",r)("return%j",i(t,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":e("if(!util.key64Re.test(%s))",r)("return%j",i(t,"integer|Long key"));break;case"bool":e("if(!util.key2Re.test(%s))",r)("return%j",i(t,"boolean key"))}return e}},function(e,t,r){"use strict";var n=t,o=r(77),i=r(33);function a(e,t,r,n){if(t.resolvedType)if(t.resolvedType instanceof o){e("switch(d%s){",n);for(var i=t.resolvedType.values,a=Object.keys(i),s=0;s<a.length;++s)t.repeated&&i[a[s]]===t.typeDefault&&e("default:"),e("case%j:",a[s])("case %i:",i[a[s]])("m%s=%j",n,i[a[s]])("break");e("}")}else e('if(typeof d%s!=="object")',n)("throw TypeError(%j)",t.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",n,r,n);else{var u=!1;switch(t.type){case"double":case"float":e("m%s=Number(d%s)",n,n);break;case"uint32":case"fixed32":e("m%s=d%s>>>0",n,n);break;case"int32":case"sint32":case"sfixed32":e("m%s=d%s|0",n,n);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",n,n,u)('else if(typeof d%s==="string")',n)("m%s=parseInt(d%s,10)",n,n)('else if(typeof d%s==="number")',n)("m%s=d%s",n,n)('else if(typeof d%s==="object")',n)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",n,n,n,u?"true":"");break;case"bytes":e('if(typeof d%s==="string")',n)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",n,n,n)("else if(d%s.length)",n)("m%s=d%s",n,n);break;case"string":e("m%s=String(d%s)",n,n);break;case"bool":e("m%s=Boolean(d%s)",n,n)}}return e}function s(e,t,r,n){if(t.resolvedType)t.resolvedType instanceof o?e("d%s=o.enums===String?types[%i].values[m%s]:m%s",n,r,n,n):e("d%s=types[%i].toObject(m%s,o)",n,r,n);else{var i=!1;switch(t.type){case"double":case"float":e("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",n,n,n,n);break;case"uint64":i=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":e('if(typeof m%s==="number")',n)("d%s=o.longs===String?String(m%s):m%s",n,n,n)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",n,n,n,n,i?"true":"",n);break;case"bytes":e("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",n,n,n,n,n);break;default:e("d%s=m%s",n,n)}}return e}n.fromObject=function(e){var t=e.fieldsArray,r=i.codegen(["d"],e.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!t.length)return r("return new this.ctor");r("var m=new this.ctor");for(var n=0;n<t.length;++n){var s=t[n].resolve(),u=i.safeProp(s.name);s.map?(r("if(d%s){",u)('if(typeof d%s!=="object")',u)("throw TypeError(%j)",s.fullName+": object expected")("m%s={}",u)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",u),a(r,s,n,u+"[ks[i]]")("}")("}")):s.repeated?(r("if(d%s){",u)("if(!Array.isArray(d%s))",u)("throw TypeError(%j)",s.fullName+": array expected")("m%s=[]",u)("for(var i=0;i<d%s.length;++i){",u),a(r,s,n,u+"[i]")("}")("}")):(s.resolvedType instanceof o||r("if(d%s!=null){",u),a(r,s,n,u),s.resolvedType instanceof o||r("}"))}return r("return m")},n.toObject=function(e){var t=e.fieldsArray.slice().sort(i.compareFieldsById);if(!t.length)return i.codegen()("return {}");for(var r=i.codegen(["m","o"],e.name+"$toObject")("if(!o)")("o={}")("var d={}"),n=[],a=[],u=[],c=0;c<t.length;++c)t[c].partOf||(t[c].resolve().repeated?n:t[c].map?a:u).push(t[c]);if(n.length){for(r("if(o.arrays||o.defaults){"),c=0;c<n.length;++c)r("d%s=[]",i.safeProp(n[c].name));r("}")}if(a.length){for(r("if(o.objects||o.defaults){"),c=0;c<a.length;++c)r("d%s={}",i.safeProp(a[c].name));r("}")}if(u.length){for(r("if(o.defaults){"),c=0;c<u.length;++c){var l=u[c],f=i.safeProp(l.name);if(l.resolvedType instanceof o)r("d%s=o.enums===String?%j:%j",f,l.resolvedType.valuesById[l.typeDefault],l.typeDefault);else if(l.long)r("if(util.Long){")("var n=new util.Long(%i,%i,%j)",l.typeDefault.low,l.typeDefault.high,l.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",f)("}else")("d%s=o.longs===String?%j:%i",f,l.typeDefault.toString(),l.typeDefault.toNumber());else if(l.bytes){var p="["+Array.prototype.slice.call(l.typeDefault).join(",")+"]";r("if(o.bytes===String)d%s=%j",f,String.fromCharCode.apply(String,l.typeDefault))("else{")("d%s=%s",f,p)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",f,f)("}")}else r("d%s=%j",f,l.typeDefault)}r("}")}var d=!1;for(c=0;c<t.length;++c){l=t[c];var h=e._fieldsArray.indexOf(l);f=i.safeProp(l.name);l.map?(d||(d=!0,r("var ks2")),r("if(m%s&&(ks2=Object.keys(m%s)).length){",f,f)("d%s={}",f)("for(var j=0;j<ks2.length;++j){"),s(r,l,h,f+"[ks2[j]]")("}")):l.repeated?(r("if(m%s&&m%s.length){",f,f)("d%s=[]",f)("for(var j=0;j<m%s.length;++j){",f),s(r,l,h,f+"[j]")("}")):(r("if(m%s!=null&&m.hasOwnProperty(%j)){",f,l.name),s(r,l,h,f),l.partOf&&r("if(o.oneofs)")("d%s=%j",i.safeProp(l.partOf.name),l.name)),r("}")}return r("return d")}},function(e,t,r){"use strict";var n=t,o=r(190);n[".google.protobuf.Any"]={fromObject:function(e){if(e&&e["@type"]){var t=e["@type"].substring(e["@type"].lastIndexOf("/")+1),r=this.lookup(t);if(r){var n="."===e["@type"].charAt(0)?e["@type"].substr(1):e["@type"];return-1===n.indexOf("/")&&(n="/"+n),this.create({type_url:n,value:r.encode(r.fromObject(e)).finish()})}}return this.fromObject(e)},toObject:function(e,t){var r="",n="";if(t&&t.json&&e.type_url&&e.value){n=e.type_url.substring(e.type_url.lastIndexOf("/")+1),r=e.type_url.substring(0,e.type_url.lastIndexOf("/")+1);var i=this.lookup(n);i&&(e=i.decode(e.value))}if(!(e instanceof this.ctor)&&e instanceof o){var a=e.$type.toObject(e,t);return""===r&&(r="type.googleapis.com/"),n=r+("."===e.$type.fullName[0]?e.$type.fullName.substr(1):e.$type.fullName),a["@type"]=n,a}return this.toObject(e,t)}}},function(e,t,r){"use strict";e.exports=d;var n=/[\s{}=;:[\],'"()<>]/g,o=/(?:"([^"\\]*(?:\\.[^"\\]*)*)")/g,i=/(?:'([^'\\]*(?:\\.[^'\\]*)*)')/g,a=/^ *[*/]+ */,s=/^\s*\*?\/*/,u=/\n/g,c=/\s/,l=/\\(.?)/g,f={0:"\0",r:"\r",n:"\n",t:"\t"};function p(e){return e.replace(l,(function(e,t){switch(t){case"\\":case"":return t;default:return f[t]||""}}))}function d(e,t){e=e.toString();var r=0,l=e.length,f=1,d=null,h=null,v=0,y=!1,m=!1,g=[],_=null;function b(e){return Error("illegal "+e+" (line "+f+")")}function w(t){return e.charAt(t)}function E(r,n,o){d=e.charAt(r++),v=f,y=!1,m=o;var i,c=r-(t?2:3);do{if(--c<0||"\n"===(i=e.charAt(c))){y=!0;break}}while(" "===i||"\t"===i);for(var l=e.substring(r,n).split(u),p=0;p<l.length;++p)l[p]=l[p].replace(t?s:a,"").trim();h=l.join("\n").trim()}function O(t){var r=T(t),n=e.substring(t,r);return/^\s*\/{1,2}/.test(n)}function T(e){for(var t=e;t<l&&"\n"!==w(t);)t++;return t}function x(){if(g.length>0)return g.shift();if(_)return function(){var t="'"===_?i:o;t.lastIndex=r-1;var n=t.exec(e);if(!n)throw b("string");return r=t.lastIndex,k(_),_=null,p(n[1])}();var a,s,u,d,h,v=0===r;do{if(r===l)return null;for(a=!1;c.test(u=w(r));)if("\n"===u&&(v=!0,++f),++r===l)return null;if("/"===w(r)){if(++r===l)throw b("comment");if("/"===w(r))if(t){if(d=r,h=!1,O(r)){h=!0;do{if((r=T(r))===l)break;r++}while(O(r))}else r=Math.min(l,T(r)+1);h&&E(d,r,v),f++,a=!0}else{for(h="/"===w(d=r+1);"\n"!==w(++r);)if(r===l)return null;++r,h&&E(d,r-1,v),++f,a=!0}else{if("*"!==(u=w(r)))return"/";d=r+1,h=t||"*"===w(d);do{if("\n"===u&&++f,++r===l)throw b("comment");s=u,u=w(r)}while("*"!==s||"/"!==u);++r,h&&E(d,r-2,v),a=!0}}}while(a);var y=r;if(n.lastIndex=0,!n.test(w(y++)))for(;y<l&&!n.test(w(y));)++y;var m=e.substring(r,r=y);return'"'!==m&&"'"!==m||(_=m),m}function k(e){g.push(e)}function S(){if(!g.length){var e=x();if(null===e)return null;k(e)}return g[0]}return Object.defineProperty({next:x,peek:S,push:k,skip:function(e,t){var r=S();if(r===e)return x(),!0;if(!t)throw b("token '"+r+"', '"+e+"' expected");return!1},cmnt:function(e){var r=null;return void 0===e?v===f-1&&(t||"*"===d||y)&&(r=m?h:null):(v<e&&S(),v!==e||y||!t&&"/"!==d||(r=m?null:h)),r}},"line",{get:function(){return f}})}d.unescape=p},function(e,t,r){"use strict";var n=r(25),o=r(6),i=r(132),a=r(168),s=r(146),u=r(34),c=r(121),l=Object.assign,f=Object.defineProperty;e.exports=!l||o((function(){if(n&&1!==l({b:1},l(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol();return e[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(e){t[e]=e})),7!=l({},e)[r]||"abcdefghijklmnopqrst"!=i(l({},t)).join("")}))?function(e,t){for(var r=u(e),o=arguments.length,l=1,f=a.f,p=s.f;o>l;)for(var d,h=c(arguments[l++]),v=f?i(h).concat(f(h)):i(h),y=v.length,m=0;y>m;)d=v[m++],n&&!p.call(h,d)||(r[d]=h[d]);return r}:l},function(e,t,r){e.exports=r(331)()},function(e,t,r){"use strict";var n=r(89),o=r(34),i=r(334),a=r(173),s=r(17),u=r(148),c=r(131);e.exports=function(e){var t,r,l,f,p,d,h=o(e),v="function"==typeof this?this:Array,y=arguments.length,m=y>1?arguments[1]:void 0,g=void 0!==m,_=c(h),b=0;if(g&&(m=n(m,y>2?arguments[2]:void 0,2)),null==_||v==Array&&a(_))for(r=new v(t=s(h.length));t>b;b++)d=g?m(h[b],b):h[b],u(r,b,d);else for(p=(f=_.call(h)).next,r=new v;!(l=p.call(f)).done;b++)d=g?i(f,m,[l.value,b],!0):l.value,u(r,b,d);return r.length=b,r}},function(e,t,r){"use strict";var n=r(5),o=r(8),i=r(125),a=r(40),s=r(193),u=r(172),c=r(97),l=r(21),f=r(6),p=r(153),d=r(88),h=r(158);e.exports=function(e,t,r){var v=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),m=v?"set":"add",g=o[e],_=g&&g.prototype,b=g,w={},E=function(e){var t=_[e];a(_,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return y&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!l(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(i(e,"function"!=typeof g||!(y||_.forEach&&!f((function(){(new g).entries().next()})))))b=r.getConstructor(t,e,v,m),s.REQUIRED=!0;else if(i(e,!0)){var O=new b,T=O[m](y?{}:-0,1)!=O,x=f((function(){O.has(1)})),k=p((function(e){new g(e)})),S=!y&&f((function(){for(var e=new g,t=5;t--;)e[m](t,t);return!e.has(-0)}));k||((b=t((function(t,r){c(t,b,e);var n=h(new g,t,b);return null!=r&&u(r,n[m],{that:n,AS_ENTRIES:v}),n}))).prototype=_,_.constructor=b),(x||S)&&(E("delete"),E("has"),v&&E("get")),(S||T)&&E(m),y&&_.clear&&delete _.clear}return w[e]=b,n({global:!0,forced:b!=g},w),d(b,e),y||r.setStrong(b,e,v),b}},function(e,t,r){var n=r(6);e.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(e,t,r){"use strict";var n=r(28).f,o=r(98),i=r(151),a=r(89),s=r(97),u=r(172),c=r(182),l=r(152),f=r(25),p=r(193).fastKey,d=r(48),h=d.set,v=d.getterFor;e.exports={getConstructor:function(e,t,r,c){var l=e((function(e,n){s(e,l,t),h(e,{type:t,index:o(null),first:void 0,last:void 0,size:0}),f||(e.size=0),null!=n&&u(n,e[c],{that:e,AS_ENTRIES:r})})),d=v(t),y=function(e,t,r){var n,o,i=d(e),a=m(e,t);return a?a.value=r:(i.last=a={index:o=p(t,!0),key:t,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),f?i.size++:e.size++,"F"!==o&&(i.index[o]=a)),e},m=function(e,t){var r,n=d(e),o=p(t);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==t)return r};return i(l.prototype,{clear:function(){for(var e=d(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,f?e.size=0:this.size=0},delete:function(e){var t=d(this),r=m(this,e);if(r){var n=r.next,o=r.previous;delete t.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),t.first==r&&(t.first=n),t.last==r&&(t.last=o),f?t.size--:this.size--}return!!r},forEach:function(e){for(var t,r=d(this),n=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),i(l.prototype,r?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return y(this,0===e?0:e,t)}}:{add:function(e){return y(this,e=0===e?0:e,e)}}),f&&n(l.prototype,"size",{get:function(){return d(this).size}}),l},setStrong:function(e,t,r){var n=t+" Iterator",o=v(t),i=v(n);c(e,t,(function(e,t){h(this,{type:n,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=i(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(t)}}},function(e,t,r){var n=r(6),o=r(10),i=r(87),a=o("iterator");e.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),i&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host}))},function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(250),i=Object.keys,a=i?function(e){return i(e)}:r(358),s=Object.keys;a.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return o(e)?s(n.call(e)):s(e)}):Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,r){"use strict";var n=Object.prototype.toString;e.exports=function(e){var t=n.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===n.call(e.callee)),r}},function(e,t,r){"use strict";var n=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!n(e)||!n(t))}},function(e,t,r){"use strict";var n=r(251);e.exports=function(){return"function"==typeof Object.is?Object.is:n}},function(e,t,r){"use strict";var n=Object,o=TypeError;e.exports=function(){if(null!=this&&this!==n(this))throw new o("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,r){"use strict";var n=r(253),o=r(101).supportsDescriptors,i=Object.getOwnPropertyDescriptor,a=TypeError;e.exports=function(){if(!o)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=i(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return n}},function(e,t,r){"use strict";var n=Date.prototype.getDay,o=Object.prototype.toString,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(i?function(e){try{return n.call(e),!0}catch(e){return!1}}(e):"[object Date]"===o.call(e))}},function(e,t,r){"use strict";e.exports=r(371)},function(e,t,r){"use strict";var n=r(372),o=r(390),i=r(256),a=r(196)("String.prototype.slice");e.exports=function(e){var t,r=i(this),s=o(r),u=n(s.length);arguments.length>1&&(t=arguments[1]);var c=void 0===t?"":o(t);""===c&&(c=" ");var l=n(e);if(l<=u)return s;for(var f=l-u;c.length<f;){var p=c.length,d=f-p;c+=p>d?a(c,0,d):c}var h=c.length>f?a(c,0,f):c;return h+s}},function(e,t,r){"use strict";var n=r(257);e.exports=function(){return"function"==typeof String.prototype.padStart?String.prototype.padStart:n}},function(e,t,r){"use strict";e.exports=r(314)},function(e){e.exports=JSON.parse('{"nested":{"smartnav":{"nested":{"BoundingBox":{"fields":{"top":{"type":"float","id":1},"right":{"type":"float","id":2},"bottom":{"type":"float","id":3},"left":{"type":"float","id":4}}},"Image":{"fields":{}},"Text":{"fields":{"fontSize":{"type":"float","id":1}}},"Block":{"oneofs":{"blockType":{"oneof":["image","text"]}},"fields":{"boundingBox":{"type":"BoundingBox","id":1},"image":{"type":"Image","id":2},"text":{"type":"Text","id":3}}},"Page":{"fields":{"pageNumber":{"type":"uint32","id":1},"width":{"type":"float","id":2},"height":{"type":"float","id":3},"blocks":{"rule":"repeated","type":"Block","id":4}}},"Asset":{"fields":{"pages":{"rule":"repeated","type":"Page","id":1}}}}}}}')},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}()},function(e,t,r){var n;n=function(e,t,r,n){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./index.js")}({"./index.js":
/*!******************!*\
  !*** ./index.js ***!
  \******************/
/*! exports provided: default */function(e,t,r){"use strict";r.r(t);var n=r(/*! react */"react"),o=r.n(n),i=r(/*! react-dom */"react-dom"),a=r.n(i),s=r(/*! prop-types */"prop-types"),u=r.n(s);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e){function t(){return l(this,t),p(this,d(t).apply(this,arguments))}var n,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(i=[{key:"propsWith",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={};return Object.keys(this.props).forEach((function(n){if(-1!==n.search(e)){var o=t?n.replace(e,""):n;r[o]=this.props[n]}}),this),r}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"componentDidMount",value:function(){var e=this.props.options||this.propsWith(/^option-/,!0),t=a.a.findDOMNode(this.element);if(t){var n=r(/*! clipboard */"clipboard");this.clipboard=new n(t,e);var o=this.propsWith(/^on/,!0);Object.keys(o).forEach((function(e){this.clipboard.on(e.toLowerCase(),this.props["on"+e])}),this)}}},{key:"render",value:function(){var e=this,t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){v(e,t,r[t])}))}return e}({title:this.props.title||"",type:this.getType(),className:this.props.className||"",style:this.props.style||{},ref:function(t){return e.element=t},onClick:this.props.onClick},this.propsWith(/^data-/),this.propsWith(/^button-/,!0)),n=r(/*! clipboard */"clipboard");return this.props.isVisibleWhenUnsupported||n.isSupported()?o.a.createElement(this.getComponent(),t,this.props.children):null}},{key:"getType",value:function(){return"button"===this.getComponent()||"input"===this.getComponent()?this.props.type||"button":void 0}},{key:"getComponent",value:function(){return this.props.component||"button"}}])&&f(n.prototype,i),s&&f(n,s),t}(o.a.Component);v(y,"propTypes",{options:function(e,t,r){var n=e[t];return n&&"object"!==c(n)||Array.isArray(n)?new Error("Invalid props '".concat(t,"' supplied to '").concat(r,"'. ")+"'".concat(t,"' is not an object.")):void 0!==e["option-text"]&&"function"!=typeof e["option-text"]?new Error("Invalid props 'option-text' supplied to '".concat(r,"'. ")+"'option-text' is not a function."):void 0},title:u.a.string,type:u.a.string,className:u.a.string,style:u.a.object,component:u.a.any,children:u.a.any}),v(y,"defaultProps",{isVisibleWhenUnsupported:!0,onClick:function(){}}),t.default=y},clipboard:
/*!********************************************************************************************************!*\
  !*** external {"root":"ClipboardJS","amd":"clipboard","commonjs":"clipboard","commonjs2":"clipboard"} ***!
  \********************************************************************************************************/
/*! no static exports found */function(t,r){t.exports=e},"prop-types":
/*!*********************************************************************************************************!*\
  !*** external {"root":"PropTypes","amd":"prop-types","commonjs":"prop-types","commonjs2":"prop-types"} ***!
  \*********************************************************************************************************/
/*! no static exports found */function(e,r){e.exports=t},react:
/*!**************************************************************************************!*\
  !*** external {"root":"React","amd":"react","commonjs":"react","commonjs2":"react"} ***!
  \**************************************************************************************/
/*! no static exports found */function(e,t){e.exports=r},"react-dom":
/*!*****************************************************************************************************!*\
  !*** external {"root":"ReactDOM","amd":"react-dom","commonjs":"react-dom","commonjs2":"react-dom"} ***!
  \*****************************************************************************************************/
/*! no static exports found */function(e,t){e.exports=n}})},e.exports=n(r(347),r(243),r(0),r(83))},function(e,t){var r="function"==typeof Float32Array;function n(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function i(e){return 3*e}function a(e,t,r){return((n(t,r)*e+o(t,r))*e+i(t))*e}function s(e,t,r){return 3*n(t,r)*e*e+2*o(t,r)*e+i(t)}function u(e){return e}e.exports=function(e,t,n,o){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===t&&n===o)return u;for(var i=r?new Float32Array(11):new Array(11),c=0;c<11;++c)i[c]=a(.1*c,e,n);function l(t){for(var r=0,o=1;10!==o&&i[o]<=t;++o)r+=.1;--o;var u=r+.1*((t-i[o])/(i[o+1]-i[o])),c=s(u,e,n);return c>=.001?function(e,t,r,n){for(var o=0;o<4;++o){var i=s(t,r,n);if(0===i)return t;t-=(a(t,r,n)-e)/i}return t}(t,u,e,n):0===c?u:function(e,t,r,n,o){var i,s,u=0;do{(i=a(s=t+(r-t)/2,n,o)-e)>0?r=s:t=s}while(Math.abs(i)>1e-7&&++u<10);return s}(t,r,r+.1,e,n)}return function(e){return 0===e?0:1===e?1:a(l(e),t,o)}}},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nvoid main ()\n{\n  gl_FragColor = u_color;\n}\n\n"},function(e,t){e.exports="attribute vec2 a_vertex;\nuniform mat3 u_displayMatrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1.w = 1.0;\n  tmpvar_1.xyz = ((texture2D (u_texture, v_texCoord).xyz * u_color.w) + (u_color.xyz * u_color.w));\n  gl_FragColor = tmpvar_1;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec2 a_vertex;\nattribute vec2 a_texCoord;\nuniform mat3 u_displayMatrix;\nvarying vec2 v_texCoord;\nvoid main ()\n{\n  v_texCoord = a_texCoord;\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = a_vertex;\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xyz = (u_displayMatrix * tmpvar_1);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t,r){"use strict";(function(e,r){/*! @vimeo/player v2.15.0 | (c) 2021 Vimeo | MIT License | https://github.com/vimeo/player.js */
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=void 0!==e&&"[object global]"==={}.toString.call(e);function a(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function c(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,r=e.url,n=t||r;if(!n)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(u(n))return"https://vimeo.com/".concat(n);if(c(n))return n.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(n,"” is not a vimeo.com url."))}var f=void 0!==Array.prototype.indexOf,p="undefined"!=typeof window&&void 0!==window.postMessage;if(!(i||f&&p))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var d="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
 * weakmap-polyfill v2.0.1 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2020 Polygon Planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,r=function(e,t,r){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:r}):e[t]=r};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(r(this,"_id",i("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function o(e,r){if(!n(e)||!t.call(e,"_id"))throw new TypeError(r+" method called on incompatible receiver "+typeof e)}function i(e){return e+"_"+a()+"."+a()}function a(){return Math.random().toString().substring(2)}return r(e.prototype,"delete",(function(e){if(o(this,"delete"),!n(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)})),r(e.prototype,"get",(function(e){if(o(this,"get"),n(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),r(e.prototype,"has",(function(e){if(o(this,"has"),!n(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),r(e.prototype,"set",(function(e,t){if(o(this,"set"),!n(e))throw new TypeError("Invalid value used as weak map key");var i=e[this._id];return i&&i[0]===e?(i[1]=t,this):(r(e,this._id,[e,t]),this)})),r(e,"_polyfill",!0),e}()}function n(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:d);var h=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
var t,n,o;o=function(){var e,t,n,o=Object.prototype.toString,i=void 0!==r?function(e){return r(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,r,n){return Object.defineProperty(e,t,{value:r,writable:!0,configurable:!1!==n})}}catch(t){e=function(e,t,r){return e[t]=r,e}}function a(e,r){n.add(e,r),t||(t=i(n.drain))}function s(e){var t,r=typeof e;return null==e||"object"!=r&&"function"!=r||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)c(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function c(e,t,r){var n,o;try{!1===t?r.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===r.promise?r.reject(TypeError("Promise-chain cycle")):(o=s(n))?o.call(n,r.resolve,r.reject):r.resolve(n)}catch(e){r.reject(e)}}function l(e){var t,r=this;if(!r.triggered){r.triggered=!0,r.def&&(r=r.def);try{(t=s(e))?a((function(){var n=new d(r);try{t.call(e,(function(){l.apply(n,arguments)}),(function(){f.apply(n,arguments)}))}catch(e){f.call(n,e)}})):(r.msg=e,r.state=1,r.chain.length>0&&a(u,r))}catch(e){f.call(new d(r),e)}}}function f(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(u,t))}function p(e,t,r,n){for(var o=0;o<t.length;o++)!function(o){e.resolve(t[o]).then((function(e){r(o,e)}),n)}(o)}function d(e){this.def=e,this.triggered=!1}function h(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function v(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new h(this);this.then=function(e,r){var n={success:"function"!=typeof e||e,failure:"function"==typeof r&&r};return n.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t})),t.chain.push(n),0!==t.state&&a(u,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){l.call(t,e)}),(function(e){f.call(t,e)}))}catch(e){f.call(t,e)}}n=function(){var e,r,n;function o(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,i){n=new o(t,i),r?r.next=n:e=n,r=n,n=void 0},drain:function(){var n=e;for(e=r=t=void 0;n;)n.fn.call(n.self),n=n.next}}}();var y=e({},"constructor",v,!1);return v.prototype=y,e(y,"__NPO__",0,!1),e(v,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");t(e)}))})),e(v,"reject",(function(e){return new this((function(t,r){if("function"!=typeof t||"function"!=typeof r)throw TypeError("Not a function");r(e)}))})),e(v,"all",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");var o=e.length,i=Array(o),a=0;p(t,e,(function(e,t){i[e]=t,++a===o&&r(i)}),n)}))})),e(v,"race",(function(e){var t=this;return"[object Array]"!=o.call(e)?t.reject(TypeError("Not an array")):new t((function(r,n){if("function"!=typeof r||"function"!=typeof n)throw TypeError("Not a function");p(t,e,(function(e,t){r(t)}),n)}))})),v},(n=d)[t="Promise"]=n[t]||o(),e.exports&&(e.exports=n[t])})),v=new WeakMap;function y(e,t,r){var n=v.get(e.element)||{};t in n||(n[t]=[]),n[t].push(r),v.set(e.element,n)}function m(e,t){return(v.get(e.element)||{})[t]||[]}function g(e,t,r){var n=v.get(e.element)||{};if(!n[t])return!0;if(!r)return n[t]=[],v.set(e.element,n),!0;var o=n[t].indexOf(r);return-1!==o&&n[t].splice(o,1),v.set(e.element,n),n[t]&&0===n[t].length}function _(e,t){var r=v.get(e);v.set(t,r),v.delete(e)}var b=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.reduce((function(t,r){var n=e.getAttribute("data-vimeo-".concat(r));return(n||""===n)&&(t[r]=""===n?1:n),t}),t)}function E(e,t){var r=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=r,t.appendChild(n.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return new Promise((function(n,o){if(!c(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var i="https://web.archive.org/web/20220221113829/https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var a in t)t.hasOwnProperty(a)&&(i+="&".concat(a,"=").concat(encodeURIComponent(t[a])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",i,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return E(t,r),void o(new Error("“".concat(e,"” is not embeddable.")));n(t)}catch(e){o(e)}else o(new Error("“".concat(e,"” is not embeddable.")));else o(new Error("“".concat(e,"” was not found.")))},s.onerror=function(){var e=s.status?" (".concat(s.status,")"):"";o(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},s.send()}))}function T(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function x(e,t,r){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var n={method:t};void 0!==r&&(n.value=r);var o=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));o>=8&&o<10&&(n=JSON.stringify(n)),e.element.contentWindow.postMessage(n,e.origin)}}function k(e,t){var r,n=[];if((t=T(t)).event){if("error"===t.event)m(e,t.data.method).forEach((function(r){var n=new Error(t.data.message);n.name=t.data.name,r.reject(n),g(e,t.data.method,r)}));n=m(e,"event:".concat(t.event)),r=t.data}else if(t.method){var o=function(e,t){var r=m(e,t);if(r.length<1)return!1;var n=r.shift();return g(e,t,n),n}(e,t.method);o&&(n.push(o),r=t.value)}n.forEach((function(t){try{if("function"==typeof t)return void t.call(e,r);t.resolve(r)}catch(e){}}))}var S=new WeakMap,P=new WeakMap,C={},A=function(){function e(t){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!s(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var i=t.querySelector("iframe");i&&(t=i)}if("IFRAME"===t.nodeName&&!c(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(S.has(t))return S.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var a=new h((function(e,n){if(r._onMessage=function(t){if(c(t.origin)&&r.element.contentWindow===t.source){"*"===r.origin&&(r.origin=t.origin);var o=T(t.data);if(o&&"error"===o.event&&o.data&&"ready"===o.data.method){var i=new Error(o.data.message);return i.name=o.data.name,void n(i)}var a=o&&"ready"===o.event,s=o&&"ping"===o.method;if(a||s)return r.element.setAttribute("data-ready","true"),void e();k(r,o)}},r._window.addEventListener("message",r._onMessage),"IFRAME"!==r.element.nodeName){var i=w(t,o);O(l(i),i,t).then((function(e){var n=E(e,t);return r.element=n,r._originalElement=t,_(t,n),S.set(r.element,r),e})).catch(n)}}));if(P.set(this,a),S.set(this.element,this),"IFRAME"===this.element.nodeName&&x(this,"ping"),C.isEnabled){var u=function(){return C.exit()};C.on("fullscreenchange",(function(){C.isFullscreen?y(r,"event:exitFullscreen",u):g(r,"event:exitFullscreen",u),r.ready().then((function(){x(r,"fullscreenchange",C.isFullscreen)}))}))}return this}var t,r,i;return t=e,(r=[{key:"callMethod",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new h((function(n,o){return t.ready().then((function(){y(t,e,{resolve:n,reject:o}),x(t,e,r)})).catch(o)}))}},{key:"get",value:function(e){var t=this;return new h((function(r,n){return e=a(e,"get"),t.ready().then((function(){y(t,e,{resolve:r,reject:n}),x(t,e)})).catch(n)}))}},{key:"set",value:function(e,t){var r=this;return new h((function(n,o){if(e=a(e,"set"),null==t)throw new TypeError("There must be a value to set.");return r.ready().then((function(){y(r,e,{resolve:n,reject:o}),x(r,e,t)})).catch(o)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===m(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),y(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");g(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=P.get(this)||new h((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return h.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return C.isEnabled?C.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return C.isEnabled?C.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return C.isEnabled?h.resolve(C.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new h((function(t){if(P.delete(e),S.delete(e.element),e._originalElement&&(S.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e.element&&"DIV"===e.element.nodeName&&e.element.parentNode){e.element.removeAttribute("data-vimeo-initialized");var r=e.element.querySelector("iframe");r&&r.parentNode&&r.parentNode.removeChild(r)}e._window.removeEventListener("message",e._onMessage),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(e){return this.set("cameraProps",e)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&o(t.prototype,r),i&&o(t,i),e}();i||(C=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,n=t.length,o={};r<n;r++)if((e=t[r])&&e[1]in document){for(r=0;r<e.length;r++)o[t[0][r]]=e[r];return o}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},r={request:function(t){return new Promise((function(n,o){var i=function e(){r.off("fullscreenchange",e),n()};r.on("fullscreenchange",i);var a=(t=t||document.documentElement)[e.requestFullscreen]();a instanceof Promise&&a.then(i).catch(o)}))},exit:function(){return new Promise((function(t,n){if(r.isFullscreen){var o=function e(){r.off("fullscreenchange",e),t()};r.on("fullscreenchange",o);var i=document[e.exitFullscreen]();i instanceof Promise&&i.then(o).catch(n)}else t()}))},on:function(e,r){var n=t[e];n&&document.addEventListener(n,r)},off:function(e,r){var n=t[e];n&&document.removeEventListener(n,r)}};return Object.defineProperties(r,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),r}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),r=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=w(e);O(l(t),t,e).then((function(t){return E(t,e)})).catch(r)}catch(e){r(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(c(t.origin)&&t.data&&"spacechange"===t.data.event)for(var r=e.querySelectorAll("iframe"),n=0;n<r.length;n++)if(r[n].contentWindow===t.source){r[n].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener("message",t)}}()),t.a=A}).call(this,r(50),r(368).setImmediate)},function(e,t){e.exports="precision highp float;\nvoid main ()\n{\n  highp float tmpvar_1;\n  tmpvar_1 = abs(gl_FragCoord.z);\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 0.25;\n  tmpvar_2.x = tmpvar_1;\n  tmpvar_2.y = tmpvar_1;\n  tmpvar_2.z = tmpvar_1;\n  gl_FragColor = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nuniform mat3 u_matrix;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.7);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.35));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D depthMapTexture;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  lowp vec4 color_1;\n  color_1 = (texture2D (depthMapTexture, v_shadowBlurCoords[0]) * 0.04436833);\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[1]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[2]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[3]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowTexcoord) * 0.1595769));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[4]) * 0.1473081));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[5]) * 0.1158766));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[6]) * 0.07767442));\n  color_1 = (color_1 + (texture2D (depthMapTexture, v_shadowBlurCoords[7]) * 0.04436833));\n  gl_FragColor = color_1;\n}\n\n"},function(e,t){e.exports="attribute vec3 vertex;\nvarying vec2 v_shadowTexcoord;\nvarying vec2 v_shadowBlurCoords[8];\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((vertex.xy + vec2(1.0, 1.0)) / vec2(2.0, 2.0));\n  v_shadowTexcoord = tmpvar_1;\n  v_shadowBlurCoords[0] = (tmpvar_1 + vec2(0.0, -0.016));\n  v_shadowBlurCoords[1] = (tmpvar_1 + vec2(0.0, -0.012));\n  v_shadowBlurCoords[2] = (tmpvar_1 + vec2(0.0, -0.008));\n  v_shadowBlurCoords[3] = (tmpvar_1 + vec2(0.0, -0.004));\n  v_shadowBlurCoords[4] = (tmpvar_1 + vec2(0.0, 0.004));\n  v_shadowBlurCoords[5] = (tmpvar_1 + vec2(0.0, 0.008));\n  v_shadowBlurCoords[6] = (tmpvar_1 + vec2(0.0, 0.012));\n  v_shadowBlurCoords[7] = (tmpvar_1 + vec2(0.0, 0.016));\n  highp vec4 tmpvar_2;\n  tmpvar_2.w = 1.0;\n  tmpvar_2.xy = vertex.xy;\n  tmpvar_2.z = -(vertex.z);\n  gl_Position = tmpvar_2;\n}\n\n"},function(e,t){e.exports="precision mediump float;\nuniform sampler2D texture;\nvarying vec2 textureCoordinate;\nuniform float opacity;\nvoid main ()\n{\n  lowp vec4 tmpvar_1;\n  tmpvar_1 = texture2D (texture, textureCoordinate);\n  gl_FragColor = (tmpvar_1 * opacity);\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nuniform vec4 texCoords;\nuniform vec4 bbox;\nuniform vec2 viewport;\nvarying vec2 textureCoordinate;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vec2 tmpvar_4;\n  tmpvar_4.x = (texCoords.x + (vertex.x * texCoords.z));\n  tmpvar_4.y = (texCoords.y + (vertex.y * texCoords.w));\n  textureCoordinate = tmpvar_4;\n  highp vec4 tmpvar_5;\n  tmpvar_5.zw = vec2(0.0, 1.0);\n  tmpvar_5.xy = tmpvar_3;\n  gl_Position = tmpvar_5;\n}\n\n"},function(e,t){e.exports="precision highp float;\nvarying vec3 vnormal;\nvarying vec3 cameraDirection;\nvarying vec3 lightDirection;\nvarying vec2 texcoord;\nuniform float lightRatio;\nuniform sampler2D texture;\nuniform bool showSpinner;\nuniform float tick;\nuniform float spinnerSize;\nuniform vec4 bbox;\nuniform vec2 viewport;\nuniform vec4 clipRect;\nvoid main ()\n{\n  lowp vec3 color_1;\n  if (showSpinner) {\n    float tmpvar_2;\n    float tmpvar_3;\n    tmpvar_3 = (bbox.w * viewport.y);\n    tmpvar_2 = (1.0/((tmpvar_3 / 2.0)));\n    vec2 tmpvar_4;\n    tmpvar_4.x = ((texcoord.x - 0.5) * ((bbox.z * viewport.x) / tmpvar_3));\n    tmpvar_4.y = (texcoord.y - 0.5);\n    float tmpvar_5;\n    tmpvar_5 = (((spinnerSize * tmpvar_2) * 2.5) / 15.7);\n    float tmpvar_6;\n    tmpvar_6 = (((spinnerSize * tmpvar_2) * 6.75) / 15.7);\n    float tmpvar_7;\n    tmpvar_7 = sqrt(dot (tmpvar_4, tmpvar_4));\n    float tmpvar_8;\n    tmpvar_8 = (((spinnerSize * tmpvar_2) * 0.6) / 15.7);\n    float tmpvar_9;\n    tmpvar_9 = ((spinnerSize * tmpvar_2) / 15.7);\n    vec2 tmpvar_10;\n    float tmpvar_11;\n    tmpvar_11 = (tick * 0.00435);\n    tmpvar_10.x = sin(tmpvar_11);\n    tmpvar_10.y = cos(tmpvar_11);\n    vec2 tmpvar_12;\n    tmpvar_12 = normalize(tmpvar_10);\n    float tmpvar_13;\n    float x_14;\n    x_14 = (dot (tmpvar_4, tmpvar_12) / sqrt(dot (tmpvar_4, tmpvar_4)));\n    tmpvar_13 = (1.570796 - (sign(x_14) * (1.570796 - \n      (sqrt((1.0 - abs(x_14))) * (1.570796 + (abs(x_14) * (-0.2146018 + \n        (abs(x_14) * (0.08656672 + (abs(x_14) * -0.03102955)))\n      ))))\n    )));\n    float edge0_15;\n    edge0_15 = ((tmpvar_5 - tmpvar_8) - tmpvar_2);\n    float tmpvar_16;\n    tmpvar_16 = clamp (((tmpvar_7 - edge0_15) / (\n      (tmpvar_5 - tmpvar_8)\n     - edge0_15)), 0.0, 1.0);\n    float edge0_17;\n    edge0_17 = (tmpvar_5 + tmpvar_8);\n    float tmpvar_18;\n    tmpvar_18 = clamp (((tmpvar_7 - edge0_17) / (\n      ((tmpvar_5 + tmpvar_8) + tmpvar_2)\n     - edge0_17)), 0.0, 1.0);\n    float tmpvar_19;\n    tmpvar_19 = ((tmpvar_16 * (tmpvar_16 * \n      (3.0 - (2.0 * tmpvar_16))\n    )) * (1.0 - (tmpvar_18 * \n      (tmpvar_18 * (3.0 - (2.0 * tmpvar_18)))\n    )));\n    float edge0_20;\n    edge0_20 = ((tmpvar_6 - tmpvar_9) - tmpvar_2);\n    float tmpvar_21;\n    tmpvar_21 = clamp (((tmpvar_7 - edge0_20) / (\n      (tmpvar_6 - tmpvar_9)\n     - edge0_20)), 0.0, 1.0);\n    float edge0_22;\n    edge0_22 = (tmpvar_6 + tmpvar_9);\n    float tmpvar_23;\n    tmpvar_23 = clamp (((tmpvar_7 - edge0_22) / (\n      ((tmpvar_6 + tmpvar_9) + tmpvar_2)\n     - edge0_22)), 0.0, 1.0);\n    float tmpvar_24;\n    tmpvar_24 = ((tmpvar_21 * (tmpvar_21 * \n      (3.0 - (2.0 * tmpvar_21))\n    )) * (1.0 - (tmpvar_23 * \n      (tmpvar_23 * (3.0 - (2.0 * tmpvar_23)))\n    )));\n    vec2 tmpvar_25;\n    tmpvar_25.x = tmpvar_12.y;\n    tmpvar_25.y = -(tmpvar_12.x);\n    vec2 x_26;\n    x_26 = (tmpvar_4 - (tmpvar_25 * tmpvar_6));\n    float tmpvar_27;\n    tmpvar_27 = clamp (((\n      sqrt(dot (x_26, x_26))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_28;\n    tmpvar_28 = (1.0 - (tmpvar_27 * (tmpvar_27 * \n      (3.0 - (2.0 * tmpvar_27))\n    )));\n    vec2 tmpvar_29;\n    tmpvar_29.x = -(tmpvar_12.y);\n    tmpvar_29.y = tmpvar_12.x;\n    vec2 x_30;\n    x_30 = (tmpvar_4 - (tmpvar_29 * tmpvar_6));\n    float tmpvar_31;\n    tmpvar_31 = clamp (((\n      sqrt(dot (x_30, x_30))\n     - tmpvar_9) / (\n      (tmpvar_9 + tmpvar_2)\n     - tmpvar_9)), 0.0, 1.0);\n    float tmpvar_32;\n    tmpvar_32 = (1.0 - (tmpvar_31 * (tmpvar_31 * \n      (3.0 - (2.0 * tmpvar_31))\n    )));\n    float tmpvar_33;\n    tmpvar_33 = (max (tmpvar_19, tmpvar_24) * 0.5);\n    float tmpvar_34;\n    if ((tmpvar_13 < 1.570796)) {\n      tmpvar_34 = tmpvar_24;\n    } else {\n      tmpvar_34 = 0.0;\n    };\n    color_1 = mix (vec3(0.9453125, 0.9453125, 0.9453125), vec3(0.6015625, 0.65625, 0.6601562), max (max (tmpvar_33, tmpvar_34), max (\n      max (tmpvar_28, tmpvar_32)\n    , tmpvar_19)));\n  } else {\n    color_1 = texture2D (texture, texcoord).xyz;\n  };\n  lowp vec3 tmpvar_35;\n  vec3 I_36;\n  I_36 = -(lightDirection);\n  tmpvar_35 = (((\n    ((vec3(0.9, 0.9, 0.9) * color_1) + ((vec3(0.2, 0.2, 0.2) * clamp (\n      dot (vnormal, lightDirection)\n    , 0.0, 1.0)) * color_1))\n   + \n    (vec3(0.3, 0.3, 0.3) * pow (max (dot (\n      (I_36 - (2.0 * (dot (vnormal, I_36) * vnormal)))\n    , cameraDirection), 0.0), 5.0))\n  ) * lightRatio) + ((1.0 - lightRatio) * color_1));\n  color_1 = tmpvar_35;\n  if ((((\n    (texcoord.x >= clipRect.x)\n   && \n    (texcoord.x <= clipRect.y)\n  ) && (texcoord.y >= clipRect.z)) && (texcoord.y <= clipRect.w))) {\n    lowp vec4 tmpvar_37;\n    tmpvar_37.w = 1.0;\n    tmpvar_37.xyz = tmpvar_35;\n    gl_FragColor = tmpvar_37;\n  } else {\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n  };\n}\n\n"},function(e,t){e.exports="precision highp float;\nattribute vec3 vertex;\nattribute vec3 normal;\nattribute vec2 textureCoord;\nattribute float perspectiveCorrection;\nuniform mat3 u_matrix;\nuniform mat3 u_texMatrix;\nvarying vec3 vnormal;\nvarying vec3 lightDirection;\nvarying vec3 cameraDirection;\nvarying vec2 texcoord;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  vnormal = normal;\n  lightDirection = normalize((vec3(10.0, 5.0, 4.0) - tmpvar_2));\n  cameraDirection = normalize((vec3(0.0, 0.0, 1.0) - tmpvar_2));\n  vec3 tmpvar_3;\n  tmpvar_3.z = 1.0;\n  tmpvar_3.xy = textureCoord;\n  texcoord = (u_texMatrix * tmpvar_3).xy;\n  highp vec4 tmpvar_4;\n  tmpvar_4.xy = tmpvar_2.xy;\n  tmpvar_4.z = -(vertex.z);\n  tmpvar_4.w = perspectiveCorrection;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform mat3 u_matrix;\nattribute vec3 vertex;\nvoid main ()\n{\n  vec3 tmpvar_1;\n  tmpvar_1.z = 1.0;\n  tmpvar_1.xy = vertex.xy;\n  vec3 tmpvar_2;\n  tmpvar_2.xy = (u_matrix * tmpvar_1).xy;\n  tmpvar_2.z = vertex.z;\n  highp vec4 tmpvar_3;\n  tmpvar_3.xy = tmpvar_2.xy;\n  tmpvar_3.z = (-(vertex.z) * 0.8);\n  tmpvar_3.w = (1.0 + (vertex.z * -0.2));\n  gl_Position = tmpvar_3;\n}\n\n"},function(e,t){e.exports="precision highp float;\nuniform bool backFacing;\nvoid main ()\n{\n  if (backFacing) {\n    gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0);\n  } else {\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0);\n  };\n}\n\n"},function(e,t){e.exports="#extension GL_OES_standard_derivatives : enable\nprecision highp float;\nuniform float opacity;\nuniform float strokeWidth;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec4 tmpvar_1;\n  tmpvar_1.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_1.w = opacity;\n  vec4 tmpvar_2;\n  tmpvar_2.xyz = vec3(0.4627451, 0.6470588, 0.8);\n  tmpvar_2.w = (opacity / 2.0);\n  vec4 tmpvar_3;\n  vec4 tmpvar_4;\n  tmpvar_4 = clamp ((vBC / (\n    (abs(dFdx(vBC)) + abs(dFdy(vBC)))\n   * strokeWidth)), 0.0, 1.0);\n  tmpvar_3 = (tmpvar_4 * (tmpvar_4 * (3.0 - \n    (2.0 * tmpvar_4)\n  )));\n  gl_FragColor = mix (tmpvar_1, tmpvar_2, min (min (tmpvar_3.x, tmpvar_3.y), min (tmpvar_3.z, tmpvar_3.w)));\n}\n\n"},function(e,t){e.exports="attribute vec2 vertex;\nattribute vec4 barycentric;\nuniform vec2 viewport;\nuniform vec4 bbox;\nvarying vec4 vBC;\nvoid main ()\n{\n  vec2 tmpvar_1;\n  tmpvar_1 = ((2.0 * bbox.xz) / viewport.x);\n  vec2 tmpvar_2;\n  tmpvar_2 = ((2.0 * bbox.yw) / viewport.y);\n  highp vec2 tmpvar_3;\n  tmpvar_3.x = ((tmpvar_1.x - 1.0) + (vertex.x * tmpvar_1.y));\n  tmpvar_3.y = ((1.0 - tmpvar_2.x) - (vertex.y * tmpvar_2.y));\n  vBC = barycentric;\n  highp vec4 tmpvar_4;\n  tmpvar_4.zw = vec2(0.0, 1.0);\n  tmpvar_4.xy = tmpvar_3;\n  gl_Position = tmpvar_4;\n}\n\n"},function(e,t,r){"use strict";var n=r(101),o=r(256),i=r(144),a=r(257),s=r(258),u=r(391),c=i.apply(s()),l=function(e,t){o(e);var r=[t];return arguments.length>2&&r.push(arguments[2]),c(e,r)};n(l,{getPolyfill:s,implementation:a,shim:u}),e.exports=l},function(e,t,r){"use strict";t.a=function(e){function t(e,t,n){var o=t.trim().split(h);t=o;var i=o.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<i;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<i;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",o[s],n).trim()}return t}function r(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function n(e,t,r,i){var a=e+";",s=2*t+3*r+4*i;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===C||2===C&&o(u,1)?"-webkit-"+u+u:u}if(0===C||2===C&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(x,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return p.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(_,"tb");break;case 232:u=a.replace(_,"tb-rl");break;case 220:u=a.replace(_,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(E,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(E,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?n(e.replace("stretch","fill-available"),t,r,i).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+i&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),I(2!==t?n:n.replace(O,"$1"),r,t)}function i(e,t){var r=n(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,r,n,o,i,a,s,c,l){for(var f,p=0,d=t;p<j;++p)switch(f=R[p].call(u,e,d,r,n,o,i,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(I=null,e?"function"!=typeof e?C=1:(C=2,I=e):C=0),s}function u(e,r){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<j){var u=a(-1,r,s,s,S,k,0,0,0,0);void 0!==u&&"string"==typeof u&&(r=u)}var f=function e(r,s,u,f,p){for(var d,h,v,_,w,E=0,O=0,T=0,x=0,R=0,I=0,M=v=d=0,L=0,N=0,B=0,F=0,U=u.length,W=U-1,z="",H="",V="",G="";L<U;){if(h=u.charCodeAt(L),L===W&&0!==O+x+T+E&&(0!==O&&(h=47===O?10:47),x=T=E=0,U++,W++),0===O+x+T+E){if(L===W&&(0<N&&(z=z.replace(l,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(L)}h=59}switch(h){case 123:for(d=(z=z.trim()).charCodeAt(0),v=1,F=++L;L<U;){switch(h=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(h=u.charCodeAt(L+1)){case 42:case 47:e:{for(M=L+1;M<W;++M)switch(u.charCodeAt(M)){case 47:if(42===h&&42===u.charCodeAt(M-1)&&L+2!==M){L=M+1;break e}break;case 10:if(47===h){L=M+1;break e}}L=M}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<W&&u.charCodeAt(L)!==h;);}if(0===v)break;L++}switch(v=u.substring(F,L),0===d&&(d=(z=z.replace(c,"").trim()).charCodeAt(0)),d){case 64:switch(0<N&&(z=z.replace(l,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:N=s;break;default:N=A}if(F=(v=e(s,N,v,h,p+1)).length,0<j&&(w=a(3,v,N=t(A,z,B),s,S,k,F,h,p,f),z=N.join(""),void 0!==w&&0===(F=(v=w.trim()).length)&&(h=0,v="")),0<F)switch(h){case 115:z=z.replace(b,i);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(y,"$1 $2"))+"{"+v+"}",v=1===C||2===C&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===f&&(H+=v,v="")}else v="";break;default:v=e(s,t(s,z,B),v,f,p+1)}V+=v,v=B=N=M=d=0,z="",h=u.charCodeAt(++L);break;case 125:case 59:if(1<(F=(z=(0<N?z.replace(l,""):z).trim()).length))switch(0===M&&(d=z.charCodeAt(0),45===d||96<d&&123>d)&&(F=(z=z.replace(" ",":")).length),0<j&&void 0!==(w=a(1,z,s,r,S,k,H.length,f,p,f))&&0===(F=(z=w.trim()).length)&&(z="\0\0"),d=z.charCodeAt(0),h=z.charCodeAt(1),d){case 0:break;case 64:if(105===h||99===h){G+=z+u.charAt(L);break}default:58!==z.charCodeAt(F-1)&&(H+=n(z,d,h,z.charCodeAt(2)))}B=N=M=d=0,z="",h=u.charCodeAt(++L)}}switch(h){case 13:case 10:47===O?O=0:0===1+d&&107!==f&&0<z.length&&(N=1,z+="\0"),0<j*D&&a(0,z,s,r,S,k,H.length,f,p,f),k=1,S++;break;case 59:case 125:if(0===O+x+T+E){k++;break}default:switch(k++,_=u.charAt(L),h){case 9:case 32:if(0===x+E+O)switch(R){case 44:case 58:case 9:case 32:_="";break;default:32!==h&&(_=" ")}break;case 0:_="\\0";break;case 12:_="\\f";break;case 11:_="\\v";break;case 38:0===x+O+E&&(N=B=1,_="\f"+_);break;case 108:if(0===x+O+E+P&&0<M)switch(L-M){case 2:112===R&&58===u.charCodeAt(L-3)&&(P=R);case 8:111===I&&(P=I)}break;case 58:0===x+O+E&&(M=L);break;case 44:0===O+T+x+E&&(N=1,_+="\r");break;case 34:case 39:0===O&&(x=x===h?0:0===x?h:x);break;case 91:0===x+O+T&&E++;break;case 93:0===x+O+T&&E--;break;case 41:0===x+O+E&&T--;break;case 40:if(0===x+O+E){if(0===d)switch(2*R+3*I){case 533:break;default:d=1}T++}break;case 64:0===O+T+x+E+M+v&&(v=1);break;case 42:case 47:if(!(0<x+E+T))switch(O){case 0:switch(2*h+3*u.charCodeAt(L+1)){case 235:O=47;break;case 220:F=L,O=42}break;case 42:47===h&&42===R&&F+2!==L&&(33===u.charCodeAt(F+2)&&(H+=u.substring(F,L+1)),_="",O=0)}}0===O&&(z+=_)}I=R,R=h,L++}if(0<(F=H.length)){if(N=s,0<j&&(void 0!==(w=a(2,H,N,r,S,k,F,f,p,f))&&0===(H=w).length))return G+H+V;if(H=N.join(",")+"{"+H+"}",0!=C*P){switch(2!==C||o(H,2)||(P=0),P){case 111:H=H.replace(g,":-moz-$1")+H;break;case 112:H=H.replace(m,"::-webkit-input-$1")+H.replace(m,"::-moz-$1")+H.replace(m,":-ms-input-$1")+H}P=0}}return G+H+V}(A,s,r,0,0);return 0<j&&(void 0!==(u=a(-2,f,s,s,S,k,f.length,0,0,0))&&(f=u)),"",P=0,k=S=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,h=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,m=/::(place)/g,g=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,E=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,x=/([^-])(image-set\()/,k=1,S=1,P=0,C=1,A=[],R=[],j=0,I=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:j=R.length=0;break;default:if("function"==typeof t)R[j++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else D=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,r){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},function(e,t,r){r(78);var n,o=r(392),i=[];function a(){}t.create=function(e){var t=e||{};t.onError=t.onError||a;var r=t.bidders||[],s=t.bidderTimeout||1500;return function(e){n||((n=window.googletag=window.googletag||{}).cmd=n.cmd||[],n.issuuOptions=e||{})}(t),o.init(r),{addPlacement:function(e,t,r,a,u){var c,l=r||[];if(e&&t){var f=a||[];2===f.length&&"string"==typeof f[0]&&(f=[f]);var p=!1,d=function(){p||n.cmd.push((function(){n.pubads().refresh([c]),p=!0}))};return n.cmd.push((function(){var r;if(1===l.length&&"outOfPage"===l[0]?(r=a.some((function(e){return"interstitial"===e[0]}))?n.enums.OutOfPageFormat.INTERSTITIAL:e,c=n.defineOutOfPageSlot(t,r)):c=n.defineSlot(t,l,e),c){i[e]=c;for(var o=0;o<f.length;o++){var s=f[o];2===s.length&&(c=c.setTargeting(s[0],s[1]))}c=c.setCollapseEmptyDiv(!0).addService(n.pubads()),n.display(r?c:e)}})),u&&u.length&&/(^|;\s*)__gads=/.test(document.cookie)?(o.requestBids(e,t,l,u,d),setTimeout(d,s)):d(),c}},addEventListener:function(e,t){n.cmd.push((function(){n.pubads().addEventListener(e,t)}))},getSlotById:function(e){return i[e]},refreshPlacement:function(e){if(e&&"function"==typeof e.getSlotElementId&&e.getSlotElementId()){var t=e.getSlotElementId();n.cmd.push((function(){n.pubads().clear(),n.display(t),n.pubads().refresh([e])}))}},refreshAll:function(){n.cmd.push((function(){n.pubads().refresh()}))}}}},function(e,t,r){var n;
/*!
 * UAParser.js v0.7.23
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>
 * Licensed under MIT License
 */!function(o,i){"use strict";var a="model",s="name",u="type",c="vendor",l="version",f="mobile",p="tablet",d="smarttv",h={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},v={rgx:function(e,t){for(var r,n,o,i,a,s,u=0;u<t.length&&!a;){var c=t[u],l=t[u+1];for(r=n=0;r<c.length&&!a;)if(a=c[r++].exec(e))for(o=0;o<l.length;o++)s=a[++n],"object"==typeof(i=l[o])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4==i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s||void 0;u+=2}},str:function(e,t){for(var r in t)if("object"==typeof t[r]&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(h.has(t[r][n],e))return"?"===r?void 0:r}else if(h.has(t[r],e))return"?"===r?void 0:r;return e}},y={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},m={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,l],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],l],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],l],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,l],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],l],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[s,"IE"],l],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],l],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],l],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],l],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],l],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],l],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],l],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],l],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],l],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],l],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],l],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],l],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],l],[/(whale)\/([\w\.]+)/i],[[s,"Whale"],l],[/(qqbrowserlite)\/([\w\.]+)/i],[s,l],[/(QQ)\/([\d\.]+)/i],[s,l],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,l],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,l],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,l],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[l,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[l,[s,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,l],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[l,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],l],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],l],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[l,[s,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],l],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,l],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],l],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],l],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],l],[/fxios\/([\w\.-]+)/i],[l,[s,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[l,[s,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[l,s],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],l],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[l,v.str,y.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,l],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],l],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,l]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",h.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",h.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",h.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[a,c,[u,p]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[u,p]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"],[u,d]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[u,p]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[a,[c,"Amazon"],[u,p]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[a,v.str,y.device.amazon.model],[c,"Amazon"],[u,f]],[/android.+aft([bms])\sbuild/i],[a,[c,"Amazon"],[u,d]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[u,f]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[u,f]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[u,f]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[u,f]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[a,[c,"Asus"],[u,p]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[u,p]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[a,[c,"Sony"],[u,f]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,a,[u,"console"]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[u,"console"]],[/(playstation\s[34portablevi]+)/i],[a,[c,"Sony"],[u,"console"]],[/(sprint\s(\w+))/i],[[c,v.str,y.device.sprint.vendor],[a,v.str,y.device.sprint.model],[u,f]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[c,[a,/_/g," "],[u,f]],[/(nexus\s9)/i],[a,[c,"HTC"],[u,p]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[a,[c,"Huawei"],[u,f]],[/android.+(bah2?-a?[lw]\d{2})/i],[a,[c,"Huawei"],[u,p]],[/(microsoft);\s(lumia[\s\w]+)/i],[c,a,[u,f]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[u,"console"]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[u,f]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[a,[c,"Motorola"],[u,f]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[u,p]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[c,h.trim],[a,h.trim],[u,d]],[/hbbtv.+maple;(\d+)/i],[[a,/^/,"SmartTV"],[c,"Samsung"],[u,d]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[u,d]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[u,p]],[/smart-tv.+(samsung)/i],[c,[u,d],a],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[u,f]],[/sie-(\w*)/i],[a,[c,"Siemens"],[u,f]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[c,"Nokia"],a,[u,f]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[a,[c,"Acer"],[u,p]],[/android.+([vl]k\-?\d{3})\s+build/i],[a,[c,"LG"],[u,p]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[u,p]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[c,"LG"],a,[u,d]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[a,[c,"LG"],[u,f]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[c,a,[u,p]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[u,p]],[/(lenovo)[_\s-]?([\w-]+)/i],[c,a,[u,f]],[/linux;.+((jolla));/i],[c,a,[u,f]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[u,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[c,a,[u,f]],[/crkey/i],[[a,"Chromecast"],[c,"Google"],[u,d]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[u,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[a,[c,"Google"],[u,p]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[a,[c,"Google"],[u,f]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[a,/_/g," "],[c,"Xiaomi"],[u,f]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[a,/_/g," "],[c,"Xiaomi"],[u,p]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[a,[c,"Meizu"],[u,f]],[/(mz)-([\w-]{2,})/i],[[c,"Meizu"],a,[u,f]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[a,[c,"OnePlus"],[u,f]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[a,[c,"RCA"],[u,p]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[a,[c,"Dell"],[u,p]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[a,[c,"Verizon"],[u,p]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[c,"Barnes & Noble"],a,[u,p]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[a,[c,"NuVision"],[u,p]],[/android.+;\s(k88)\sbuild/i],[a,[c,"ZTE"],[u,p]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[a,[c,"Swiss"],[u,f]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[a,[c,"Swiss"],[u,p]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[a,[c,"Zeki"],[u,p]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[c,"Dragon Touch"],a,[u,p]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[a,[c,"Insignia"],[u,p]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[a,[c,"NextBook"],[u,p]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[c,"Voice"],a,[u,f]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[c,"LvTel"],a,[u,f]],[/android.+;\s(PH-1)\s/i],[a,[c,"Essential"],[u,f]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[a,[c,"Envizen"],[u,p]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[c,a,[u,p]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[a,[c,"MachSpeed"],[u,p]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[c,a,[u,p]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[a,[c,"Rotor"],[u,p]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[c,a,[u,p]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[a,[u,f]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[a,[u,p]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[u,h.lowerize],c,a],[/[\s\/\(](smart-?tv)[;\)]/i],[[u,d]],[/(android[\w\.\s\-]{0,9});.+build/i],[a,[c,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[l,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[l,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,l],[/rv\:([\w\.]{1,9}).+(gecko)/i],[l,s]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[s,l],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[l,v.str,y.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[l,v.str,y.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],l],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],l],[/crkey\/([\d\.]+)/i],[l,[s,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],l],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,l],[/(haiku)\s(\w+)/i],[s,l],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[l,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[l,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,l]]},g=function(e,t){if("object"==typeof e&&(t=e,e=void 0),!(this instanceof g))return new g(e,t).getResult();var r=e||(o&&o.navigator&&o.navigator.userAgent?o.navigator.userAgent:""),n=t?h.extend(m,t):m;return this.getBrowser=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,r,n.browser),e.major=h.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return v.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return v.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return v.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};g.VERSION="0.7.23",g.BROWSER={NAME:s,MAJOR:"major",VERSION:l},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:a,VENDOR:c,TYPE:u,CONSOLE:"console",MOBILE:f,SMARTTV:d,TABLET:p,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:s,VERSION:l},g.OS={NAME:s,VERSION:l},void 0!==t?(void 0!==e&&e.exports&&(t=e.exports=g),t.UAParser=g):void 0===(n=function(){return g}.call(t,r,t,e))||(e.exports=n);var _=o&&(o.jQuery||o.Zepto);if(_&&!_.ua){var b=new g;_.ua=b.getResult(),_.ua.get=function(){return b.getUA()},_.ua.set=function(e){b.setUA(e);var t=b.getResult();for(var r in t)_.ua[r]=t[r]}}}("object"==typeof window?window:this)},,,,,,,,,function(e,t,r){var n=r(8),o=r(164),i=n.WeakMap;e.exports="function"==typeof i&&/native code/.test(o(i))},function(e,t,r){var n=r(95),o=r(96),i=r(168),a=r(27);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(a(e)),r=i.f;return r?t.concat(r(e)):t}},function(e,t,r){"use strict";var n=r(171),o=r(128);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(e,t,r){var n=r(8);e.exports=n.Promise},function(e,t,r){var n,o,i,a,s,u,c,l,f=r(8),p=r(86).f,d=r(209).set,h=r(211),v=r(300),y=r(154),m=f.MutationObserver||f.WebKitMutationObserver,g=f.document,_=f.process,b=f.Promise,w=p(f,"queueMicrotask"),E=w&&w.value;E||(n=function(){var e,t;for(y&&(e=_.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},h||y||v||!m||!g?b&&b.resolve?(c=b.resolve(void 0),l=c.then,a=function(){l.call(c,n)}):a=y?function(){_.nextTick(n)}:function(){d.call(f,n)}:(s=!0,u=g.createTextNode(""),new m(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=E||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},function(e,t,r){var n=r(170);e.exports=/web0s(?!.*chrome)/i.test(n)},function(e,t,r){var n=r(27),o=r(21),i=r(212);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},function(e,t,r){var n=r(8);e.exports=function(e,t){var r=n.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,r){var n=r(34),o=Math.floor,i="".replace,a=/\$([$&'`]|\d\d?|<[^>]*>)/g,s=/\$([$&'`]|\d\d?)/g;e.exports=function(e,t,r,u,c,l){var f=r+e.length,p=u.length,d=s;return void 0!==c&&(c=n(c),d=a),i.call(l,d,(function(n,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(f);case"<":a=c[i.slice(1,-1)];break;default:var s=+i;if(0===s)return n;if(s>p){var l=o(s/10);return 0===l?n:l<=p?void 0===u[l-1]?i.charAt(1):u[l-1]+i.charAt(1):n}a=u[s-1]}return void 0===a?"":a}))}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,r){"use strict";var n,o=r(5),i=r(86).f,a=r(17),s=r(178),u=r(46),c=r(179),l=r(87),f="".endsWith,p=Math.min,d=c("endsWith");o({target:"String",proto:!0,forced:!!(l||d||(n=i(String.prototype,"endsWith"),!n||n.writable))&&!d},{endsWith:function(e){var t=String(u(this));s(e);var r=arguments.length>1?arguments[1]:void 0,n=a(t.length),o=void 0===r?n:p(a(r),n),i=String(e);return f?f.call(t,i,o):t.slice(o-i.length,o)===i}})},function(e,t,r){"use strict";var n=r(5),o=r(217);n({target:"String",proto:!0,forced:r(218)("anchor")},{anchor:function(e){return o(this,"a","name",e)}})},function(e,t,r){var n=r(21);e.exports=function(e){if(!n(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,r){"use strict";var n=r(8),o=r(25),i=r(228),a=r(43),s=r(151),u=r(6),c=r(97),l=r(52),f=r(17),p=r(229),d=r(310),h=r(136),v=r(137),y=r(96).f,m=r(28).f,g=r(183),_=r(88),b=r(48),w=b.get,E=b.set,O=n.ArrayBuffer,T=O,x=n.DataView,k=x&&x.prototype,S=Object.prototype,P=n.RangeError,C=d.pack,A=d.unpack,R=function(e){return[255&e]},j=function(e){return[255&e,e>>8&255]},I=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},D=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},M=function(e){return C(e,23,4)},L=function(e){return C(e,52,8)},N=function(e,t){m(e.prototype,t,{get:function(){return w(this)[t]}})},B=function(e,t,r,n){var o=p(r),i=w(e);if(o+t>i.byteLength)throw P("Wrong index");var a=w(i.buffer).bytes,s=o+i.byteOffset,u=a.slice(s,s+t);return n?u:u.reverse()},F=function(e,t,r,n,o,i){var a=p(r),s=w(e);if(a+t>s.byteLength)throw P("Wrong index");for(var u=w(s.buffer).bytes,c=a+s.byteOffset,l=n(+o),f=0;f<t;f++)u[c+f]=l[i?f:t-f-1]};if(i){if(!u((function(){O(1)}))||!u((function(){new O(-1)}))||u((function(){return new O,new O(1.5),new O(NaN),"ArrayBuffer"!=O.name}))){for(var U,W=(T=function(e){return c(this,T),new O(p(e))}).prototype=O.prototype,z=y(O),H=0;z.length>H;)(U=z[H++])in T||a(T,U,O[U]);W.constructor=T}v&&h(k)!==S&&v(k,S);var V=new x(new T(2)),G=k.setInt8;V.setInt8(0,2147483648),V.setInt8(1,2147483649),!V.getInt8(0)&&V.getInt8(1)||s(k,{setInt8:function(e,t){G.call(this,e,t<<24>>24)},setUint8:function(e,t){G.call(this,e,t<<24>>24)}},{unsafe:!0})}else T=function(e){c(this,T,"ArrayBuffer");var t=p(e);E(this,{bytes:g.call(new Array(t),0),byteLength:t}),o||(this.byteLength=t)},x=function(e,t,r){c(this,x,"DataView"),c(e,T,"DataView");var n=w(e).byteLength,i=l(t);if(i<0||i>n)throw P("Wrong offset");if(i+(r=void 0===r?n-i:f(r))>n)throw P("Wrong length");E(this,{buffer:e,byteLength:r,byteOffset:i}),o||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},o&&(N(T,"byteLength"),N(x,"buffer"),N(x,"byteLength"),N(x,"byteOffset")),s(x.prototype,{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return D(B(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return D(B(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return A(B(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return A(B(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){F(this,1,e,R,t)},setUint8:function(e,t){F(this,1,e,R,t)},setInt16:function(e,t){F(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){F(this,2,e,j,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){F(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){F(this,4,e,I,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){F(this,4,e,M,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){F(this,8,e,L,t,arguments.length>2?arguments[2]:void 0)}});_(T,"ArrayBuffer"),_(x,"DataView"),e.exports={ArrayBuffer:T,DataView:x}},function(e,t){var r=Math.abs,n=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;e.exports={pack:function(e,t,s){var u,c,l,f=new Array(s),p=8*s-t-1,d=(1<<p)-1,h=d>>1,v=23===t?n(2,-24)-n(2,-77):0,y=e<0||0===e&&1/e<0?1:0,m=0;for((e=r(e))!=e||e===1/0?(c=e!=e?1:0,u=d):(u=o(i(e)/a),e*(l=n(2,-u))<1&&(u--,l*=2),(e+=u+h>=1?v/l:v*n(2,1-h))*l>=2&&(u++,l/=2),u+h>=d?(c=0,u=d):u+h>=1?(c=(e*l-1)*n(2,t),u+=h):(c=e*n(2,h-1)*n(2,t),u=0));t>=8;f[m++]=255&c,c/=256,t-=8);for(u=u<<t|c,p+=t;p>0;f[m++]=255&u,u/=256,p-=8);return f[--m]|=128*y,f},unpack:function(e,t){var r,o=e.length,i=8*o-t-1,a=(1<<i)-1,s=a>>1,u=i-7,c=o-1,l=e[c--],f=127&l;for(l>>=7;u>0;f=256*f+e[c],c--,u-=8);for(r=f&(1<<-u)-1,f>>=-u,u+=t;u>0;r=256*r+e[c],c--,u-=8);if(0===f)f=1-s;else{if(f===a)return r?NaN:l?-1/0:1/0;r+=n(2,t),f-=s}return(l?-1:1)*r*n(2,f-t)}}},function(e,t,r){var n=r(52);e.exports=function(e){var t=n(e);if(t<0)throw RangeError("The argument can't be less than 0");return t}},function(e,t,r){"use strict";var n=r(34),o=r(106),i=r(17),a=Math.min;e.exports=[].copyWithin||function(e,t){var r=n(this),s=i(r.length),u=o(e,s),c=o(t,s),l=arguments.length>2?arguments[2]:void 0,f=a((void 0===l?s:o(l,s))-c,s-u),p=1;for(c<u&&u<c+f&&(p=-1,c+=f-1,u+=f-1);f-- >0;)c in r?r[u]=r[c]:delete r[u],u+=p,c+=p;return r}},function(e,t,r){"use strict";var n=r(51),o=r(52),i=r(17),a=r(109),s=r(47),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,f=a("lastIndexOf"),p=s("indexOf",{ACCESSORS:!0,1:0}),d=l||!f||!p;e.exports=d?function(e){if(l)return c.apply(this,arguments)||0;var t=n(this),r=i(t.length),a=r-1;for(arguments.length>1&&(a=u(a,o(arguments[1]))),a<0&&(a=r+a);a>=0;a--)if(a in t&&t[a]===e)return a||0;return-1}:c},function(e,t,r){"use strict";var n=e.exports=r(315);n.build="full",n.tokenize=r(241),n.parse=r(329),n.common=r(330),n.Root._configure(n.Type,n.parse,n.common)},function(e,t,r){"use strict";var n=e.exports=r(316);n.build="light",n.load=function(e,t,r){return"function"==typeof t?(r=t,t=new n.Root):t||(t=new n.Root),t.load(e,r)},n.loadSync=function(e,t){return t||(t=new n.Root),t.loadSync(e)},n.encoder=r(236),n.decoder=r(237),n.verifier=r(238),n.converter=r(239),n.ReflectionObject=r(114),n.Namespace=r(139),n.Root=r(191),n.Enum=r(77),n.Type=r(186),n.Field=r(99),n.OneOf=r(160),n.MapField=r(187),n.Service=r(188),n.Method=r(189),n.Message=r(190),n.wrappers=r(240),n.types=r(115),n.util=r(33),n.ReflectionObject._configure(n.Root),n.Namespace._configure(n.Type,n.Service,n.Enum),n.Root._configure(n.Type),n.Field._configure(n.Type)},function(e,t,r){"use strict";var n=t;function o(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(184),n.BufferWriter=r(323),n.Reader=r(185),n.BufferReader=r(324),n.util=r(81),n.rpc=r(234),n.roots=r(235),n.configure=o,o()},function(e,t,r){"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;n.encode=function(e,t,r){for(var n,i=null,a=[],s=0,u=0;t<r;){var c=e[t++];switch(u){case 0:a[s++]=o[c>>2],n=(3&c)<<4,u=1;break;case 1:a[s++]=o[n|c>>4],n=(15&c)<<2,u=2;break;case 2:a[s++]=o[n|c>>6],a[s++]=o[63&c],u=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return u&&(a[s++]=o[n],a[s++]=61,1===u&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};n.decode=function(e,t,r){for(var n,o=r,a=0,s=0;s<e.length;){var u=e.charCodeAt(s++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error("invalid encoding");switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error("invalid encoding");return r-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},function(e,t,r){"use strict";function n(){this._listeners={}}e.exports=n,n.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},n.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},n.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},function(e,t,r){"use strict";function n(e){return"undefined"!=typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3]}function i(e,n,o){t[0]=e,n[o]=r[3],n[o+1]=r[2],n[o+2]=r[1],n[o+3]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function s(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?o:i,e.writeFloatBE=n?i:o,e.readFloatLE=n?a:s,e.readFloatBE=n?s:a}():function(){function t(e,t,r,n){var o=t<0?1:0;if(o&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((o<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((o<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var i=Math.floor(Math.log(t)/Math.LN2);e((o<<31|i+127<<23|8388607&Math.round(t*Math.pow(2,-i)*8388608))>>>0,r,n)}}function r(e,t,r){var n=e(t,r),o=2*(n>>31)+1,i=n>>>23&255,a=8388607&n;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}e.writeFloatLE=t.bind(null,o),e.writeFloatBE=t.bind(null,i),e.readFloatLE=r.bind(null,a),e.readFloatBE=r.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function o(e,n,o){t[0]=e,n[o]=r[0],n[o+1]=r[1],n[o+2]=r[2],n[o+3]=r[3],n[o+4]=r[4],n[o+5]=r[5],n[o+6]=r[6],n[o+7]=r[7]}function i(e,n,o){t[0]=e,n[o]=r[7],n[o+1]=r[6],n[o+2]=r[5],n[o+3]=r[4],n[o+4]=r[3],n[o+5]=r[2],n[o+6]=r[1],n[o+7]=r[0]}function a(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function s(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?o:i,e.writeDoubleBE=n?i:o,e.readDoubleLE=n?a:s,e.readDoubleBE=n?s:a}():function(){function t(e,t,r,n,o,i){var a=n<0?1:0;if(a&&(n=-n),0===n)e(0,o,i+t),e(1/n>0?0:2147483648,o,i+r);else if(isNaN(n))e(0,o,i+t),e(2146959360,o,i+r);else if(n>17976931348623157e292)e(0,o,i+t),e((a<<31|2146435072)>>>0,o,i+r);else{var s;if(n<22250738585072014e-324)e((s=n/5e-324)>>>0,o,i+t),e((a<<31|s/4294967296)>>>0,o,i+r);else{var u=Math.floor(Math.log(n)/Math.LN2);1024===u&&(u=1023),e(4503599627370496*(s=n*Math.pow(2,-u))>>>0,o,i+t),e((a<<31|u+1023<<20|1048576*s&1048575)>>>0,o,i+r)}}}function r(e,t,r,n,o){var i=e(n,o+t),a=e(n,o+r),s=2*(a>>31)+1,u=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===u?c?NaN:s*(1/0):0===u?5e-324*s*c:s*Math.pow(2,u-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,o,0,4),e.writeDoubleBE=t.bind(null,i,4,0),e.readDoubleLE=r.bind(null,a,0,4),e.readDoubleBE=r.bind(null,s,4,0)}(),e}function o(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function i(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function a(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function s(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=n(n)},function(e,t,r){"use strict";var n=t;n.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296==(64512&r)&&56320==(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},n.read=function(e,t,r){if(r-t<1)return"";for(var n,o=null,i=[],a=0;t<r;)(n=e[t++])<128?i[a++]=n:n>191&&n<224?i[a++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,i[a++]=55296+(n>>10),i[a++]=56320+(1023&n)):i[a++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(e,t,r){for(var n,o,i=r,a=0;a<e.length;++a)(n=e.charCodeAt(a))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296==(64512&n)&&56320==(64512&(o=e.charCodeAt(a+1)))?(n=65536+((1023&n)<<10)+(1023&o),++a,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-i}},function(e,t,r){"use strict";e.exports=function(e,t,r){var n=r||8192,o=n>>>1,i=null,a=n;return function(r){if(r<1||r>o)return e(r);a+r>n&&(i=e(n),a=0);var s=t.call(i,a,a+=r);return 7&a&&(a=1+(7|a)),s}}},function(e,t,r){"use strict";e.exports=o;var n=r(81);function o(e,t){this.lo=e>>>0,this.hi=t>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(e){if(0===e)return i;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new o(r,n)},o.from=function(e){if("number"==typeof e)return o.fromNumber(e);if(n.isString(e)){if(!n.Long)return o.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new o(e.low>>>0,e.high>>>0):i},o.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;o.fromHash=function(e){return e===a?i:new o((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},o.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},o.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},function(e,t,r){"use strict";e.exports=i;var n=r(184);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(81);function i(){n.call(this)}function a(e,t,r){e.length<40?o.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},i.prototype.bytes=function(e){o.isString(e)&&(e=o._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(i.writeBytesBuffer,t,e),this},i.prototype.string=function(e){var t=o.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},i._configure()},function(e,t,r){"use strict";e.exports=i;var n=r(185);(i.prototype=Object.create(n.prototype)).constructor=i;var o=r(81);function i(e){n.call(this,e)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},i._configure()},function(e,t,r){"use strict";e.exports=o;var n=r(81);function o(e,t,r){if("function"!=typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(o.prototype=Object.create(n.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function e(t,r,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return n.asPromise(e,s,t,r,o,i);if(s.rpcImpl)try{return s.rpcImpl(t,r[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(e,r){if(e)return s.emit("error",e,t),a(e);if(null!==r){if(!(r instanceof o))try{r=o[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",r,t),a(null,r)}s.end(!0)}))}catch(e){return s.emit("error",e,t),void setTimeout((function(){a(e)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(e,t,r){"use strict";function n(e,t){"string"==typeof e&&(t=e,e=void 0);var r=[];function o(e){if("string"!=typeof e){var t=i();if(n.verbose&&console.log("codegen: "+t),t="return "+t,e){for(var a=Object.keys(e),s=new Array(a.length+1),u=new Array(a.length),c=0;c<a.length;)s[c]=a[c],u[c]=e[a[c++]];return s[c]=t,Function.apply(null,s).apply(null,u)}return Function(t)()}for(var l=new Array(arguments.length-1),f=0;f<l.length;)l[f]=arguments[++f];if(f=0,e=e.replace(/%([%dfijs])/g,(function(e,t){var r=l[f++];switch(t){case"d":case"f":return String(Number(r));case"i":return String(Math.floor(r));case"j":return JSON.stringify(r);case"s":return String(r)}return"%"})),f!==l.length)throw Error("parameter count mismatch");return r.push(e),o}function i(n){return"function "+(n||t||"")+"("+(e&&e.join(",")||"")+"){\n  "+r.join("\n  ")+"\n}"}return o.toString=i,o}e.exports=n,n.verbose=!1},function(e,t,r){"use strict";e.exports=i;var n=r(232),o=r(233)("fs");function i(e,t,r){return"function"==typeof t?(r=t,t={}):t||(t={}),r?!t.xhr&&o&&o.readFile?o.readFile(e,(function(n,o){return n&&"undefined"!=typeof XMLHttpRequest?i.xhr(e,t,r):n?r(n):r(null,t.binary?o:o.toString("utf8"))})):i.xhr(e,t,r):n(i,this,e,t)}i.xhr=function(e,t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState){if(0!==n.status&&200!==n.status)return r(Error("status "+n.status));if(t.binary){var e=n.response;if(!e){e=[];for(var o=0;o<n.responseText.length;++o)e.push(255&n.responseText.charCodeAt(o))}return r(null,"undefined"!=typeof Uint8Array?new Uint8Array(e):e)}return r(null,n.responseText)}},t.binary&&("overrideMimeType"in n&&n.overrideMimeType("text/plain; charset=x-user-defined"),n.responseType="arraybuffer"),n.open("GET",e),n.send()}},function(e,t,r){"use strict";var n=t,o=n.isAbsolute=function(e){return/^(?:\/|\w+:)/.test(e)},i=n.normalize=function(e){var t=(e=e.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),r=o(e),n="";r&&(n=t.shift()+"/");for(var i=0;i<t.length;)".."===t[i]?i>0&&".."!==t[i-1]?t.splice(--i,2):r?t.splice(i,1):++i:"."===t[i]?t.splice(i,1):++i;return n+t.join("/")};n.resolve=function(e,t,r){return r||(t=i(t)),o(t)?t:(r||(e=i(e)),(e=e.replace(/(?:\/|^)[^/]+$/,"")).length?i(e+"/"+t):t)}},function(e,t,r){"use strict";e.exports=T,T.filename=null,T.defaults={keepCase:!1};var n=r(241),o=r(191),i=r(186),a=r(99),s=r(187),u=r(160),c=r(77),l=r(188),f=r(189),p=r(115),d=r(33),h=/^[1-9][0-9]*$/,v=/^-?[1-9][0-9]*$/,y=/^0[x][0-9a-fA-F]+$/,m=/^-?0[x][0-9a-fA-F]+$/,g=/^0[0-7]+$/,_=/^-?0[0-7]+$/,b=/^(?![eE])[0-9]*(?:\.[0-9]*)?(?:[eE][+-]?[0-9]+)?$/,w=/^[a-zA-Z_][a-zA-Z_0-9]*$/,E=/^(?:\.?[a-zA-Z_][a-zA-Z_0-9]*)(?:\.[a-zA-Z_][a-zA-Z_0-9]*)*$/,O=/^(?:\.[a-zA-Z_][a-zA-Z_0-9]*)+$/;function T(e,t,r){t instanceof o||(r=t,t=new o),r||(r=T.defaults);var x,k,S,P,C,A=r.preferTrailingComment||!1,R=n(e,r.alternateCommentMode||!1),j=R.next,I=R.push,D=R.peek,M=R.skip,L=R.cmnt,N=!0,B=!1,F=t,U=r.keepCase?function(e){return e}:d.camelCase;function W(e,t,r){var n=T.filename;return r||(T.filename=null),Error("illegal "+(t||"token")+" '"+e+"' ("+(n?n+", ":"")+"line "+R.line+")")}function z(){var e,t=[];do{if('"'!==(e=j())&&"'"!==e)throw W(e);t.push(j()),M(e),e=D()}while('"'===e||"'"===e);return t.join("")}function H(e){var t=j();switch(t){case"'":case'"':return I(t),z();case"true":case"TRUE":return!0;case"false":case"FALSE":return!1}try{return function(e,t){var r=1;"-"===e.charAt(0)&&(r=-1,e=e.substring(1));switch(e){case"inf":case"INF":case"Inf":return r*(1/0);case"nan":case"NAN":case"Nan":case"NaN":return NaN;case"0":return 0}if(h.test(e))return r*parseInt(e,10);if(y.test(e))return r*parseInt(e,16);if(g.test(e))return r*parseInt(e,8);if(b.test(e))return r*parseFloat(e);throw W(e,"number",t)}(t,!0)}catch(r){if(e&&E.test(t))return t;throw W(t,"value")}}function V(e,t){var r,n;do{!t||'"'!==(r=D())&&"'"!==r?e.push([n=G(j()),M("to",!0)?G(j()):n]):e.push(z())}while(M(",",!0));M(";")}function G(e,t){switch(e){case"max":case"MAX":case"Max":return 536870911;case"0":return 0}if(!t&&"-"===e.charAt(0))throw W(e,"id");if(v.test(e))return parseInt(e,10);if(m.test(e))return parseInt(e,16);if(_.test(e))return parseInt(e,8);throw W(e,"id")}function q(){if(void 0!==x)throw W("package");if(x=j(),!E.test(x))throw W(x,"name");F=F.define(x),M(";")}function $(){var e,t=D();switch(t){case"weak":e=S||(S=[]),j();break;case"public":j();default:e=k||(k=[])}t=z(),M(";"),e.push(t)}function K(){if(M("="),P=z(),!(B="proto3"===P)&&"proto2"!==P)throw W(P,"syntax");M(";")}function Y(e,t){switch(t){case"option":return J(e,t),M(";"),!0;case"message":return function(e,t){if(!w.test(t=j()))throw W(t,"type name");var r=new i(t);X(r,(function(e){if(!Y(r,e))switch(e){case"map":!function(e){M("<");var t=j();if(void 0===p.mapKey[t])throw W(t,"type");M(",");var r=j();if(!E.test(r))throw W(r,"type");M(">");var n=j();if(!w.test(n))throw W(n,"name");M("=");var o=new s(U(n),G(j()),t,r);X(o,(function(e){if("option"!==e)throw W(e);J(o,e),M(";")}),(function(){te(o)})),e.add(o)}(r);break;case"required":case"optional":case"repeated":Z(r,e);break;case"oneof":!function(e,t){if(!w.test(t=j()))throw W(t,"name");var r=new u(U(t));X(r,(function(e){"option"===e?(J(r,e),M(";")):(I(e),Z(r,"optional"))})),e.add(r)}(r,e);break;case"extensions":V(r.extensions||(r.extensions=[]));break;case"reserved":V(r.reserved||(r.reserved=[]),!0);break;default:if(!B||!E.test(e))throw W(e);I(e),Z(r,"optional")}})),e.add(r)}(e,t),!0;case"enum":return function(e,t){if(!w.test(t=j()))throw W(t,"name");var r=new c(t);X(r,(function(e){switch(e){case"option":J(r,e),M(";");break;case"reserved":V(r.reserved||(r.reserved=[]),!0);break;default:!function(e,t){if(!w.test(t))throw W(t,"name");M("=");var r=G(j(),!0),n={};X(n,(function(e){if("option"!==e)throw W(e);J(n,e),M(";")}),(function(){te(n)})),e.add(t,r,n.comment)}(r,e)}})),e.add(r)}(e,t),!0;case"service":return function(e,t){if(!w.test(t=j()))throw W(t,"service name");var r=new l(t);X(r,(function(e){if(!Y(r,e)){if("rpc"!==e)throw W(e);!function(e,t){var r=L(),n=t;if(!w.test(t=j()))throw W(t,"name");var o,i,a,s,u=t;M("("),M("stream",!0)&&(i=!0);if(!E.test(t=j()))throw W(t);o=t,M(")"),M("returns"),M("("),M("stream",!0)&&(s=!0);if(!E.test(t=j()))throw W(t);a=t,M(")");var c=new f(u,n,o,a,i,s);c.comment=r,X(c,(function(e){if("option"!==e)throw W(e);J(c,e),M(";")})),e.add(c)}(r,e)}})),e.add(r)}(e,t),!0;case"extend":return function(e,t){if(!E.test(t=j()))throw W(t,"reference");var r=t;X(null,(function(t){switch(t){case"required":case"repeated":case"optional":Z(e,t,r);break;default:if(!B||!E.test(t))throw W(t);I(t),Z(e,"optional",r)}}))}(e,t),!0}return!1}function X(e,t,r){var n=R.line;if(e&&("string"!=typeof e.comment&&(e.comment=L()),e.filename=T.filename),M("{",!0)){for(var o;"}"!==(o=j());)t(o);M(";",!0)}else r&&r(),M(";"),e&&("string"!=typeof e.comment||A)&&(e.comment=L(n)||e.comment)}function Z(e,t,r){var n=j();if("group"!==n){if(!E.test(n))throw W(n,"type");var o=j();if(!w.test(o))throw W(o,"name");o=U(o),M("=");var s=new a(o,G(j()),n,t,r);X(s,(function(e){if("option"!==e)throw W(e);J(s,e),M(";")}),(function(){te(s)})),e.add(s),B||!s.repeated||void 0===p.packed[n]&&void 0!==p.basic[n]||s.setOption("packed",!1,!0)}else!function(e,t){var r=j();if(!w.test(r))throw W(r,"name");var n=d.lcFirst(r);r===n&&(r=d.ucFirst(r));M("=");var o=G(j()),s=new i(r);s.group=!0;var u=new a(n,o,r,t);u.filename=T.filename,X(s,(function(e){switch(e){case"option":J(s,e),M(";");break;case"required":case"optional":case"repeated":Z(s,e);break;default:throw W(e)}})),e.add(s).add(u)}(e,t)}function J(e,t){var r=M("(",!0);if(!E.test(t=j()))throw W(t,"name");var n,o=t,i=o;r&&(M(")"),i=o="("+o+")",t=D(),O.test(t)&&(n=t.substr(1),o+=t,j())),M("="),function(e,t,r,n){e.setParsedOption&&e.setParsedOption(t,r,n)}(e,i,Q(e,o),n)}function Q(e,t){if(M("{",!0)){for(var r={};!M("}",!0);){if(!w.test(C=j()))throw W(C,"name");var n,o=C;"{"===D()?n=Q(e,t+"."+C):(M(":"),"{"===D()?n=Q(e,t+"."+C):(n=H(!0),ee(e,t+"."+C,n)));var i=r[o];i&&(n=[].concat(i).concat(n)),r[o]=n,M(",",!0)}return r}var a=H(!0);return ee(e,t,a),a}function ee(e,t,r){e.setOption&&e.setOption(t,r)}function te(e){if(M("[",!0)){do{J(e,"option")}while(M(",",!0));M("]")}return e}for(;null!==(C=j());)switch(C){case"package":if(!N)throw W(C);q();break;case"import":if(!N)throw W(C);$();break;case"syntax":if(!N)throw W(C);K();break;case"option":J(F,C),M(";");break;default:if(Y(F,C)){N=!1;continue}throw W(C)}return T.filename=null,{package:x,imports:k,weakImports:S,syntax:P,root:t}}},function(e,t,r){"use strict";e.exports=i;var n,o=/\/|\./;function i(e,t){o.test(e)||(e="google/protobuf/"+e+".proto",t={nested:{google:{nested:{protobuf:{nested:t}}}}}),i[e]=t}i("any",{Any:{fields:{type_url:{type:"string",id:1},value:{type:"bytes",id:2}}}}),i("duration",{Duration:n={fields:{seconds:{type:"int64",id:1},nanos:{type:"int32",id:2}}}}),i("timestamp",{Timestamp:n}),i("empty",{Empty:{fields:{}}}),i("struct",{Struct:{fields:{fields:{keyType:"string",type:"Value",id:1}}},Value:{oneofs:{kind:{oneof:["nullValue","numberValue","stringValue","boolValue","structValue","listValue"]}},fields:{nullValue:{type:"NullValue",id:1},numberValue:{type:"double",id:2},stringValue:{type:"string",id:3},boolValue:{type:"bool",id:4},structValue:{type:"Struct",id:5},listValue:{type:"ListValue",id:6}}},NullValue:{values:{NULL_VALUE:0}},ListValue:{fields:{values:{rule:"repeated",type:"Value",id:1}}}}),i("wrappers",{DoubleValue:{fields:{value:{type:"double",id:1}}},FloatValue:{fields:{value:{type:"float",id:1}}},Int64Value:{fields:{value:{type:"int64",id:1}}},UInt64Value:{fields:{value:{type:"uint64",id:1}}},Int32Value:{fields:{value:{type:"int32",id:1}}},UInt32Value:{fields:{value:{type:"uint32",id:1}}},BoolValue:{fields:{value:{type:"bool",id:1}}},StringValue:{fields:{value:{type:"string",id:1}}},BytesValue:{fields:{value:{type:"bytes",id:1}}}}),i("field_mask",{FieldMask:{fields:{paths:{rule:"repeated",type:"string",id:1}}}}),i.get=function(e){return i[e]||null}},function(e,t,r){"use strict";var n=r(332);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,r,o,i,a){if(a!==n){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return r.PropTypes=r,r}},function(e,t,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,r){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,f=n?Symbol.for("react.async_mode"):60111,p=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,v=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case u:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case c:return e;default:return t}}case i:return t}}}function O(e){return E(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=c,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=y,t.Portal=i,t.Profiler=u,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return O(e)||E(e)===f},t.isConcurrentMode=O,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return E(e)===d},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===u},t.isStrictMode=function(e){return E(e)===s},t.isSuspense=function(e){return E(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===u||e===s||e===h||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===d||e.$$typeof===_||e.$$typeof===b||e.$$typeof===w||e.$$typeof===g)},t.typeOf=E},function(e,t,r){var n=r(27),o=r(208);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(t){throw o(e),t}}},function(e,t,r){r(5)({target:"Number",stat:!0},{isInteger:r(336)})},function(e,t,r){var n=r(21),o=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&o(e)===e}},function(e,t,r){var n=r(5),o=r(246),i=r(6),a=r(21),s=r(193).onFreeze,u=Object.freeze;n({target:"Object",stat:!0,forced:i((function(){u(1)})),sham:!o},{freeze:function(e){return u&&a(e)?u(s(e)):e}})},function(e,t,r){var n=r(6),o=r(226);e.exports=function(e){return n((function(){return!!o[e]()||"​᠎"!="​᠎"[e]()||o[e].name!==e}))}},function(e,t,r){r(159)("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";var n=r(227);(0,r(14).exportTypedArrayStaticMethod)("from",r(231),n)},function(e,t,r){"use strict";r(30);var n,o=r(5),i=r(25),a=r(248),s=r(8),u=r(214),c=r(40),l=r(97),f=r(26),p=r(242),d=r(244),h=r(177).codeAt,v=r(342),y=r(88),m=r(343),g=r(48),_=s.URL,b=m.URLSearchParams,w=m.getState,E=g.set,O=g.getterFor("URL"),T=Math.floor,x=Math.pow,k=/[A-Za-z]/,S=/[\d+-.A-Za-z]/,P=/\d/,C=/^(0x|0X)/,A=/^[0-7]+$/,R=/^\d+$/,j=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,D=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,M=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,N=function(e,t){var r,n,o;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(r=F(t.slice(1,-1))))return"Invalid host";e.host=r}else if($(e)){if(t=v(t),I.test(t))return"Invalid host";if(null===(r=B(t)))return"Invalid host";e.host=r}else{if(D.test(t))return"Invalid host";for(r="",n=d(t),o=0;o<n.length;o++)r+=G(n[o],W);e.host=r}},B=function(e){var t,r,n,o,i,a,s,u=e.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(t=u.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(o=u[n]))return e;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=C.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?R:8==i?A:j).test(o))return e;a=parseInt(o,i)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=x(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*x(256,3-n);return s},F=function(e){var t,r,n,o,i,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,p=function(){return e.charAt(f)};if(":"==p()){if(":"!=e.charAt(1))return;f+=2,l=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=r=0;r<4&&j.test(p());)t=16*t+parseInt(p(),16),f++,r++;if("."==p()){if(0==r)return;if(f-=r,c>6)return;for(n=0;p();){if(o=null,n>0){if(!("."==p()&&n<4))return;f++}if(!P.test(p()))return;for(;P.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}u[c]=256*u[c]+o,2!=++n&&4!=n||c++}if(4!=n)return;break}if(":"==p()){if(f++,!p())return}else if(p())return;u[c++]=t}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},U=function(e){var t,r,n,o;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=T(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=function(e){for(var t=null,r=1,n=null,o=0,i=0;i<8;i++)0!==e[i]?(o>r&&(t=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(t=n,r=o),t}(e),r=0;r<8;r++)o&&0===e[r]||(o&&(o=!1),n===r?(t+=r?":":"::",o=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},W={},z=p({},W,{" ":1,'"':1,"<":1,">":1,"`":1}),H=p({},z,{"#":1,"?":1,"{":1,"}":1}),V=p({},H,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),G=function(e,t){var r=h(e,0);return r>32&&r<127&&!f(t,e)?e:encodeURIComponent(e)},q={ftp:21,file:null,http:80,https:443,ws:80,wss:443},$=function(e){return f(q,e.scheme)},K=function(e){return""!=e.username||""!=e.password},Y=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},X=function(e,t){var r;return 2==e.length&&k.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Z=function(e){var t;return e.length>1&&X(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},J=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&X(t[0],!0)||t.pop()},Q=function(e){return"."===e||"%2e"===e.toLowerCase()},ee={},te={},re={},ne={},oe={},ie={},ae={},se={},ue={},ce={},le={},fe={},pe={},de={},he={},ve={},ye={},me={},ge={},_e={},be={},we=function(e,t,r,o){var i,a,s,u,c,l=r||ee,p=0,h="",v=!1,y=!1,m=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(M,"")),t=t.replace(L,""),i=d(t);p<=i.length;){switch(a=i[p],l){case ee:if(!a||!k.test(a)){if(r)return"Invalid scheme";l=re;continue}h+=a.toLowerCase(),l=te;break;case te:if(a&&(S.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(r)return"Invalid scheme";h="",l=re,p=0;continue}if(r&&($(e)!=f(q,h)||"file"==h&&(K(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=h,r)return void($(e)&&q[e.scheme]==e.port&&(e.port=null));h="","file"==e.scheme?l=de:$(e)&&o&&o.scheme==e.scheme?l=ne:$(e)?l=se:"/"==i[p+1]?(l=oe,p++):(e.cannotBeABaseURL=!0,e.path.push(""),l=ge)}break;case re:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){e.scheme=o.scheme,e.path=o.path.slice(),e.query=o.query,e.fragment="",e.cannotBeABaseURL=!0,l=be;break}l="file"==o.scheme?de:ie;continue;case ne:if("/"!=a||"/"!=i[p+1]){l=ie;continue}l=ue,p++;break;case oe:if("/"==a){l=ce;break}l=me;continue;case ie:if(e.scheme=o.scheme,a==n)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query;else if("/"==a||"\\"==a&&$(e))l=ae;else if("?"==a)e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query="",l=_e;else{if("#"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.path.pop(),l=me;continue}e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}break;case ae:if(!$(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=o.username,e.password=o.password,e.host=o.host,e.port=o.port,l=me;continue}l=ce}else l=ue;break;case se:if(l=ue,"/"!=a||"/"!=h.charAt(p+1))continue;p++;break;case ue:if("/"!=a&&"\\"!=a){l=ce;continue}break;case ce:if("@"==a){v&&(h="%40"+h),v=!0,s=d(h);for(var g=0;g<s.length;g++){var _=s[g];if(":"!=_||m){var b=G(_,V);m?e.password+=b:e.username+=b}else m=!0}h=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)){if(v&&""==h)return"Invalid authority";p-=d(h).length+1,h="",l=le}else h+=a;break;case le:case fe:if(r&&"file"==e.scheme){l=ve;continue}if(":"!=a||y){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)){if($(e)&&""==h)return"Invalid host";if(r&&""==h&&(K(e)||null!==e.port))return;if(u=N(e,h))return u;if(h="",l=ye,r)return;continue}"["==a?y=!0:"]"==a&&(y=!1),h+=a}else{if(""==h)return"Invalid host";if(u=N(e,h))return u;if(h="",l=pe,r==fe)return}break;case pe:if(!P.test(a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&$(e)||r){if(""!=h){var w=parseInt(h,10);if(w>65535)return"Invalid port";e.port=$(e)&&w===q[e.scheme]?null:w,h=""}if(r)return;l=ye;continue}return"Invalid port"}h+=a;break;case de:if(e.scheme="file","/"==a||"\\"==a)l=he;else{if(!o||"file"!=o.scheme){l=me;continue}if(a==n)e.host=o.host,e.path=o.path.slice(),e.query=o.query;else if("?"==a)e.host=o.host,e.path=o.path.slice(),e.query="",l=_e;else{if("#"!=a){Z(i.slice(p).join(""))||(e.host=o.host,e.path=o.path.slice(),J(e)),l=me;continue}e.host=o.host,e.path=o.path.slice(),e.query=o.query,e.fragment="",l=be}}break;case he:if("/"==a||"\\"==a){l=ve;break}o&&"file"==o.scheme&&!Z(i.slice(p).join(""))&&(X(o.path[0],!0)?e.path.push(o.path[0]):e.host=o.host),l=me;continue;case ve:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!r&&X(h))l=me;else if(""==h){if(e.host="",r)return;l=ye}else{if(u=N(e,h))return u;if("localhost"==e.host&&(e.host=""),r)return;h="",l=ye}continue}h+=a;break;case ye:if($(e)){if(l=me,"/"!=a&&"\\"!=a)continue}else if(r||"?"!=a)if(r||"#"!=a){if(a!=n&&(l=me,"/"!=a))continue}else e.fragment="",l=be;else e.query="",l=_e;break;case me:if(a==n||"/"==a||"\\"==a&&$(e)||!r&&("?"==a||"#"==a)){if(".."===(c=(c=h).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(J(e),"/"==a||"\\"==a&&$(e)||e.path.push("")):Q(h)?"/"==a||"\\"==a&&$(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&X(h)&&(e.host&&(e.host=""),h=h.charAt(0)+":"),e.path.push(h)),h="","file"==e.scheme&&(a==n||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==a?(e.query="",l=_e):"#"==a&&(e.fragment="",l=be)}else h+=G(a,H);break;case ge:"?"==a?(e.query="",l=_e):"#"==a?(e.fragment="",l=be):a!=n&&(e.path[0]+=G(a,W));break;case _e:r||"#"!=a?a!=n&&("'"==a&&$(e)?e.query+="%27":e.query+="#"==a?"%23":G(a,W)):(e.fragment="",l=be);break;case be:a!=n&&(e.fragment+=G(a,z))}p++}},Ee=function(e){var t,r,n=l(this,Ee,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(e),s=E(n,{type:"URL"});if(void 0!==o)if(o instanceof Ee)t=O(o);else if(r=we(t={},String(o)))throw TypeError(r);if(r=we(s,a,null,t))throw TypeError(r);var u=s.searchParams=new b,c=w(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},i||(n.href=Te.call(n),n.origin=xe.call(n),n.protocol=ke.call(n),n.username=Se.call(n),n.password=Pe.call(n),n.host=Ce.call(n),n.hostname=Ae.call(n),n.port=Re.call(n),n.pathname=je.call(n),n.search=Ie.call(n),n.searchParams=De.call(n),n.hash=Me.call(n))},Oe=Ee.prototype,Te=function(){var e=O(this),t=e.scheme,r=e.username,n=e.password,o=e.host,i=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==o?(c+="//",K(e)&&(c+=r+(n?":"+n:"")+"@"),c+=U(o),null!==i&&(c+=":"+i)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},xe=function(){var e=O(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&$(e)?t+"://"+U(e.host)+(null!==r?":"+r:""):"null"},ke=function(){return O(this).scheme+":"},Se=function(){return O(this).username},Pe=function(){return O(this).password},Ce=function(){var e=O(this),t=e.host,r=e.port;return null===t?"":null===r?U(t):U(t)+":"+r},Ae=function(){var e=O(this).host;return null===e?"":U(e)},Re=function(){var e=O(this).port;return null===e?"":String(e)},je=function(){var e=O(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},Ie=function(){var e=O(this).query;return e?"?"+e:""},De=function(){return O(this).searchParams},Me=function(){var e=O(this).fragment;return e?"#"+e:""},Le=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&u(Oe,{href:Le(Te,(function(e){var t=O(this),r=String(e),n=we(t,r);if(n)throw TypeError(n);w(t.searchParams).updateSearchParams(t.query)})),origin:Le(xe),protocol:Le(ke,(function(e){var t=O(this);we(t,String(e)+":",ee)})),username:Le(Se,(function(e){var t=O(this),r=d(String(e));if(!Y(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=G(r[n],V)}})),password:Le(Pe,(function(e){var t=O(this),r=d(String(e));if(!Y(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=G(r[n],V)}})),host:Le(Ce,(function(e){var t=O(this);t.cannotBeABaseURL||we(t,String(e),le)})),hostname:Le(Ae,(function(e){var t=O(this);t.cannotBeABaseURL||we(t,String(e),fe)})),port:Le(Re,(function(e){var t=O(this);Y(t)||(""==(e=String(e))?t.port=null:we(t,e,pe))})),pathname:Le(je,(function(e){var t=O(this);t.cannotBeABaseURL||(t.path=[],we(t,e+"",ye))})),search:Le(Ie,(function(e){var t=O(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",we(t,e,_e)),w(t.searchParams).updateSearchParams(t.query)})),searchParams:Le(De),hash:Le(Me,(function(e){var t=O(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",we(t,e,be)):t.fragment=null}))}),c(Oe,"toJSON",(function(){return Te.call(this)}),{enumerable:!0}),c(Oe,"toString",(function(){return Te.call(this)}),{enumerable:!0}),_){var Ne=_.createObjectURL,Be=_.revokeObjectURL;Ne&&c(Ee,"createObjectURL",(function(e){return Ne.apply(_,arguments)})),Be&&c(Ee,"revokeObjectURL",(function(e){return Be.apply(_,arguments)}))}y(Ee,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Ee})},function(e,t,r){"use strict";var n=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(e){return e+22+75*(e<26)},c=function(e,t,r){var n=0;for(e=r?a(e/700):e>>1,e+=a(e/t);e>455;n+=36)e=a(e/35);return a(n+36*e/(e+38))},l=function(e){var t,r,n=[],o=(e=function(e){for(var t=[],r=0,n=e.length;r<n;){var o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){var i=e.charCodeAt(r++);56320==(64512&i)?t.push(((1023&o)<<10)+(1023&i)+65536):(t.push(o),r--)}else t.push(o)}return t}(e)).length,l=128,f=0,p=72;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(s(r));var d=n.length,h=d;for(d&&n.push("-");h<o;){var v=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=l&&r<v&&(v=r);var y=h+1;if(v-l>a((2147483647-f)/y))throw RangeError(i);for(f+=(v-l)*y,l=v,t=0;t<e.length;t++){if((r=e[t])<l&&++f>2147483647)throw RangeError(i);if(r==l){for(var m=f,g=36;;g+=36){var _=g<=p?1:g>=p+26?26:g-p;if(m<_)break;var b=m-_,w=36-_;n.push(s(u(_+b%w))),m=a(b/w)}n.push(s(u(m))),p=c(f,y,h==d),f=0,++h}}++f,++l}return n.join("")};e.exports=function(e){var t,r,i=[],a=e.toLowerCase().replace(o,".").split(".");for(t=0;t<a.length;t++)r=a[t],i.push(n.test(r)?"xn--"+l(r):r);return i.join(".")}},function(e,t,r){"use strict";r(9);var n=r(5),o=r(95),i=r(248),a=r(40),s=r(151),u=r(88),c=r(223),l=r(48),f=r(97),p=r(26),d=r(89),h=r(128),v=r(27),y=r(21),m=r(98),g=r(93),_=r(344),b=r(131),w=r(10),E=o("fetch"),O=o("Headers"),T=w("iterator"),x=l.set,k=l.getterFor("URLSearchParams"),S=l.getterFor("URLSearchParamsIterator"),P=/\+/g,C=Array(4),A=function(e){return C[e-1]||(C[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},R=function(e){try{return decodeURIComponent(e)}catch(t){return e}},j=function(e){var t=e.replace(P," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(A(r--),R);return t}},I=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},M=function(e){return D[e]},L=function(e){return encodeURIComponent(e).replace(I,M)},N=function(e,t){if(t)for(var r,n,o=t.split("&"),i=0;i<o.length;)(r=o[i++]).length&&(n=r.split("="),e.push({key:j(n.shift()),value:j(n.join("="))}))},B=function(e){this.entries.length=0,N(this.entries,e)},F=function(e,t){if(e<t)throw TypeError("Not enough arguments")},U=c((function(e,t){x(this,{type:"URLSearchParamsIterator",iterator:_(k(e).entries),kind:t})}),"Iterator",(function(){var e=S(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),W=function(){f(this,W,"URLSearchParams");var e,t,r,n,o,i,a,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,d=[];if(x(l,{type:"URLSearchParams",entries:d,updateURL:function(){},updateSearchParams:B}),void 0!==c)if(y(c))if("function"==typeof(e=b(c)))for(r=(t=e.call(c)).next;!(n=r.call(t)).done;){if((a=(i=(o=_(v(n.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");d.push({key:a.value+"",value:s.value+""})}else for(u in c)p(c,u)&&d.push({key:u,value:c[u]+""});else N(d,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},z=W.prototype;s(z,{append:function(e,t){F(arguments.length,2);var r=k(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){F(arguments.length,1);for(var t=k(this),r=t.entries,n=e+"",o=0;o<r.length;)r[o].key===n?r.splice(o,1):o++;t.updateURL()},get:function(e){F(arguments.length,1);for(var t=k(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){F(arguments.length,1);for(var t=k(this).entries,r=e+"",n=[],o=0;o<t.length;o++)t[o].key===r&&n.push(t[o].value);return n},has:function(e){F(arguments.length,1);for(var t=k(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){F(arguments.length,1);for(var r,n=k(this),o=n.entries,i=!1,a=e+"",s=t+"",u=0;u<o.length;u++)(r=o[u]).key===a&&(i?o.splice(u--,1):(i=!0,r.value=s));i||o.push({key:a,value:s}),n.updateURL()},sort:function(){var e,t,r,n=k(this),o=n.entries,i=o.slice();for(o.length=0,r=0;r<i.length;r++){for(e=i[r],t=0;t<r;t++)if(o[t].key>e.key){o.splice(t,0,e);break}t===r&&o.push(e)}n.updateURL()},forEach:function(e){for(var t,r=k(this).entries,n=d(e,arguments.length>1?arguments[1]:void 0,3),o=0;o<r.length;)n((t=r[o++]).value,t.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),a(z,T,z.entries),a(z,"toString",(function(){for(var e,t=k(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(L(e.key)+"="+L(e.value));return r.join("&")}),{enumerable:!0}),u(W,"URLSearchParams"),n({global:!0,forced:!i},{URLSearchParams:W}),i||"function"!=typeof E||"function"!=typeof O||n({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,o=[e];return arguments.length>1&&(y(t=arguments[1])&&(r=t.body,"URLSearchParams"===h(r)&&((n=t.headers?new O(t.headers):new O).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=m(t,{body:g(0,String(r)),headers:g(0,n)}))),o.push(t)),E.apply(this,o)}}),e.exports={URLSearchParams:W,getState:k}},function(e,t,r){var n=r(27),o=r(131);e.exports=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return n(t.call(e))}},function(e,t,r){var n=r(5),o=r(346).entries;n({target:"Object",stat:!0},{entries:function(e){return o(e)}})},function(e,t,r){var n=r(25),o=r(132),i=r(51),a=r(146).f,s=function(e){return function(t){for(var r,s=i(t),u=o(s),c=u.length,l=0,f=[];c>l;)r=u[l++],n&&!a.call(s,r)||f.push(e?[r,s[r]]:s[r]);return f}};e.exports={entries:s(!0),values:s(!1)}},function(e,t,r){
/*!
 * clipboard.js v2.0.6
 * https://clipboardjs.com/
 * 
 * Licensed MIT © Zeno Rocha
 */
var n;n=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var r=e.hasAttribute("readonly");r||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),r||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),o=document.createRange();o.selectNodeContents(e),n.removeAllRanges(),n.addRange(o),t=n.toString()}return t}},function(e,t){function r(){}r.prototype={on:function(e,t,r){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:r}),this},once:function(e,t,r){var n=this;function o(){n.off(e,o),t.apply(r,arguments)}return o._=t,this.on(e,o,r)},emit:function(e){for(var t=[].slice.call(arguments,1),r=((this.e||(this.e={}))[e]||[]).slice(),n=0,o=r.length;n<o;n++)r[n].fn.apply(r[n].ctx,t);return this},off:function(e,t){var r=this.e||(this.e={}),n=r[e],o=[];if(n&&t)for(var i=0,a=n.length;i<a;i++)n[i].fn!==t&&n[i].fn._!==t&&o.push(n[i]);return o.length?r[e]=o:delete r[e],this}},e.exports=r,e.exports.TinyEmitter=r},function(e,t,r){var n=r(3),o=r(4);e.exports=function(e,t,r){if(!e&&!t&&!r)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(r))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,r){return e.addEventListener(t,r),{destroy:function(){e.removeEventListener(t,r)}}}(e,t,r);if(n.nodeList(e))return function(e,t,r){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,r)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,r)}))}}}(e,t,r);if(n.string(e))return function(e,t,r){return o(document.body,e,t,r)}(e,t,r);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var r=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===r||"[object HTMLCollection]"===r)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,r){var n=r(5);function o(e,t,r,n,o){var a=i.apply(this,arguments);return e.addEventListener(r,a,o),{destroy:function(){e.removeEventListener(r,a,o)}}}function i(e,t,r,o){return function(r){r.delegateTarget=n(r.target,t),r.delegateTarget&&o.call(e,r)}}e.exports=function(e,t,r,n,i){return"function"==typeof e.addEventListener?o.apply(null,arguments):"function"==typeof r?o.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return o(e,t,r,n,i)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=r+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=o()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=o()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),u=r(1),c=r.n(u),l=r(2),f=r.n(l),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.resolveOptions(r),n.listenClick(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===p(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=f()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return v("action",e)}},{key:"defaultTarget",value:function(e){var t=v("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return v("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,r=!!document.queryCommandSupported;return t.forEach((function(e){r=r&&!!document.queryCommandSupported(e)})),r}}]),t}(c.a);function v(e,t){var r="data-clipboard-"+e;if(t.hasAttribute(r))return t.getAttribute(r)}t.default=h}]).default},e.exports=n()},function(e,t,r){r(5)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,r){var n=r(5),o=r(6),i=r(219).f;n({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},function(e,t,r){r(5)({target:"Number",stat:!0},{isFinite:r(351)})},function(e,t,r){var n=r(8).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&n(e)}},function(e,t,r){"use strict";var n=r(5),o=r(353),i=r(34),a=r(17),s=r(52),u=r(149);n({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=i(this),r=a(t.length),n=u(t,0);return n.length=o(n,t,t,r,0,void 0===e?1:s(e)),n}})},function(e,t,r){"use strict";var n=r(126),o=r(17),i=r(89),a=function(e,t,r,s,u,c,l,f){for(var p,d=u,h=0,v=!!l&&i(l,f,3);h<s;){if(h in r){if(p=v?v(r[h],h,t):r[h],c>0&&n(p))d=a(e,t,p,o(p.length),d,c-1)-1;else{if(d>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[d]=p}d++}h++}return d};e.exports=a},function(e,t,r){r(108)("flat")},function(e,t,r){r(5)({target:"Math",stat:!0},{sign:r(356)})},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,r){r(159)("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}}))},function(e,t,r){"use strict";var n;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=r(250),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],f=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{f(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===i.call(e),n=a(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var h=c&&r;if(s&&e.length>0&&!o.call(e,0))for(var v=0;v<e.length;++v)p.push(String(v));if(n&&e.length>0)for(var y=0;y<e.length;++y)p.push(String(y));else for(var m in e)h&&"prototype"===m||!o.call(e,m)||p.push(String(m));if(u)for(var g=function(e){if("undefined"==typeof window||!d)return f(e);try{return f(e)}catch(e){return!1}}(e),_=0;_<l.length;++_)g&&"constructor"===l[_]||!o.call(e,l[_])||p.push(l[_]);return p}}e.exports=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=r(196)("Object.prototype.toString"),i=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===o(e)},a=function(e){return!!i(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==o(e)&&"[object Function]"===o(e.callee)},s=function(){return i(arguments)}();i.isLegacyArguments=a,e.exports=s?i:a},function(e,t,r){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(e,t,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,i=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError(n+t);for(var r,a=o.call(arguments,1),s=function(){if(this instanceof r){var n=t.apply(this,a.concat(o.call(arguments)));return Object(n)===n?n:this}return t.apply(e,a.concat(o.call(arguments)))},u=Math.max(0,t.length-a.length),c=[],l=0;l<u;l++)c.push("$"+l);if(r=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var f=function(){};f.prototype=t.prototype,r.prototype=new f,f.prototype=null}return r}},function(e,t,r){"use strict";var n=r(198);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,r){"use strict";var n=r(101),o=r(144),i=r(251),a=r(252),s=r(364),u=o(a(),Object);n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},function(e,t,r){"use strict";var n=r(252),o=r(101);e.exports=function(){var e=n();return o(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,r){"use strict";var n,o,i,a,s=r(197)()&&"symbol"==typeof Symbol.toStringTag;if(s){n=Function.call.bind(Object.prototype.hasOwnProperty),o=Function.call.bind(RegExp.prototype.exec),i={};var u=function(){throw i};a={toString:u,valueOf:u},"symbol"==typeof Symbol.toPrimitive&&(a[Symbol.toPrimitive]=u)}var c=Object.prototype.toString,l=Object.getOwnPropertyDescriptor;e.exports=s?function(e){if(!e||"object"!=typeof e)return!1;var t=l(e,"lastIndex");if(!(t&&n(t,"value")))return!1;try{o(e,a)}catch(e){return e===i}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===c.call(e)}},function(e,t,r){"use strict";var n=r(101),o=r(144),i=r(253),a=r(254),s=r(367),u=o(i);n(u,{getPolyfill:a,implementation:i,shim:s}),e.exports=u},function(e,t,r){"use strict";var n=r(101).supportsDescriptors,o=r(254),i=Object.getOwnPropertyDescriptor,a=Object.defineProperty,s=TypeError,u=Object.getPrototypeOf,c=/a/;e.exports=function(){if(!n||!u)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=o(),t=u(c),r=i(t,"flags");return r&&r.get===e||a(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,r){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},r(369),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,r(50))},function(e,t,r){(function(e,t){!function(e,r){"use strict";if(!e.setImmediate){var n,o,i,a,s,u=1,c={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){h(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){i.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(o=f.documentElement,n=function(e){var t=f.createElement("script");t.onreadystatechange=function(){h(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):n=function(e){setTimeout(h,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&h(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var o={callback:e,args:t};return c[u]=o,n(u),u++},p.clearImmediate=d}function d(e){delete c[e]}function h(e){if(l)setTimeout(h,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(void 0,r)}}(t)}finally{d(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,r(50),r(133))},function(e,t,r){var n=r(5),o=Math.log,i=Math.LN2;n({target:"Math",stat:!0},{log2:function(e){return o(e)/i}})},function(e,t,r){"use strict";var n=r(91)("%TypeError%");e.exports=function(e,t){if(null==e)throw new n(t||"Cannot call method on "+e);return e}},function(e,t,r){"use strict";var n=r(373),o=r(374);e.exports=function(e){var t=o(e);return t<=0?0:t>n?n:t}},function(e,t,r){"use strict";var n=r(91),o=n("%Math%"),i=n("%Number%");e.exports=i.MAX_SAFE_INTEGER||o.pow(2,53)-1},function(e,t,r){"use strict";var n=r(375),o=r(382);e.exports=function(e){var t=o(e);return 0!==t&&(t=n(t)),0===t?0:t}},function(e,t,r){"use strict";var n=r(376),o=r(377),i=r(378),a=r(379),s=r(380),u=r(381);e.exports=function(e){var t=i(e);return a(t)?0:0!==t&&s(t)?u(t)*o(n(t)):t}},function(e,t,r){"use strict";var n=r(91)("%Math.abs%");e.exports=function(e){return n(e)}},function(e,t,r){"use strict";var n=Math.floor;e.exports=function(e){return n(e)}},function(e,t,r){"use strict";e.exports=function(e){return+e}},function(e,t,r){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},function(e,t,r){"use strict";var n=Number.isNaN||function(e){return e!=e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t,r){"use strict";e.exports=function(e){return e>=0?1:-1}},function(e,t,r){"use strict";var n=r(91),o=n("%TypeError%"),i=n("%Number%"),a=n("%RegExp%"),s=n("%parseInt%"),u=r(196),c=r(383),l=r(384),f=u("String.prototype.slice"),p=c(/^0b[01]+$/i),d=c(/^0o[0-7]+$/i),h=c(/^[-+]0x[0-9a-f]+$/i),v=c(new a("["+["","​","￾"].join("")+"]","g")),y=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),m=new RegExp("(^["+y+"]+)|(["+y+"]+$)","g"),g=u("String.prototype.replace"),_=r(385);e.exports=function e(t){var r=l(t)?t:_(t,i);if("symbol"==typeof r)throw new o("Cannot convert a Symbol value to a number");if("string"==typeof r){if(p(r))return e(s(f(r,2),2));if(d(r))return e(s(f(r,2),8));if(v(r)||h(r))return NaN;var n=function(e){return g(e,m,"")}(r);if(n!==r)return e(n)}return i(r)}},function(e,t,r){"use strict";var n=r(91)("RegExp.prototype.test"),o=r(144);e.exports=function(e){return o(n,e)}},function(e,t,r){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,r){"use strict";var n=r(386);e.exports=function(e){return arguments.length>1?n(e,arguments[1]):n(e)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,o=r(387),i=r(388),a=r(255),s=r(389),u=function(e,t){if(null==e)throw new TypeError("Cannot call method on "+e);if("string"!=typeof t||"number"!==t&&"string"!==t)throw new TypeError('hint must be "string" or "number"');var r,n,a,s="string"===t?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<s.length;++a)if(r=e[s[a]],i(r)&&(n=r.call(e),o(n)))return n;throw new TypeError("No default value")},c=function(e,t){var r=e[t];if(null!=r){if(!i(r))throw new TypeError(r+" returned for property "+t+" of object "+e+" is not a function");return r}};e.exports=function(e){if(o(e))return e;var t,r="default";if(arguments.length>1&&(arguments[1]===String?r="string":arguments[1]===Number&&(r="number")),n&&(Symbol.toPrimitive?t=c(e,Symbol.toPrimitive):s(e)&&(t=Symbol.prototype.valueOf)),void 0!==t){var i=t.call(e,r);if(o(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===r&&(a(e)||s(e))&&(r="string"),u(e,"default"===r?"number":r)}},function(e,t,r){"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,r){"use strict";var n,o,i=Function.prototype.toString,a="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof a&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw o}}),o={},a((function(){throw 42}),null,n)}catch(e){e!==o&&(a=null)}else a=null;var s=/^\s*class\b/,u=function(e){try{var t=i.call(e);return s.test(t)}catch(e){return!1}},c=Object.prototype.toString,l="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=a?function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{a(e,null,n)}catch(e){if(e!==o)return!1}return!u(e)}:function(e){if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(l)return function(e){try{return!u(e)&&(i.call(e),!0)}catch(e){return!1}}(e);if(u(e))return!1;var t=c.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,r){"use strict";var n=Object.prototype.toString;if(r(197)()){var o=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;e.exports=function(e){if("symbol"==typeof e)return!0;if("[object Symbol]"!==n.call(e))return!1;try{return function(e){return"symbol"==typeof e.valueOf()&&i.test(o.call(e))}(e)}catch(e){return!1}}}else e.exports=function(e){return!1}},function(e,t,r){"use strict";var n=r(91),o=n("%String%"),i=n("%TypeError%");e.exports=function(e){if("symbol"==typeof e)throw new i("Cannot convert a Symbol value to a string");return o(e)}},function(e,t,r){"use strict";var n=r(258),o=r(101);e.exports=function(){var e=n();return o(String.prototype,{padStart:e},{padStart:function(){return String.prototype.padStart!==e}}),e}},function(e,t,r){r(45),r(13),r(7),r(44),r(29),r(18);var n=r(393);t.init=function(e){e.forEach((function(e){var t=e.name,r=e.config||{};switch(t){case"a9":n.init(r)}}))},t.requestBids=function(e,t,r,o,i){var a={};function s(e){a[e]=!0,Object.keys(a).map((function(e){return a[e]})).filter(Boolean).length===o.length&&i()}o.forEach((function(o){var i=o.name;switch(a[i]=!1,i){case"a9":n.fetchBids(e,t,r,s);break;default:s(i)}}))}},function(e,t){t.init=function(e){e.pubID&&(!function(e,t,r,n,o,i,a){function s(r,n){t[e]._Q.push([r,n])}t[e]||(t[e]={init:function(){s("i",arguments)},fetchBids:function(){s("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]},(i=r.createElement(n)).async=!0,i.src="//web.archive.org/web/20220221113829/https://c.amazon-adsystem.com/aax2/apstag.js",(a=r.getElementsByTagName(n)[0]).parentNode.insertBefore(i,a))}("apstag",window,document,"script"),window.apstag.init({pubID:e.pubID,adServer:"googletag"}))},t.fetchBids=function(e,t,r,n){if(window.apstag){var o={slotID:e,slotName:t,sizes:Array.isArray(r[0])?r:[r]};window.apstag.fetchBids({slots:[o]},(function(){window.apstag.setDisplayBids(),n("a9")}))}else n("a9")}},function(e,t,r){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r(2),r(13),r(19),r(7),r(140),r(80),r(29),r(3),r(141),r(12),r(35),r(42),r(41),r(18),e.exports=function(e){function t(e){var r,n=null;function i(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];if(i.enabled){var a=i,s=Number(new Date),u=s-(r||s);a.diff=u,a.prev=r,a.curr=s,r=s,n[0]=t.coerce(n[0]),"string"!=typeof n[0]&&n.unshift("%O");var c=0;n[0]=n[0].replace(/%([a-zA-Z%])/g,(function(e,r){if("%%"===e)return"%";c++;var o=t.formatters[r];if("function"==typeof o){var i=n[c];e=o.call(a,i),n.splice(c,1),c--}return e})),t.formatArgs.call(a,n);var l=a.log||t.log;l.apply(a,n)}}return i.namespace=e,i.useColors=t.useColors(),i.color=t.selectColor(e),i.extend=o,i.destroy=t.destroy,Object.defineProperty(i,"enabled",{enumerable:!0,configurable:!1,get:function(){return null===n?t.enabled(e):n},set:function(e){n=e}}),"function"==typeof t.init&&t.init(i),i}function o(e,r){var n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){var e=[].concat(n(t.names.map(i)),n(t.skips.map(i).map((function(e){return"-"+e})))).join(",");return t.enable(""),e},t.enable=function(e){var r;t.save(e),t.names=[],t.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(r=0;r<o;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(395),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((function(r){t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){for(var r=0,n=0;n<e.length;n++)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function a(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var s=typeof e;if("string"===s&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var a=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"weeks":case"week":case"w":return 6048e5*a;case"days":case"day":case"d":return a*i;case"hours":case"hour":case"hrs":case"hr":case"h":return a*o;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}(e);if("number"===s&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return a(e,t,i,"day");if(t>=o)return a(e,t,o,"hour");if(t>=n)return a(e,t,n,"minute");if(t>=r)return a(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";var n=r(245),o=r(247);e.exports=n("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),o)},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"create",(function(){return t_})),r.d(n,"clone",(function(){return r_})),r.d(n,"copy",(function(){return n_})),r.d(n,"identity",(function(){return o_})),r.d(n,"fromValues",(function(){return i_})),r.d(n,"set",(function(){return a_})),r.d(n,"invert",(function(){return s_})),r.d(n,"determinant",(function(){return u_})),r.d(n,"multiply",(function(){return c_})),r.d(n,"rotate",(function(){return l_})),r.d(n,"scale",(function(){return f_})),r.d(n,"translate",(function(){return p_})),r.d(n,"fromRotation",(function(){return d_})),r.d(n,"fromScaling",(function(){return h_})),r.d(n,"fromTranslation",(function(){return v_})),r.d(n,"str",(function(){return y_})),r.d(n,"frob",(function(){return m_})),r.d(n,"add",(function(){return g_})),r.d(n,"subtract",(function(){return __})),r.d(n,"multiplyScalar",(function(){return b_})),r.d(n,"multiplyScalarAndAdd",(function(){return w_})),r.d(n,"exactEquals",(function(){return E_})),r.d(n,"equals",(function(){return O_})),r.d(n,"mul",(function(){return T_})),r.d(n,"sub",(function(){return x_}));var o={};r.r(o),r.d(o,"create",(function(){return k_})),r.d(o,"fromMat4",(function(){return S_})),r.d(o,"clone",(function(){return P_})),r.d(o,"copy",(function(){return C_})),r.d(o,"fromValues",(function(){return A_})),r.d(o,"set",(function(){return R_})),r.d(o,"identity",(function(){return j_})),r.d(o,"transpose",(function(){return I_})),r.d(o,"invert",(function(){return D_})),r.d(o,"adjoint",(function(){return M_})),r.d(o,"determinant",(function(){return L_})),r.d(o,"multiply",(function(){return N_})),r.d(o,"translate",(function(){return B_})),r.d(o,"rotate",(function(){return F_})),r.d(o,"scale",(function(){return U_})),r.d(o,"fromTranslation",(function(){return W_})),r.d(o,"fromRotation",(function(){return z_})),r.d(o,"fromScaling",(function(){return H_})),r.d(o,"fromMat2d",(function(){return V_})),r.d(o,"fromQuat",(function(){return G_})),r.d(o,"normalFromMat4",(function(){return q_})),r.d(o,"projection",(function(){return $_})),r.d(o,"str",(function(){return K_})),r.d(o,"frob",(function(){return Y_})),r.d(o,"add",(function(){return X_})),r.d(o,"subtract",(function(){return Z_})),r.d(o,"multiplyScalar",(function(){return J_})),r.d(o,"multiplyScalarAndAdd",(function(){return Q_})),r.d(o,"exactEquals",(function(){return eb})),r.d(o,"equals",(function(){return tb})),r.d(o,"mul",(function(){return rb})),r.d(o,"sub",(function(){return nb}));var i={};r.r(i),r.d(i,"create",(function(){return ob})),r.d(i,"clone",(function(){return ib})),r.d(i,"fromValues",(function(){return ab})),r.d(i,"copy",(function(){return sb})),r.d(i,"set",(function(){return ub})),r.d(i,"add",(function(){return cb})),r.d(i,"subtract",(function(){return lb})),r.d(i,"multiply",(function(){return fb})),r.d(i,"divide",(function(){return pb})),r.d(i,"ceil",(function(){return db})),r.d(i,"floor",(function(){return hb})),r.d(i,"min",(function(){return vb})),r.d(i,"max",(function(){return yb})),r.d(i,"round",(function(){return mb})),r.d(i,"scale",(function(){return gb})),r.d(i,"scaleAndAdd",(function(){return _b})),r.d(i,"distance",(function(){return bb})),r.d(i,"squaredDistance",(function(){return wb})),r.d(i,"length",(function(){return Eb})),r.d(i,"squaredLength",(function(){return Ob})),r.d(i,"negate",(function(){return Tb})),r.d(i,"inverse",(function(){return xb})),r.d(i,"normalize",(function(){return kb})),r.d(i,"dot",(function(){return Sb})),r.d(i,"cross",(function(){return Pb})),r.d(i,"lerp",(function(){return Cb})),r.d(i,"random",(function(){return Ab})),r.d(i,"transformMat2",(function(){return Rb})),r.d(i,"transformMat2d",(function(){return jb})),r.d(i,"transformMat3",(function(){return Ib})),r.d(i,"transformMat4",(function(){return Db})),r.d(i,"rotate",(function(){return Mb})),r.d(i,"angle",(function(){return Lb})),r.d(i,"zero",(function(){return Nb})),r.d(i,"str",(function(){return Bb})),r.d(i,"exactEquals",(function(){return Fb})),r.d(i,"equals",(function(){return Ub})),r.d(i,"len",(function(){return zb})),r.d(i,"sub",(function(){return Hb})),r.d(i,"mul",(function(){return Vb})),r.d(i,"div",(function(){return Gb})),r.d(i,"dist",(function(){return qb})),r.d(i,"sqrDist",(function(){return $b})),r.d(i,"sqrLen",(function(){return Kb})),r.d(i,"forEach",(function(){return Yb}));var a={};r.r(a),r.d(a,"FunctionToString",(function(){return Tz})),r.d(a,"InboundFilters",(function(){return Sz}));r(2),r(3),r(11),r(12),r(35),r(41);var s=r(83),u=r.n(s),c=r(0),l=r.n(c),f=(r(44),'\n    <svg width="43" height="36" viewBox="0 0 43 36" xmlns="http://www.w3.org/2000/svg">\n        <title>Rectangle 425 + Rectangle 425 Copy 2 + Rectangle 429</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M42.934 18.503c.032-.338-.107-.682-.396-.9L30.273 8.36c-.435-.327-1.08-.243-1.418.206-.34.45-.25 1.084.194 1.42l11.303 8.517L29.05 27.02c-.446.336-.535.97-.195 1.42.338.45.983.533 1.418.205l12.265-9.242c.29-.218.428-.562.396-.9zM.466 18.503c-.032-.338.107-.682.397-.9L13.127 8.36c.435-.327 1.08-.243 1.418.206.34.45.25 1.084-.194 1.42L3.05 18.502 14.35 27.02c.446.336.536.97.195 1.42-.338.45-.983.533-1.418.205L.863 19.403c-.29-.218-.43-.562-.397-.9z"/><rect transform="rotate(14 22.02 17.898)" x="21.039" y="-.102" width="1.964" height="36" rx=".982"/>\n        </g>\n    </svg>\n'),p='\n    <svg width="36" height="31" viewBox="0 0 36 31" xmlns="http://www.w3.org/2000/svg">\n        <title>Group</title>\n        <g fill="#9AA8A9" fill-rule="evenodd" opacity=".3">\n            <path d="M32.333 30.77H3.267c-1.1 0-2.1-.564-2.667-1.53-.533-.964-.533-2.095.033-3.06L15.5 1.464C16.067.532 17.033 0 18.133 0 19.2 0 20.2.566 20.767 1.464l14.5 24.118c.633 1.064.666 2.362.033 3.46-.6 1.097-1.7 1.73-2.967 1.73zm-14.2-28.475c-.133 0-.433.034-.633.333L2.667 27.378c-.2.333-.067.6 0 .732.066.133.233.366.633.366h29.033c.567 0 .867-.4.967-.566.1-.166.3-.6 0-1.098L18.767 2.663c-.2-.333-.5-.367-.634-.367z"/><path d="M18.133 20.825c-.633 0-1.166-.533-1.166-1.165v-8.15c0-.632.533-1.164 1.166-1.164.634 0 1.167.532 1.167 1.164v8.15c0 .666-.5 1.165-1.167 1.165zM18.133 25.05c-.633 0-1.166-.533-1.166-1.165v-.665c0-.632.533-1.165 1.166-1.165.634 0 1.167.533 1.167 1.165v.665c0 .665-.5 1.164-1.167 1.164z"/>\n        </g>\n    </svg>\n',d=4,h=6,v=8,y=10;function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function b(e){var t=x();return function(){var r,n=P(e);if(t){var o=P(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return w(this,r)}}function w(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){var t="function"==typeof Map?new Map:void 0;return(O=function(e){if(null===e||!k(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return T(e,arguments,P(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),S(r,e)})(e)}function T(e,t,r){return(T=x()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&S(o,r.prototype),o}).apply(null,arguments)}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function k(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var A,R="FetchNetworkError",j=function(e){_(r,e);var t=b(r);function r(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return g(this,r),C(E(n=t.call(this)),"sentry_extra",void 0),C(E(n),"code",void 0),n.stack=(new Error).stack,n.message=e,n.name=R,n.code=o,o>0&&(n.sentry_extra={HTTPStatusCode:o}),0!==o&&403!==o||(n.message+=" (--client-only--)"),n}return r}(O(Error)),I="BackendModelError",D=function(e){_(r,e);var t=b(r);function r(e,n){var o;return g(this,r),C(E(o=t.call(this)),"sentry_extra",void 0),C(E(o),"code",void 0),o.stack=(new Error).stack,o.name=I,o.code=n,o.message=-1===n?e:"".concat(e," (documentStatus: ").concat(n,") (--client-only--)"),o}return r}(O(Error));r(22),r(7),r(31);!function(e){e.DocumentNotLoad="The document could not be loaded.",e.LicensingNotLoaded="Licenses failed loading",e.ClippingNotLoad="The Clippings could not be loaded.",e.DocumentIdMissing="documentId is not found!",e.JsonNotLoad="XHR could not load JSON",e.PreviewDisableLicenseCheck="Disable license check in Publisher Preview mode",e.PaywallPreviewDisableLicenseCheck="Disable license check in paywallPreview mode",e.SmartzoomNotLoaded="Smartzoom failed to load"}(A||(A={}));var M={},L=function(e){return{dsn:e.dsn,environment:e.environment,beforeSend:function(e,t){var r=null==t?void 0:t.originalException,n="string"==typeof r?r:(null==r?void 0:r.message)||"unknown error";return n in M?(console.error("Rate limiting activated for",n),null):(M[n]=!0,setTimeout((function(){delete M[n]}),6e4),e)}}},N=4;function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.withCredentials,n=void 0!==r&&r,o=t.timeout;return new Promise((function(t,r){var i=new XMLHttpRequest;i.open("GET",e,!0),i.withCredentials=n,o&&(i.timeout=o),i.onreadystatechange=function(){if(i.readyState===N)if(200===i.status)try{t(JSON.parse(i.responseText))}catch(e){r(new j("Could not deserialize loaded JSON: ".concat(e)))}else r(new j(A.JsonNotLoad,i.status))},i.send()}))}var F=r(102),U=r.n(F);function W(e,t,r,n){if(n)return"";var o="embed_context=".concat(e);if(t){var i=new U.a(t).host();o+="&embed_domain=".concat(encodeURIComponent(i))}return r&&(o+="&embed_id=".concat(encodeURIComponent(r))),o}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"?";return e&&t?"".concat(r,"embed_cta=").concat(encodeURIComponent(e),"&").concat(t):""}var H=/^(?:Mediapartners-Google|Yahoo|MSNPTC|Baiduspider|Yandex|proximic|Ezooms)|bot\/|Yahoo! Slurp|Ask Jeeves\/Teoma|spider|crawl|ia_archiver|heritrix\//i;function V(e){return H.test(e)}r(32);var G=r(24),q=r.n(G);function $(){if("function"==typeof window.requestIdleCallback&&"function"==typeof window.cancelIdleCallback)return{rIC:function(e,t){return window.requestIdleCallback(e,t)},cIC:function(e){return window.cancelIdleCallback(e)}};var e=null,t=!1,r=-1,n=!1,o=0,i=33,a=33,s={didTimeout:!1,timeRemaining:function(){var e=o-q()();return e>0?e:0}},u="__rIC$".concat(Math.random().toString(36).slice(2)),c=function(e){n=!1;var r=e-o+a;r<a&&i<a?(r<8&&(r=8),a=r<i?i:r):i=r,o=e+a,t||(t=!0,window.postMessage(u,"*"))};window.addEventListener("message",(function i(a){if(a.source===window&&a.data===u){t=!1;var l=q()();if(o-l<=0){if(!(-1!==r&&r<=l))return void(n||(n=!0,requestAnimationFrame(c)));s.didTimeout=!0}else s.didTimeout=!1;r=-1;var f=e;e=null,window.removeEventListener("message",i,!1),null!==f&&f(s)}}),!1);return{rIC:function(t,o){return e=t,o&&"number"==typeof o.timeout&&(r=q()()+o.timeout),n||(n=!0,requestAnimationFrame(c)),0},cIC:function(n){e=null,t=!1,r=-1}}}r(19),r(42);r(13),r(134),r(18);var K=ENV||window.ENV,Y=K.ISSUU_ENV_NAME,X=K.SCHEME,Z=K.API_DNS,J=K.EMBED_DNS,Q=K.IMAGE_DNS,ee=K.MAIN_DNS,te=K.PHOTO_DNS,re=K.CREATOR_HUB_DNS,ne=K.PINGBACK_DNS,oe=K.READER3_DNS,ie=K.STATIC_DNS,ae=(K.GOOGLE_ANALYTICS_ID,K.QUANTCAST_ID);K.MIXPANEL_ID;function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ce(e,t,r){return t&&ue(e.prototype,t),r&&ue(e,r),e}function le(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}window._qevents=window._qevents||[];var fe=function(){function e(t){var r=t.quantcastId;se(this,e),le(this,"_quantcastId",void 0),this._quantcastId=r}return ce(e,[{key:"destroy",value:function(){}},{key:"track",value:function(){window.__qc&&(window.__qc.qpixelsent=[]);try{window._qevents&&window._qevents.push({qacct:this._quantcastId})}catch(e){}}}]),e}();r(135);function pe(){return"".concat(X).concat(ne)}function de(){return"".concat(X).concat(ee)}function he(){return"".concat(X).concat(J)}function ve(){return"".concat(X).concat(re)}function ye(){return{api:"".concat(X).concat(Z),main:"".concat(X).concat(ee),image:"".concat(X).concat(Q),photo:"".concat(X).concat(te),reader3:"".concat(X).concat(oe)}}r(45),r(306),r(307);function me(e,t){return Ee(e)||we(e,t)||_e(e,t)||ge()}function ge(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _e(e,t){if(e){if("string"==typeof e)return be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function we(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function Ee(e){if(Array.isArray(e))return e}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xe(e,t,r){return t&&Te(e.prototype,t),r&&Te(e,r),e}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Se={SINGLE_PAGE:"SINGLE_PAGE",DOUBLE_PAGE:"DOUBLE_PAGE"},Pe={autoFlip:"doAutoflipPages",hideIssuuLogo:"hideIssuuLogo",enableSeeMore:"showOtherPublicationsAsSuggestions",hideShare:"hideShareButton",fullscreenBackgroundColor:"backgroundColorFullscreen",fullscreenBackgroundImage:"backgroundImageUrl",fullscreenBackgroundPosition:"backgroundImagePosition",fullscreenLogo:"logoImageUrl",layout:"pageLayout",documentId:"documentId",backgroundColor:"backgroundColor",legacyViewMode:"viewMode",adId:"adId",identifier:"identifier",delayTracking:"delayTracking",streamOrigin:"streamOrigin",streamRanking:"streamRanking"},Ce=function(){function e(t){var r=this;Oe(this,e),ke(this,"_uri",void 0),ke(this,"getQueryParamValue",(function(e){return r._uri&&r._uri.getQueryParamValue(e)||""})),ke(this,"getAutoFlip",(function(){return"true"===r.getQueryParamValue(Pe.autoFlip)})),ke(this,"getEnablePoweredByIssuu",(function(){var e=r.getQueryParamValue(Pe.hideIssuuLogo);return!e||"true"!==e})),ke(this,"getEnableSeeMore",(function(){var e=r.getQueryParamValue(Pe.enableSeeMore);if(e)return"false"!==e})),ke(this,"getEnableShare",(function(){var e=r.getQueryParamValue(Pe.hideShare);return!e||"true"!==e})),ke(this,"getFullscreenBgColor",(function(){var e=r.getQueryParamValue(Pe.fullscreenBackgroundColor);if(e){var t=decodeURIComponent(e);return t.startsWith("#")?t:"#".concat(t)}})),ke(this,"getFullscreenBgImage",(function(){return r.getQueryParamValue(Pe.fullscreenBackgroundImage)||void 0})),ke(this,"getFullscreenImageStretch",(function(){return"stretch"===r.getQueryParamValue(Pe.fullscreenBackgroundPosition)})),ke(this,"getFullScreenLogo",(function(){return r.getQueryParamValue(Pe.fullscreenLogo)||void 0})),ke(this,"getPageLayout",(function(){switch(r.getQueryParamValue(Pe.layout)){case"singlePage":return"singlePage";case"doublePage":default:return"doublePage"}})),ke(this,"getUsername",(function(){return r.getQueryParamValue("u")})),ke(this,"getDocumentName",(function(){return r.getQueryParamValue("d")})),ke(this,"getInitialPageNumber",(function(){var e=parseInt(r.getQueryParamValue("p"),10);if(e)return e;var t=parseInt(r.getQueryParamValue("pageNumber"),10);return t||1})),ke(this,"getDocumentId",(function(){return r.getQueryParamValue(Pe.documentId)})),ke(this,"getBackgroundColor",(function(){var e=r.getQueryParamValue(Pe.backgroundColor)||void 0;return e&&((e=decodeURIComponent(e)).startsWith("#")||(e="#".concat(e))),e})),ke(this,"getLegacyViewMode",(function(){return/^presentation|singlePage$/i.test(r.getQueryParamValue(Pe.legacyViewMode))?Se.SINGLE_PAGE:Se.DOUBLE_PAGE})),ke(this,"getAdpageId",(function(){return r.getQueryParamValue(Pe.adId)})),ke(this,"getIdentifier",(function(){return r.getQueryParamValue(Pe.identifier)})),ke(this,"getEmbedType",(function(){return"script"===r.getQueryParamValue("embedType")?"script":"iframe"})),ke(this,"getHostUrl",(function(){return window.document.referrer.toString()})),ke(this,"getHostReferrer",(function(){return r.getQueryParamValue("r")||null})),ke(this,"getLatestHostUrl",(function(){try{return window.parent.document.location.toString()}catch(e){return null}})),ke(this,"getDelayTracking",(function(){var e;return(null===(e=r._uri)||void 0===e?void 0:e.query().includes(Pe.delayTracking))||!1})),ke(this,"getStreamOrigin",(function(){var e=r.getQueryParamValue(Pe.streamOrigin);if(!e)return null;var t=e.split(";");return t.length<3?null:t})),ke(this,"getStreamRanking",(function(){return parseInt(r.getQueryParamValue(Pe.streamRanking),10)||0})),ke(this,"getEmbedId",(function(){var e,t=(null===(e=r._uri)||void 0===e?void 0:e.anchor())||"",n=/^([0-9]+)(?:\/|%2F)([0-9]+).*$/;return n.test(t)?t.replace(n,"$1/$2"):null}));var n=new U.a(t);if(this._uri=void 0,n.host().endsWith("issuu.com")?this._uri=n:n.host().endsWith("googleusercontent.com")?n.queryPairs.forEach((function(e){var t=me(e,2)[1],n=new U.a(t);n.host().endsWith("issuu.com")&&(r._uri=n)})):n.host().endsWith("fastly-terrarium.com")&&(this._uri=n),!this._uri)throw new Error("Unexpected query parameters")}return xe(e,[{key:"extractFullscreenFallbackArgs",value:function(){var e=this,t=[Pe.enableSeeMore,Pe.hideShare,Pe.fullscreenBackgroundColor,Pe.fullscreenBackgroundImage,Pe.fullscreenBackgroundPosition,Pe.fullscreenLogo,Pe.layout].map((function(t){return e._uri&&e._uri.hasQueryParam(t)?"".concat(t,"=").concat(encodeURIComponent(e.getQueryParamValue(t))):null})).filter(Boolean);if(this._uri&&this._uri.hasQueryParam(Pe.legacyViewMode)&&!this._uri.hasQueryParam(Pe.layout)){var r="SINGLE_PAGE"===this.getLegacyViewMode()?"singlePage":"doublePage";t.unshift("".concat(Pe.layout,"=").concat(r))}var n=this.getEmbedId();return"string"==typeof n&&t.unshift("e=".concat(n)),t.join("&")}}]),e}();function Ae(e){return Math.floor(e*Math.random())}function Re(){for(var e="abcdefghijklmnopqrstuvwxyz0123456789",t="",r=0;r<12;r++)t+=e.charAt(Ae(e.length));return t}r(53);function je(e,t){return Ne(e)||Le(e,t)||De(e,t)||Ie()}function Ie(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function De(e,t){if(e){if("string"==typeof e)return Me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Le(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function Ne(e){if(Array.isArray(e))return e}function Be(){return document.cookie.split(/\s*;\s*/).reduce((function(e,t){var r=je(decodeURIComponent(t).split(/\s*=\s*/,2),2),n=r[0],o=r[1];return e[n]=o,e}),{})}var Fe="control",Ue=["control","control","control","control","control","control","control","control","control","control"];function We(){var e;try{e=new Ce(window.parent.location.toString())}catch(t){e=new Ce(window.location.toString())}return e.getQueryParamValue("experiment")}function ze(){var e=We();if(e)return e;var t=Be(),r="string"==typeof t.iutk?parseInt(t.iutk.slice(0,8),16):null;return r?Ue[Math.floor(r/1e4)%Ue.length]:Fe}var He=function(e){return{identifier:e||"control"}},Ve=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He(e);return t}};function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){$e(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ke(e,t){return{licenses:null,description:"",userDisplayName:e,title:t,access:"public",downloadable:!1}}function Ye(e,t,r,n,o){var i="".concat(e,"/call/backend-reader3/").concat("","dynamic/").concat(t,"/").concat(r),a=Date.now(),s=function(){return Math.round(Date.now()-a)};return B(i,{timeout:5e3,readerSessionHeader:n}).then((function(e){return o&&o.monitor("reader3-dynamicapi-stats",{success:1,success_time:s()}),e})).catch((function(e){if(o&&o.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:s()}),e.name===R&&404===e.code)throw new D(A.DocumentNotLoad,-1);return{metadata:{},licenses:null}})).then((function(e){var n=e.metadata,o=void 0===n?{}:n,i=e.licenses;return qe(qe({},Ke(t,r)),{},{licenses:i},o)}))}function Xe(e,t,r){return new Promise((function(n){B("new-links"===ze()?"".concat(e,"/call/backend-reader3/links/").concat(t,"/").concat(r):"".concat(e,"/call/reader/api/links/").concat(t,"/").concat(r)).then((function(e){n(e)}),(function(){n({})}))}))}function Ze(e,t){return fetch("".concat(e,"/call/backend-reader3/").concat("","notify-smartzoom-missing?document_id=").concat(t),{method:"GET",headers:{"Content-Type":"application/x-www-form-urlencoded"}})}r(110),r(111);r(38),r(181),r(112),r(113),r(9),r(80),r(138),r(54),r(55),r(56),r(57),r(58),r(59),r(60),r(61),r(62),r(63),r(64),r(65),r(66),r(67),r(68),r(69),r(70),r(71),r(72),r(73),r(74),r(75),r(76);var Je,Qe=r(259),et=r.n(Qe),tt=r(260),rt=function(e){function t(e){var t=e.blockType,r=e.boundingBox;return"image"===t?{type:"image",boundingBox:r}:"text"===t?{type:"text",fontSize:e[t].fontSize,boundingBox:r}:{type:"unknown",boundingBox:r}}return e.map((function(e){return{pageNumber:e.pageNumber,width:e.width,height:e.height,blocks:e.blocks.map(t)}}))};function nt(e){var t=et.a.Root.fromJSON(tt).lookupType("smartnav.Asset"),r=t.decode(new Uint8Array(e));return rt(t.toObject(r,{enums:String,longs:Number,oneofs:!0,defaults:!0}).pages)}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function at(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){it(i,n,o,a,s,"next",e)}function s(e){it(i,n,o,a,s,"throw",e)}a(void 0)}))}}function st(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}function ct(e){var t=ht();return function(){var r,n=mt(e);if(t){var o=mt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lt(this,r)}}function lt(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?ft(e):t}function ft(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e){var t="function"==typeof Map?new Map:void 0;return(pt=function(e){if(null===e||!vt(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return dt(e,arguments,mt(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),yt(r,e)})(e)}function dt(e,t,r){return(dt=ht()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&yt(o,r.prototype),o}).apply(null,arguments)}function ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function vt(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mt(e){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(Je||(Je={}));var gt=function(e,t){var r=e.x,n=e.y,o=t.top,i=t.right,a=t.bottom;return r>=t.left&&r<=i&&n>=o&&n<=a},_t=function(e,t){var r=t.boundingBox;return"text"===t.type&&gt(e,r)},bt=function(e,t,r,n,o){return n-o<=e.verticalSnapThreshold/t.zoom?e.padding.top-o*r:t.zoom*n-r*n+t.offsetY},wt=function(e,t,r){var n=e.width,o=e.padding;return(n-(o.left+o.right))/(r-t)},Et=function(e,t){var r=t({x:0,y:0});return{zoom:(t({x:e.width,y:e.height}).x-r.x)/e.width,offsetX:r.x,offsetY:r.y}},Ot=function(e,t){var r=e.width,n=e.height,o=t.zoom,i=t.offsetX,a=t.offsetY;return{top:-a/o,right:(r-i)/o,bottom:(n-a)/o,left:-i/o}},Tt=function(e,t){var r=t.top,n=t.right,o=t.bottom,i=t.left,a=n>e.width?e.width-n:i<0?-i:0,s=o>e.height?e.height-o:r<0?-r:0;return{top:r+s,right:n+a,bottom:o+s,left:i+a}},xt=function(e,t){var r=e.boundingBox;return r.top>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right},kt=function(e,t){var r=e.boundingBox;return r.top>=t.top&&r.top<=t.bottom&&r.left>=t.left&&r.right<=t.right},St=function(e,t){var r=e.boundingBox;return r.bottom>=t.top&&r.bottom<=t.bottom&&r.left>=t.left&&r.right<=t.right},Pt=function(e,t){var r=e.boundingBox,n=t.boundingBox;return(Math.min(r.right,n.right)-Math.max(r.left,n.left))/(Math.max(r.right,n.right)-Math.min(r.left,n.left))>=.6},Ct=function(e,t){var r=function(e){var t=e.boundingBox;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}},n=r(e),o=r(t),i=o.x-n.x,a=o.y-n.y,s=180*Math.atan2(a,i)/Math.PI;return s>=-90&&s<=135},At=function(e,t,r,n,o,i){return{zoom:n,offsetX:e.padding.left-o*n,offsetY:bt(e,r,n,t.y,i)}},Rt=function e(t,r,n,o,i,a,s,u){var c=a.shift();if(c){console.log("unidirectionalExpansion: oldExpansion=",t,", direction=",s);var l="text"===c.type?Math.min(t.minFontSize,c.fontSize):t.minFontSize,f=Math.min(t.left,c.boundingBox.left),p=Math.max(t.right,c.boundingBox.right),d=wt(r,f,p);console.log("unidirectionalExpansion: considering left=".concat(f,", right=").concat(p));var h=At(r,n,o,d,f,i.boundingBox.top),v=Ot(r,h),y=l*d,m=y>=r.minEffectiveFontSize,g=!u||xt(u,v),_=0===s?kt(c,v):St(c,v),b=Pt(i,c),w=Ct(i,c);return console.log("unidirectionalExpansion: ","effectiveFontSize=",y,"satisfiesFontSize=",m,"satisfiesOldVisibility=",g,"satisfiesThisVisibility=",_,"satisfiesColumn=",b,"satisfiesFlow=",w),m&&g&&_&&b?(console.log("unidirectionalExpansion: all criteria are satisfied"),e({zoom:d,left:f,right:p,minFontSize:l},r,n,o,i,a,s,c)):(console.log("unidirectionalExpansion: criteria not satisfied and not continuing"),t)}return console.log("unidirectionalExpansion: no more blocks"),t},jt=function(e,t,r,n,o,i,a){var s={zoom:n,left:i.boundingBox.left,right:i.boundingBox.right,minFontSize:i.fontSize},u=a.slice(o+1),c=Rt(s,e,t,r,i,u,0),l=a.slice(0,o).reverse();return Rt(c,e,t,r,i,l,1)},It=function(e,t,r,n,o){var i=e.blocks[o];if("text"!==i.type)return null;var a=i.boundingBox,s=wt(t,a.left,a.right),u=i.fontSize*s;if(console.log("computeNewTransform: bbox=",a,", zoom=",s),console.log("computeNewTransform: blockIdx=",o,", fontSize=",i.fontSize,", effectiveFontSize=",u),u<t.minEffectiveFontSize){console.log("computeNewTransform: effectiveFontSize < minEffectiveFontSize");var c=Math.min(t.maxZoom,t.minEffectiveFontSize/i.fontSize);return{zoom:c,offsetX:r.zoom*n.x-c*n.x+r.offsetX,offsetY:bt(t,r,c,n.y,a.top)}}if(u>t.maxEffectiveFontSize||s>t.maxZoom){console.log("computeNewTransform: effectiveFontSize > screenConfig.maxEffectiveFontSize || zoom > screenConfig.maxZoom");var l=jt(t,n,r,s,o,i,e.blocks),f=i.fontSize*l.zoom;if(console.log("computeNewTransform: newEffectiveFontSize=",f,", expansion=",l),f>t.maxEffectiveFontSize||l.zoom>t.maxZoom){console.log("computeNewTransform: block expansion did not succeed");var p=Math.min(t.maxZoom,t.maxEffectiveFontSize/i.fontSize),d=(a.right+a.left)/2;return{zoom:p,offsetX:t.width/2-d*p,offsetY:bt(t,r,p,n.y,a.top)}}return console.log("computeNewTransform: block expansion succeeded"),At(t,n,r,l.zoom,l.left,a.top)}console.log("computeNewTransform: block width is in the Goldilocks zone");var h=jt(t,n,r,s,o,i,e.blocks);return At(t,n,r,h.zoom,h.left,a.top)},Dt=function(e){ut(r,e);var t=ct(r);function r(){return st(this,r),t.apply(this,arguments)}return r}(pt(Error)),Mt=function(e){ut(r,e);var t=ct(r);function r(){return st(this,r),t.apply(this,arguments)}return r}(pt(Error)),Lt=function(e){ut(r,e);var t=ct(r);function r(){return st(this,r),t.apply(this,arguments)}return r}(pt(Error));function Nt(e){return Bt.apply(this,arguments)}function Bt(){return(Bt=at(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((r=e.sent).ok){e.next=7;break}if(403!==r.status){e.next=6;break}throw new Dt("Assets missing for ".concat(t));case 6:throw new Mt("Invalid response for ".concat(t));case 7:return e.prev=7,e.next=10,r.arrayBuffer();case 10:return n=e.sent,e.abrupt("return",nt(n));case 14:throw e.prev=14,e.t0=e.catch(7),new Lt(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})))).apply(this,arguments)}function Ft(e,t,r,n,o){console.log("getPositionForPoint: ========================================================");var i=e.find((function(e){return e.pageNumber===n}));if(i){console.log("getPositionForPoint: screenConfig=",t,", pagePoint=",o,", pageWidth=",i.width,", pageHeight=",i.height);var a=i.blocks.findIndex((function(e){return _t(o,e)}));if(-1===a)return console.log("getPositionForPoint: Could not find a valid block"),null;console.log("getPositionForPoint: Point is within a valid block");var s=Et(i,r);console.log("getPositionForPoint: oldTransform=",s);var u=It(i,t,s,o,a);console.log("getPositionForPoint: newTransform=",u);var c=u?Ot(t,u):null;console.log("getPositionForPoint: viewport=",c);var l=c?Tt(i,c):null;if(console.log("getPositionForPoint: confinedViewport=",l),l){var f=l.top,p=l.left,d=l.right;return{pageNumber:i.pageNumber,semiBox:{top:f,left:p,right:d}}}return null}return null}r(29),r(30),r(36);function Ut(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ut(Object(r),!0).forEach((function(t){zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ut(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ht(e,t,r){return B("".concat(e,"/").concat(t,"/").concat(r,"/reader3_4.json")).then((function(e){var n=e.status,o=e.document;if(0!==n||!o)throw new D(A.DocumentNotLoad,n);return Wt({username:t,documentName:r},o)}))}function Vt(e,t){return Yt(e)||Kt(e,t)||qt(e,t)||Gt()}function Gt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function qt(e,t){if(e){if("string"==typeof e)return $t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$t(e,t):void 0}}function $t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function Yt(e){if(Array.isArray(e))return e}function Xt(e){return function(e){var t,r,n=e.origins,o=e.username,i=e.documentName,a=e.metrics,s=e.sessionId,u=e.isRobot,c=void 0!==u&&u;function l(){t=Ht(n.reader3,o,i),r=c?Promise.resolve(Ke(o,i)):Ye(n.api,o,i,s,a)}return l(),{reset:function(){l()},whenDocumentBaseFetched:function(){return t.then((function(e){return{pageCount:e.pages.length,pages:e.pages.map((function(e,t){return{pageNumber:t+1,height:e.height,width:e.width,layersInfo:e.layersInfo,imageUri:e.imageUri,isPagePaywalled:e.isPagePaywalled}})),isPaywalled:e.isPaywallPreview,originalPublishDate:e.originalPublishDate,publicationId:e.publicationId,revisionId:e.revisionId}}))},whenDocumentExtraFetched:function(){return Promise.all([t,r]).then((function(e){var t=Vt(e,2),r=t[0],n=t[1];return{publicationId:r.publicationId,revisionId:r.revisionId,username:o,documentName:i,access:n.access,description:n.description,downloadable:n.downloadable,title:n.title,userDisplayName:n.userDisplayName,contentRating:n.contentRating}}))},whenDocumentTextFetched:function(){return t.then((function(e){var t=e.textInfo;return{textInfoPath:t.uri,textInfoSize:t.size,textInfoVersion:t.version}}))},whenDocumentLinksFetched:function(){return c?Promise.resolve({}):Xe(n.api,o,i)},whenLicensesFetched:function(){return r.then((function(e){var t=e.licenses;if(!t)throw new Error(A.LicensingNotLoaded);return Object.keys(t)}))},whenSmartnavFetched:function(){return t.then((function(e){var t=e.smartzoomUri;return t?Nt("https://".concat(t)):[]}))},username:o,documentName:i}}}Xt();var Zt=Xt();function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tr(e,t,r){return t&&er(e.prototype,t),r&&er(e,r),e}function rr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nr(e,t)}function nr(e,t){return(nr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function or(e){var t=sr();return function(){var r,n=ur(e);if(t){var o=ur(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ir(this,r)}}function ir(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?ar(e):t}function ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lr=function(e){rr(r,e);var t=or(r);function r(){var e;Qt(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return cr(ar(e=t.call.apply(t,[this].concat(o))),"onRetry",(function(t){t.preventDefault(),e.props.reloadDocument&&e.props.reloadDocument()})),e}return tr(r,[{key:"getConfig",value:function(){return this.props.error.name===I?this.getConfigForInactiveDocument():this.getConfigForEmbedError()}},{key:"getConfigForEmbedError",value:function(){var e=this.props.embedId?this.props.embedId:"undefined";return{message:"".concat(this.props.error.message," (").concat(e,")"),icon:c.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:f}}),retry:{display:"none"},errorId:{}}}},{key:"getConfigForInactiveDocument",value:function(){var e={message:"Something went wrong",icon:c.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:f}}),retry:{},errorId:{}};switch(this.props.error.code){case h:e.message="The content you are trying to view is not currently available.",e.icon=c.createElement("div",{className:"failed__icon",dangerouslySetInnerHTML:{__html:p}}),e.retry.display="none",e.errorId.display="none";break;case d:case v:case y:e.message="Sorry, this publication is not available",e.retry.display="none",e.errorId.display="none"}return e}},{key:"render",value:function(){var e=this.getConfig();return c.createElement("div",{className:"failed"},e.icon,c.createElement("h1",{className:"failed__message"},e.message),c.createElement("div",{className:"failed__retry-link-container",style:e.retry},c.createElement("a",{className:"failed__retry-link",href:"#",onClick:this.onRetry},"Try again")),c.createElement("div",{className:"failed__help"},c.createElement("div",{className:"failed__error-token",style:e.errorId},"Error ID: ",this.props.sessionId),c.createElement("div",{className:"failed__spacer",style:e.errorId}),c.createElement("div",{className:"failed__support-link-container"},c.createElement("a",{className:"failed__support-link",href:"https://web.archive.org/web/20220221113829/http://help.issuu.com",target:"_blank"},"help.issuu.com"))))}}]),r}(c.Component);function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hr(e,t,r){return t&&dr(e.prototype,t),r&&dr(e,r),e}function vr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function mr(e){var t=br();return function(){var r,n=wr(e);if(t){var o=wr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return gr(this,r)}}function gr(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?_r(e):t}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function br(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Er(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}cr(lr,"displayName","Failed");var Or=function(e){vr(r,e);var t=mr(r);function r(){return pr(this,r),t.apply(this,arguments)}return hr(r,[{key:"render",value:function(){var e=this.props,t=e.username,r=e.documentName,n=e.mainOrigin,o=e.initialPageNumber,i=e.embedId,a="".concat(n,"/").concat(t,"/docs/").concat(r);return o>1&&(a="".concat(a,"/").concat(o)),a=i?"".concat(a,"?e=").concat(encodeURIComponent(i)):"".concat(a,"?e=0"),c.createElement("div",{className:"bot-reader"},c.createElement("a",{href:a,target:"_blank"},"Read on issuu"))}}]),r}(c.Component);Er(Or,"displayName","BotReader");var Tr='\n    <svg width="100%" height="100%" viewBox="-2 0 60 14" style="fill: #fff">\n        <g>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n            <path d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"></path>\n            <path d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"></path>\n        </g>\n        <g transform="translate(17.000000, 0.000000)">\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n            <path d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"></path>\n            <path d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"></path>\n            <path d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"></path>\n            <path d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"></path>\n            <path d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"></path>\n        </g>\n    </svg>\n';function xr(e){return(xr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pr(e,t,r){return t&&Sr(e.prototype,t),r&&Sr(e,r),e}function Cr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ar(e,t)}function Ar(e,t){return(Ar=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rr(e){var t=Dr();return function(){var r,n=Mr(e);if(t){var o=Mr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jr(this,r)}}function jr(e,t){return!t||"object"!==xr(t)&&"function"!=typeof t?Ir(e):t}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Lr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nr="reader3-features.LINK_BELOW_EMBED_OPEN",Br="reader3-features.LINK_BELOW_EMBED_YCPT",Fr=function(e){Cr(r,e);var t=Rr(r);function r(){var e;kr(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Lr(Ir(e=t.call.apply(t,[this].concat(o))),"_firstUsage",{}),Lr(Ir(e),"onPoweredByIssuu",(function(t){e.trackUsage(Nr)})),Lr(Ir(e),"onPublishForFree",(function(t){e.trackUsage(Br)})),Lr(Ir(e),"trackOpportunity",(function(t){e.props.metrics&&e.props.metrics.monitor(t,{opportunity:1})})),Lr(Ir(e),"trackUsage",(function(t){e.props.metrics&&(e.props.metrics.monitor(t,{usageRepeat:1,usageFirst:e._firstUsage[t]?0:1}),e._firstUsage[t]=!0)})),e}return Pr(r,[{key:"componentDidMount",value:function(){this.trackOpportunity(Nr),this.trackOpportunity(Br)}},{key:"renderEmoji",value:function(){var e="".concat(this.props.creatorHubOrigin,"/features").concat(z("created_by",this.props.embedTrackingQuery));return c.createElement("div",{className:"issuu-branding-emoji"},c.createElement("a",{href:e,onClick:this.onPoweredByIssuu,className:"issuu-branding-emoji__link",target:"_blank"},c.createElement("span",{className:"issuu-branding-emoji__text"},"Created with"),c.createElement("span",{className:"issuu-branding-emoji__emoji"},"🧡"),c.createElement("span",{className:"issuu-branding-emoji__text"},"on Issuu")))}},{key:"renderOriginal",value:function(){var e="".concat(this.props.creatorHubOrigin,"/features").concat(z("powered_by",this.props.embedTrackingQuery)),t="".concat(this.props.mainOrigin,"/tryissuu").concat(z("publish_for_free",this.props.embedTrackingQuery));return c.createElement("div",{className:"issuu-branding"},c.createElement("div",{className:"powered-by"},c.createElement("span",{className:"powered-by-text"},"Powered by"),c.createElement("span",{className:"powered-by-link"},c.createElement("a",{href:e,onClick:this.onPoweredByIssuu,target:"_blank",dangerouslySetInnerHTML:{__html:Tr}}))),c.createElement("span",{className:"publish-for-free"},c.createElement("a",{className:"publish-for-free-link",href:t,onClick:this.onPublishForFree,target:"_blank"},"Publish for Free")))}},{key:"render",value:function(){return this.props.useEmojiBranding?this.renderEmoji():this.renderOriginal()}}]),r}(c.Component);Lr(Fr,"displayName","IssuuBranding");r(15);var Ur="@reader3/paywall/PAYWALL_PUBLICATION_LOADING",Wr="@reader3/paywall/PAYWALL_PUBLICATION_LOADED",zr="@reader3/paywall/PAYWALL_PUBLICATION_LOADING_ERROR",Hr={status:"NOTLOADED",isNotAvailable:!1,isPaid:!1,publicationPriceAmount:0,publicationPriceCurrency:"USD",readPurchasedPath:null};function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ur:return Object.assign({},e,{status:"LOADING"});case zr:return Object.assign({},e,{status:"ERROR"});case Wr:return{status:"LOADED",isNotAvailable:!!t.isNotAvailable,isPaid:!!t.currentUserPurchased,publicationPriceAmount:t.priceAmount,publicationPriceCurrency:t.priceCurrency,readPurchasedPath:t.readPurchasedPath};default:return e}}var Gr=r(199),qr=function(){return Math.random().toString(36).substring(7).split("").join(".")},$r={INIT:"@@redux/INIT"+qr(),REPLACE:"@@redux/REPLACE"+qr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+qr()}};function Kr(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Yr(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(Yr)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,i=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function f(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function.");if(u)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,c();var r=s.indexOf(e);s.splice(r,1),a=null}}}function p(e){if(!Kr(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,i=o(i,e)}finally{u=!1}for(var t=a=s,r=0;r<t.length;r++){(0,t[r])()}return e}function d(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,p({type:$r.REPLACE})}function h(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function r(){e.next&&e.next(l())}return r(),{unsubscribe:t(r)}}})[Gr.a]=function(){return this},e}return p({type:$r.INIT}),(n={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[Gr.a]=h,n}function Xr(e,t){return function(){return t(e.apply(this,arguments))}}function Zr(e,t){if("function"==typeof e)return Xr(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var r={};for(var n in e){var o=e[n];"function"==typeof o&&(r[n]=Xr(o,t))}return r}function Jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qr(e,t){var r=Object.keys(e);return Object.getOwnPropertySymbols&&r.push.apply(r,Object.getOwnPropertySymbols(e)),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r}function en(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qr(r,!0).forEach((function(t){Jr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qr(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function rn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return en({},r,{dispatch:n=tn.apply(void 0,i)(r.dispatch)})}}}r(243);var nn=l.a.createContext(null);function on(e){e()}var an=on,sn=function(e){return an=e},un=function(){return an},cn={notify:function(){}};function ln(){var e=un(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var fn=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=cn,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=ln())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=cn)},e}();function pn(e){var t=e.store,r=e.context,n=e.children,o=Object(c.useMemo)((function(){var e=new fn(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=Object(c.useMemo)((function(){return t.getState()}),[t]);Object(c.useEffect)((function(){var e=o.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=r||nn;return l.a.createElement(a.Provider,{value:o},n)}var dn=pn;function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vn(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var yn=r(118),mn=r.n(yn),gn=r(117),_n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?c.useLayoutEffect:c.useEffect,bn=[],wn=[null,null];function En(e,t){var r=e[1];return[t.payload,r+1]}function On(e,t,r){_n((function(){return e.apply(void 0,t)}),r)}function Tn(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function xn(e,t,r,n,o,i,a,s,u,c){if(e){var l=!1,f=null,p=function(){if(!l){var e,r,p=t.getState();try{e=n(p,o.current)}catch(e){r=e,f=e}r||(f=null),e===i.current?a.current||u():(i.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(l=!0,r.tryUnsubscribe(),r.onStateChange=null,f)throw f}}}var kn=function(){return[null,0]};function Sn(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,o=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,i=r.methodName,a=void 0===i?"connectAdvanced":i,s=r.renderCountProp,u=void 0===s?void 0:s,f=r.shouldHandleStateChanges,p=void 0===f||f,d=r.storeKey,h=void 0===d?"store":d,v=(r.withRef,r.forwardRef),y=void 0!==v&&v,m=r.context,g=void 0===m?nn:m,_=vn(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),b=g;return function(t){var r=t.displayName||t.name||"Component",n=o(r),i=hn({},_,{getDisplayName:o,methodName:a,renderCountProp:u,shouldHandleStateChanges:p,storeKey:h,displayName:n,wrappedComponentName:r,WrappedComponent:t}),s=_.pure;var f=s?c.useMemo:function(e){return e()};function d(r){var n=Object(c.useMemo)((function(){var e=r.reactReduxForwardedRef,t=vn(r,["reactReduxForwardedRef"]);return[r.context,e,t]}),[r]),o=n[0],a=n[1],s=n[2],u=Object(c.useMemo)((function(){return o&&o.Consumer&&Object(gn.isContextConsumer)(l.a.createElement(o.Consumer,null))?o:b}),[o,b]),d=Object(c.useContext)(u),h=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var v=h?r.store:d.store,y=Object(c.useMemo)((function(){return function(t){return e(t.dispatch,i)}(v)}),[v]),m=Object(c.useMemo)((function(){if(!p)return wn;var e=new fn(v,h?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[v,h,d]),g=m[0],_=m[1],w=Object(c.useMemo)((function(){return h?d:hn({},d,{subscription:g})}),[h,d,g]),E=Object(c.useReducer)(En,bn,kn),O=E[0][0],T=E[1];if(O&&O.error)throw O.error;var x=Object(c.useRef)(),k=Object(c.useRef)(s),S=Object(c.useRef)(),P=Object(c.useRef)(!1),C=f((function(){return S.current&&s===k.current?S.current:y(v.getState(),s)}),[v,O,s]);On(Tn,[k,x,P,s,C,S,_]),On(xn,[p,v,g,y,k,x,P,S,_,T],[v,g,y]);var A=Object(c.useMemo)((function(){return l.a.createElement(t,hn({},C,{ref:a}))}),[a,t,C]);return Object(c.useMemo)((function(){return p?l.a.createElement(u.Provider,{value:w},A):A}),[u,A,w])}var v=s?l.a.memo(d):d;if(v.WrappedComponent=t,v.displayName=n,y){var m=l.a.forwardRef((function(e,t){return l.a.createElement(v,hn({},e,{reactReduxForwardedRef:t}))}));return m.displayName=n,m.WrappedComponent=t,mn()(m,t)}return mn()(v,t)}}function Pn(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function Cn(e,t){if(Pn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!Pn(e[r[o]],t[r[o]]))return!1;return!0}function An(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function Rn(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function jn(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=Rn(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=Rn(o),o=n(t,r)),o},n}}function In(e){return"function"==typeof e?jn(e):void 0}function Dn(e){return e?void 0:An((function(e){return{dispatch:e}}))}function Mn(e){return e&&"object"==typeof e?An((function(t){return Zr(e,t)})):void 0}var Ln=[In,Dn,Mn];function Nn(e){return"function"==typeof e?jn(e):void 0}function Bn(e){return e?void 0:An((function(){return{}}))}var Fn=[Nn,Bn];function Un(e,t,r){return hn({},r,e,t)}function Wn(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,s){var u=e(t,r,s);return a?o&&i(u,n)||(n=u):(a=!0,n=u),n}}}function zn(e){return"function"==typeof e?Wn(e):void 0}function Hn(e){return e?void 0:function(){return Un}}var Vn=[zn,Hn];function Gn(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function qn(e,t,r,n,o){var i,a,s,u,c,l=o.areStatesEqual,f=o.areOwnPropsEqual,p=o.areStatePropsEqual,d=!1;function h(o,d){var h,v,y=!f(d,a),m=!l(o,i);return i=o,a=d,y&&m?(s=e(i,a),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):y?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(u=t(n,a)),c=r(s,u,a)):m?(h=e(i,a),v=!p(h,s),s=h,v&&(c=r(s,u,a)),c):c}return function(o,l){return d?h(o,l):(s=e(i=o,a=l),u=t(n,a),c=r(s,u,a),d=!0,c)}}function $n(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=vn(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=r(e,i),s=n(e,i),u=o(e,i);return(i.pure?qn:Gn)(a,s,u,e,i)}function Kn(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function Yn(e,t){return e===t}function Xn(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?Sn:r,o=t.mapStateToPropsFactories,i=void 0===o?Fn:o,a=t.mapDispatchToPropsFactories,s=void 0===a?Ln:a,u=t.mergePropsFactories,c=void 0===u?Vn:u,l=t.selectorFactory,f=void 0===l?$n:l;return function(e,t,r,o){void 0===o&&(o={});var a=o,u=a.pure,l=void 0===u||u,p=a.areStatesEqual,d=void 0===p?Yn:p,h=a.areOwnPropsEqual,v=void 0===h?Cn:h,y=a.areStatePropsEqual,m=void 0===y?Cn:y,g=a.areMergedPropsEqual,_=void 0===g?Cn:g,b=vn(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),w=Kn(e,i,"mapStateToProps"),E=Kn(t,s,"mapDispatchToProps"),O=Kn(r,c,"mergeProps");return n(f,hn({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:w,initMapDispatchToProps:E,initMergeProps:O,pure:l,areStatesEqual:d,areOwnPropsEqual:v,areStatePropsEqual:m,areMergedPropsEqual:_},b))}}var Zn=Xn();sn(s.unstable_batchedUpdates);var Jn,Qn,eo=r(1);!function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(Jn||(Jn={})),function(e){e.Ok="ok",e.Errored="errored",e.Crashed="crashed"}(Qn||(Qn={}));var to=r(39),ro=r(401),no=Object(to.e)(),oo="Sentry Logger ",io=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(to.c)((function(){no.console.log(oo+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(to.c)((function(){no.console.warn(oo+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Object(to.c)((function(){no.console.error(oo+"[Error]: "+e.join(" "))}))},e}();no.__SENTRY__=no.__SENTRY__||{};var ao,so=no.__SENTRY__.logger||(no.__SENTRY__.logger=new io),uo=r(145),co=r(20);!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(ao||(ao={}));var lo=function(){function e(e){var t=this;this._state=ao.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(ao.RESOLVED,e)},this._reject=function(e){t._setResult(ao.REJECTED,e)},this._setResult=function(e,r){t._state===ao.PENDING&&(Object(co.m)(r)?r.then(t._resolve,t._reject):(t._state=e,t._value=r,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==ao.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===ao.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===ao.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,r){r(t)}))},e.all=function(t){return new e((function(r,n){if(Array.isArray(t))if(0!==t.length){var o=t.length,i=[];t.forEach((function(t,a){e.resolve(t).then((function(e){i[a]=e,0===(o-=1)&&r(i)})).then(null,n)}))}else r([]);else n(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,r){var n=this;return new e((function(e,o){n._attachHandler({done:!1,onfulfilled:function(r){if(t)try{return void e(t(r))}catch(e){return void o(e)}else e(r)},onrejected:function(t){if(r)try{return void e(r(t))}catch(e){return void o(e)}else o(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var r=this;return new e((function(e,n){var o,i;return r.then((function(e){i=!1,o=e,t&&t()}),(function(e){i=!0,o=e,t&&t()})).then((function(){i?n(o):e(o)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),fo=100,po=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var r=new e;return t&&(r._breadcrumbs=Object(eo.e)(t._breadcrumbs),r._tags=Object(eo.a)({},t._tags),r._extra=Object(eo.a)({},t._extra),r._contexts=Object(eo.a)({},t._contexts),r._user=t._user,r._level=t._level,r._span=t._span,r._session=t._session,r._transactionName=t._transactionName,r._fingerprint=t._fingerprint,r._eventProcessors=Object(eo.e)(t._eventProcessors),r._requestSession=t._requestSession),r},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=Object(eo.a)(Object(eo.a)({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var r;return this._tags=Object(eo.a)(Object(eo.a)({},this._tags),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=Object(eo.a)(Object(eo.a)({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var r;return this._extra=Object(eo.a)(Object(eo.a)({},this._extra),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var r;return null===t?delete this._contexts[e]:this._contexts=Object(eo.a)(Object(eo.a)({},this._contexts),((r={})[e]=t,r)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,r,n,o=this.getSpan();return(null===(e=o)||void 0===e?void 0:e.transaction)?null===(t=o)||void 0===t?void 0:t.transaction:(null===(n=null===(r=o)||void 0===r?void 0:r.spanRecorder)||void 0===n?void 0:n.spans[0])?o.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var r=t(this);return r instanceof e?r:this}return t instanceof e?(this._tags=Object(eo.a)(Object(eo.a)({},this._tags),t._tags),this._extra=Object(eo.a)(Object(eo.a)({},this._extra),t._extra),this._contexts=Object(eo.a)(Object(eo.a)({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):Object(co.h)(t)&&(t=t,this._tags=Object(eo.a)(Object(eo.a)({},this._tags),t.tags),this._extra=Object(eo.a)(Object(eo.a)({},this._extra),t.extra),this._contexts=Object(eo.a)(Object(eo.a)({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var r="number"==typeof t?Math.min(t,fo):fo;if(r<=0)return this;var n=Object(eo.a)({timestamp:Object(ro.a)()},e);return this._breadcrumbs=Object(eo.e)(this._breadcrumbs,[n]).slice(-r),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var r;if(this._extra&&Object.keys(this._extra).length&&(e.extra=Object(eo.a)(Object(eo.a)({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=Object(eo.a)(Object(eo.a)({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=Object(eo.a)(Object(eo.a)({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=Object(eo.a)(Object(eo.a)({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=Object(eo.a)({trace:this._span.getTraceContext()},e.contexts);var n=null===(r=this._span.transaction)||void 0===r?void 0:r.name;n&&(e.tags=Object(eo.a)({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=Object(eo.e)(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(Object(eo.e)(ho(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,r,n){var o=this;return void 0===n&&(n=0),new lo((function(i,a){var s=e[n];if(null===t||"function"!=typeof s)i(t);else{var u=s(Object(eo.a)({},t),r);Object(co.m)(u)?u.then((function(t){return o._notifyEventProcessors(e,t,r,n+1).then(i)})).then(null,a):o._notifyEventProcessors(e,u,r,n+1).then(i).then(null,a)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function ho(){var e=Object(to.e)();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function vo(e){ho().push(e)}var yo=r(79),mo=function(){function e(e){this.errors=0,this.sid=Object(to.i)(),this.duration=0,this.status=Jn.Ok,this.init=!0,this.ignoreDuration=!1;var t=Object(ro.b)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Object(ro.b)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:Object(to.i)()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===Jn.Ok?this.update({status:Jn.Exited}):this.update()},e.prototype.toJSON=function(){return Object(yo.a)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:Object(yo.a)({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),go=4,_o=100,bo=function(){function e(e,t,r){void 0===t&&(t=new po),void 0===r&&(r=go),this._version=r,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=po.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var r=this._lastEventId=Object(to.i)(),n=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}n={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,Object(eo.a)(Object(eo.a)({},n),{event_id:r})),r},e.prototype.captureMessage=function(e,t,r){var n=this._lastEventId=Object(to.i)(),o=r;if(!r){var i=void 0;try{throw new Error(e)}catch(e){i=e}o={originalException:e,syntheticException:i}}return this._invokeClient("captureMessage",e,t,Object(eo.a)(Object(eo.a)({},o),{event_id:n})),n},e.prototype.captureEvent=function(e,t){var r=this._lastEventId=Object(to.i)();return this._invokeClient("captureEvent",e,Object(eo.a)(Object(eo.a)({},t),{event_id:r})),r},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var r=this.getStackTop(),n=r.scope,o=r.client;if(n&&o){var i=o.getOptions&&o.getOptions()||{},a=i.beforeBreadcrumb,s=void 0===a?null:a,u=i.maxBreadcrumbs,c=void 0===u?_o:u;if(!(c<=0)){var l=Object(ro.a)(),f=Object(eo.a)({timestamp:l},e),p=s?Object(to.c)((function(){return s(f,t)})):f;null!==p&&n.addBreadcrumb(p,c)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var r=this.getScope();r&&r.setTag(e,t)},e.prototype.setExtra=function(e,t){var r=this.getScope();r&&r.setExtra(e,t)},e.prototype.setContext=function(e,t){var r=this.getScope();r&&r.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),r=t.scope,n=t.client;r&&n&&e(r)},e.prototype.run=function(e){var t=Eo(this);try{e(this)}finally{Eo(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return so.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e,t,r,n,o;null===(r=null===(t=null===(e=this.getStackTop())||void 0===e?void 0:e.scope)||void 0===t?void 0:t.getSession())||void 0===r||r.close(),this._sendSessionUpdate(),null===(o=null===(n=this.getStackTop())||void 0===n?void 0:n.scope)||void 0===o||o.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),r=t.scope,n=t.client,o=n&&n.getOptions()||{},i=o.release,a=o.environment,s=(Object(to.e)().navigator||{}).userAgent,u=new mo(Object(eo.a)(Object(eo.a)(Object(eo.a)({release:i,environment:a},r&&{user:r.getUser()}),s&&{userAgent:s}),e));if(r){var c=r.getSession&&r.getSession();c&&c.status===Jn.Ok&&c.update({status:Jn.Exited}),this.endSession(),r.setSession(u)}return u},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,r=e.client;if(t){var n=t.getSession&&t.getSession();n&&r&&r.captureSession&&r.captureSession(n)}},e.prototype._invokeClient=function(e){for(var t,r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];var o=this.getStackTop(),i=o.scope,a=o.client;a&&a[e]&&(t=a)[e].apply(t,Object(eo.e)(r,[i]))},e.prototype._callExtensionMethod=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=wo(),o=n.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[e])return o.extensions[e].apply(this,t);so.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function wo(){var e=Object(to.e)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Eo(e){var t=wo(),r=ko(t);return So(t,e),r}function Oo(){var e=wo();return xo(e)&&!ko(e).isOlderThan(go)||So(e,new bo),Object(uo.b)()?To(e):ko(e)}function To(e){var t,r,n;try{var o=null===(n=null===(r=null===(t=wo().__SENTRY__)||void 0===t?void 0:t.extensions)||void 0===r?void 0:r.domain)||void 0===n?void 0:n.active;if(!o)return ko(e);if(!xo(o)||ko(o).isOlderThan(go)){var i=ko(e).getStackTop();So(o,new bo(i.client,po.clone(i.scope)))}return ko(o)}catch(t){return ko(e)}}function xo(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function ko(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new bo),e.__SENTRY__.hub}function So(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}function Po(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=Oo();if(n&&n[e])return n[e].apply(n,Object(eo.e)(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Co(e,t){var r;try{throw new Error("Sentry syntheticException")}catch(e){r=e}return Po("captureException",e,{captureContext:t,originalException:e,syntheticException:r})}function Ao(e){Po("withScope",e)}r(100),r(116);function Ro(e,t){return e===t}function jo(e,t,r){if(null===t||null===r||t.length!==r.length)return!1;for(var n=t.length,o=0;o<n;o++)if(!e(t[o],r[o]))return!1;return!0}function Io(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ro,r=null,n=null;return function(){return jo(t,r,arguments)||(n=e.apply(null,arguments)),r=arguments,n}}function Do(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var r=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return t}function Mo(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var i=0,a=n.pop(),s=Do(n),u=e.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat(r)),c=e((function(){for(var e=[],t=s.length,r=0;r<t;r++)e.push(s[r].apply(null,arguments));return u.apply(null,e)}));return c.resultFunc=a,c.dependencies=s,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}var Lo=Mo(Io);var No=r(92),Bo="READER_POSITION_CHANGED";function Fo(e,t,r,n,o,i,a,s,u){return{type:Bo,currentSpreadIndex:t,currentPageNumber:r,currentPageNumbers:n,positionInPercent:o,visiblePageNumbers:e,positionInPercentHasChanged:i,currentPagesHasChanged:a,visiblePagesHasChanged:s,isDragging:u}}var Uo="@reader3/document/DOCUMENTLOADED",Wo={description:"",originalPublishDate:"",documentName:"",username:"",userDisplayName:"",publicationId:"",revisionId:"",title:"",downloadable:!1,isPaywallPreview:!1,isAdsafe:!1};function zo(e){return{type:Uo,doc:e}}var Ho=Lo((function(e){return e.metadata}),(function(e){return e.pages.pages}),(function(e){return e.config.origins}),(function(e,t,r){return{documentId:"".concat(e.revisionId,"-").concat(e.publicationId),documentName:e.documentName,publicationId:e.publicationId,revisionId:e.revisionId,title:e.title,path:"/".concat(e.username,"/docs/").concat(e.documentName),coverUri:t[0]?"".concat(X).concat(t[0].imageUri):"",pageCount:t.length,userDisplayName:e.userDisplayName,username:e.username,userProfileImageUri:"".concat(r.photo,"/").concat(e.username,"/photo_large.jpg"),userProfileUri:"".concat(r.main,"/").concat(e.username),description:e.description,originalPublishDate:e.originalPublishDate,isPaywallPreview:e.isPaywallPreview}}));function Vo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uo:var r=t.doc;return{description:r.description,originalPublishDate:r.originalPublishDate,documentName:r.documentName.toLowerCase(),username:r.username.toLowerCase(),userDisplayName:r.userDisplayName,publicationId:r.publicationId,revisionId:r.revisionId,title:r.title,downloadable:r.downloadable,isPaywallPreview:r.isPaywalled,protectedContentUrlId:r.protectedContentUrlId,isAdsafe:!(!r.contentRating||!r.contentRating.isAdsafe)};default:return e}}function Go(e,t){return"DOUBLE_PAGE_SPREAD"===e?1===t?0:Math.floor(t/2):t-1}function qo(e){return e.pages.findIndex((function(e){return e.isPagePaywalled}))>=0}function $o(e){var t=[],r=e.length;if(r>0){t.push({pages:[e[0]]});for(var n=1;n<r-1;n+=2)t.push({pages:[e[n],e[n+1]]});r%2==0&&t.push({pages:[e[r-1]]})}return t}function Ko(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(r),!0).forEach((function(t){Xo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ko(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zo="@reader3/find/TEXT_INFO_STATE_INITIAL",Jo="@reader3/find/TEXT_INFO_STATE_REQUESTED",Qo="@reader3/find/TEXT_INFO_STATE_FAILED",ei="@reader3/find/LOADING_STATE_LOADING",ti="@reader3/find/LOADING_STATE_READY",ri="@reader3/find/LOADING_STATE_FAILED",ni="@reader3/find/FIND_OPEN_DIALOG",oi="@reader3/find/FIND_CLOSE_DIALOG",ii="@reader3/find/FIND_SET_CURRENT_RESULT",ai="@reader3/find/FIND_SET_TEXT_INFO_URL",si="@reader3/find/FIND_SET_TEXT_INFO_REQUESTED",ui="@reader3/find/FIND_SET_TEXT_INFO_FAILED",ci="@reader3/find/FIND_SET_TEXT_INFO",li="@reader3/find/FIND_SET_RESULTS",fi="@reader3/find/FIND_SET_LATEST_QUERY",pi={isVisible:!1,results:null,textInfoUrl:null,version:null,currentResultIdx:null,latestQuery:"",textInfo:Zo,loadTextInfo:No.b};function di(){return function(e,t){var r=t().find,n=r.textInfoUrl,o=r.loadTextInfo;if(!n)throw new Error("attempting to find with textInfoUrl unset!");return e({type:si}),o("".concat(X).concat(n)).then((function(t){e({type:ci,textInfo:t})})).catch((function(){e({type:ui})}))}}function hi(){return function(e,t){switch(t().find.textInfo){case Zo:case Qo:return e(di());default:return Promise.resolve()}}}function vi(){return function(e){return e({type:ni}),e(hi()),Promise.resolve()}}function yi(){return{type:oi}}function mi(e){return function(t){return Promise.resolve(t({type:ii,idx:e}))}}function gi(e){return function(t,r){return function(n,o){return n({type:fi,value:t}),n(hi()).then((function(){var i=o().find.textInfo;if(t&&i instanceof Object){var a=e(t,i),s=a.findIndex((function(e){return e.pageNo>=r}));return n({type:li,results:a,currentResultIdx:s<0?a.length-1:s})}return n({type:li,results:null,currentResultIdx:null})}))}}}function _i(e,t){return{type:ai,url:e,version:t}}function bi(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ni:return Yo(Yo({},e),{},{isVisible:!0});case oi:return Yo(Yo({},e),{},{isVisible:!1});case ai:return Yo(Yo({},e),{},{textInfoUrl:t.url,version:t.version});case si:return Yo(Yo({},e),{},{textInfo:Jo});case ui:return Yo(Yo({},e),{},{textInfo:Qo});case ci:return Yo(Yo({},e),{},{textInfo:t.textInfo});case li:return Yo(Yo({},e),{},{results:t.results,currentResultIdx:t.currentResultIdx});case ii:return Yo(Yo({},e),{},{currentResultIdx:t.idx});case fi:return Yo(Yo({},e),{},{latestQuery:t.value});case Bo:if(e.results){var r=t.currentPageNumber,n=e.results.findIndex((function(e){return e.pageNo>=r}));return Yo(Yo({},e),{},{currentResultIdx:n<0?e.currentResultIdx:n})}return e;default:return e}}}var wi=function(e){return e.find.isVisible},Ei=function(e){return e.find.latestQuery};function Oi(e){return!Ei(e)||e.find.textInfo!==Jo&&e.find.textInfo!==Zo?e.find.textInfo===Qo?ri:ti:ei}var Ti=Lo((function(e){return e.find.results}),(function(e){return e||[]})),xi=function(e){return Array.isArray(e.find.results)?e.find.results.length:null},ki=function(e){return"number"==typeof e.find.currentResultIdx?e.find.currentResultIdx+1:0},Si=Lo(ki,(function(e){return e-1})),Pi=Lo(Ti,Si,(function(e,t){return e.length?(t+1)%e.length:t})),Ci=Lo(Ti,Si,(function(e,t){return e.length?(t+e.length-1)%e.length:t})),Ai=Lo(Ti,Si,(function(e,t){return e[t]})),Ri=(Lo(Ti,Pi,(function(e,t){return e[t]})),Lo(Ti,Ci,(function(e,t){return e[t]})),Lo((function(e){return e.find.textInfo}),(function(e){return e instanceof Object?e.pages.map((function(e){return{width:e.width,height:e.height,pageNumber:e.pageNumber}})):[]})));function ji(e){return function(t){return e.find.latestQuery!==t}}var Ii=function(e){return!!e.find.textInfoUrl},Di=gi(No.a);function Mi(e,t){return function(r,n){return r(Di(e,t)).then((function(){var e=n(),t=Ai(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}}function Li(e){return function(t,r){return t(mi(e)).then((function(){var e=r(),t=Ai(e);t&&e.canvasApi.jumpToPage(t.pageNo)}))}}var Ni=function(e){var t=e.canvasApi;return t&&t.getReadMode()},Bi=Lo(Ni,Ho,(function(e,t){var r=t.pageCount;return e&&r?Go(e,r):0})),Fi=Lo(wi,Bi,Ni,Ti,(function(e,t,r,n){if(!e||!r)return[];var o=n.reduce((function(e,t){return e.add(Go(r,t.pageNo))}),new Set);return Array.from(o).map((function(e){return e*(1/t)}))}));function Ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ui(Object(r),!0).forEach((function(t){zi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hi="SMARTNAV_LOADED",Vi={pages:[]};function Gi(e){return{type:Hi,smartnav:e}}function qi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Hi:return Wi(Wi({},e),t.smartnav);default:return e}}r(78);var $i=[{page:function(e){return(e-4)%16==0},type:"AD_OVERLAY",displayStates:["fullscreen"],deviceTypes:["mobile","tablet","desktop"]}],Ki=3e3,Yi=!1,Xi=!1;function Zi(e,t){var r=t.length;if(e>=r-1)return-1;if(!qo(t[e]))return e+1;for(var n=e+1;n<r;n++)if(!qo(t[n]))return n;return-1}function Ji(e,t){if(e<1)return-1;if(!qo(t[e]))return e-1;for(var r=e-1;r>=0;r--)if(!qo(t[r]))return r;return-1}var Qi=function(){return Math.min(window.screen.width,window.screen.height)},ea=function(){return!!window.FEATURE_TEST_IS_TOUCH||"ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0},ta=function(){return ea()&&Qi()<480},ra=function(){return ea()&&!ta()&&Qi()<=1024},na=function(){return"callPhantom"in window},oa=function(){return!!navigator.platform&&["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)},ia={isTouch:ea,isMobile:ta,isTablet:ra,isPhantom:na,isIOS:oa};function aa(){return window.devicePixelRatio||1}function sa(){try{return window.matchMedia("(orientation: portrait)").matches}catch(e){return window.innerHeight>window.innerWidth}}function ua(e,t,r,n){var o=sa(),i=ia.isMobile()||ia.isTablet(),a=ia.isMobile()&&o,s=i&&o;switch(n.responsiveModeWhen){case"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN":if(s&&r)return"SINGLE_PAGE_SPREAD";break;case"HANDHELD_IN_PORTRAIT":if(s)return"SINGLE_PAGE_SPREAD";break;case"PHONE_ISH_IN_PORTRAIT":var u=480*aa();if(a||e<=u&&e<t)return"SINGLE_PAGE_SPREAD"}return n.defaultMode}function ca(e,t){return!(!e||"FALLBACK"!==e.kind)||t}function la(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?la(Object(r),!0).forEach((function(t){pa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):la(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var da="@licenses/status/NOT_LOADED",ha="@licenses/status/LOADED",va="@licenses/status/FAILED",ya="customization_set_bg_color",ma="customization_disable_share",ga="customization_remove_link_below",_a="customization_set_bg_image",ba="customization_set_logo",wa="customization_show_my_other_publications",Ea="norelated",Oa="download",Ta="hide_ads_in_reader",xa="inpub_ads",ka="embed";function Sa(e){return Lo((function(e){return e.licenses}),(function(t){var r=t.isDisabled,n=t.status,o=t.list;return!(!r&&n!==va)||n===ha&&o.includes(e)}))}var Pa=Sa(ya),Ca=Sa(ma),Aa=(Sa(ga),Sa(_a)),Ra=Sa(ba),ja=Sa(ka),Ia=Sa(wa),Da=Sa(Ea),Ma=Lo((function(e){return e.licenses}),(function(e){var t=e.status,r=e.list;return t===va||t===ha&&r.includes(Ta)})),La=Lo((function(e){return e.licenses}),(function(e){var t=e.status,r=e.list;return t===ha&&r.includes(xa)})),Na=Lo((function(e){return e.licenses}),(function(e){var t=e.status,r=e.list;return t===ha&&r.includes(Oa)})),Ba="@reader3/licenses/LICENSES_LOAD_SUCCESS";function Fa(e){return{list:e,type:Ba}}var Ua="@reader3/licenses/LICENSES_LOAD_FAILED";function Wa(){return{type:Ua}}var za=function(e){return{isDisabled:e,status:da,list:[]}};function Ha(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za(e),r=arguments.length>1?arguments[1]:void 0;if(!r)return t;switch(r.type){case Ba:return fa(fa({},t),{},{status:ha,list:r.list});case Ua:return fa(fa({},t),{},{status:va});default:return t}}}r(195);function Va(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(r),!0).forEach((function(t){qa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Va(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $a(e){return($a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ka=Lo((function(e){return e.pages.pages}),(function(e){return e.map((function(e){var t=e.imageUri,r=e.layersInfo;return"object"===$a(r)&&r.uri&&(r=Ga(Ga({},r),{},{uri:"".concat(X).concat(r.uri)})),t="".concat(X).concat(t),Ga(Ga({},e),{},{layersInfo:r,imageUri:t})}))})),Ya=Lo(Ka,(function(e){return e.links.pages}),(function(e,t){return e.map((function(e,r){var n=t[r];return n?n.links:[]}))})),Xa=Lo(Ka,Ya,Ho,(function(e){return Ri(e)}),(function(e){return Ti(e)}),(function(e){return Ai(e)}),(function(e,t,r,n,o,i){return e.map((function(e,a){return Ga(Ga({},e),{},{links:t[a],pageNumber:a+1,documentId:r.documentId,textInfoPage:n.find((function(e){return e.pageNumber===a+1})),findResults:o.reduce((function(e,t){return t.pageNo===a+1&&e.push(t.result),e}),[]),selectedFindResult:i&&i.pageNo===a+1?i.result:null})}))})),Za=Lo(Xa,(function(e){return $o(e)})),Ja=function(e){return e.metadata.isPaywallPreview},Qa=function(e){return e.metadata.protectedContentUrlId},es=Lo((function(e){return e.metadata}),(function(e){return e.pages.pages}),(function(e,t){return e.isPaywallPreview?t.reduce((function(e,t,r){return t.isPagePaywalled&&e.push(r+1),e}),[]):[]})),ts="reader-sizes@TINY",rs="reader-sizes@SMALL",ns="reader-sizes@NORMAL",os=1,is=5,as=500,ss=250,us=20,cs=20,ls=45,fs=20,ps=20,ds=45,hs=3e3;function vs(e){return Lo((function(e){return e.features.controls}),(function(t){for(var r=0;r<t.length;r++)if(t[r].type===e)return t[r]}))}var ys=vs("FEATURE_ZOOM"),ms=vs("FEATURE_ISSUU_BRANDING"),gs=vs("FEATURE_NAVIGATION_LINK"),_s=vs("FEATURE_SHARE_DIALOG"),bs=vs("FEATURE_NAVIGATION_ARROWS"),ws=vs("FEATURE_FULLSCREEN"),Es=function(e){return e.features.links},Os=function(e){return e.features.canUseCredentials},Ts=Lo(ws,(function(e){return e.fullscreen.enabled}),(function(e,t){return ca(e,t)})),xs=Lo((function(e){return e.reader.zoomLevel}),(function(e){return 100/(is-os)*(e-os)})),ks=function(e){return e.reader.positionInPercent},Ss=function(e){return e.reader.currentPageNumbers},Ps=Lo((function(e){return e.features.readModeRules}),Ts,(function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t,r,n){return ua(r,n,t,e)})),Cs=Lo(Ps,Xa,Za,(function(e,t,r){return"DOUBLE_PAGE_SPREAD"===e?r:t.map((function(e){return{pages:[e]}}))})),As=Lo(Ss,Ps,(function(e,t){return Go(t,e[0])})),Rs=Lo(Ps,Ho,(function(e,t){return Go(e,t.pageCount)})),js=Lo(As,Rs,(function(e,t){return e===t})),Is=Lo(As,(function(e){return 0===e})),Ds=Lo((function(e){return e.features}),(function(e){return e.reader}),(function(e){return e.headerControls}),(function(e){return e.find}),(function(e,t,r,n){var o=e.showControlsUntilFirstInteraction,i=t.interactedWithReader,a=t.hoveringOverControls,s=t.interactingWithControls,u=t.isIdle,c=r.visibleDropdown,l=r.readMoreDropdownVisible,f=n.isVisible;return!!(a||s||null!==c||l||o&&!i||f)||!u})),Ms=Lo((function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t){var r=aa();return"".concat(Math.floor(e/r),"x").concat(Math.floor(t/r))})),Ls=Lo((function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t){var r=aa();return e<=200*r||t<=150*r?ts:e<=400*r||t<=300*r?rs:ns})),Ns=Lo(Ls,Ts,(function(e,t){return(e===ts||e===rs)&&!t})),Bs=Lo(Ls,ms,(function(e,t){return!(e===ts||!t)})),Fs=Lo(Ts,Pa,(function(e){return e.features.backgroundColor}),(function(e){return e.features.fullscreenBackgroundColor}),(function(e,t,r,n){return e?n&&t?n:"#353535":r||"#353535"})),Us=Lo(Ts,Aa,(function(e){return e.features.backgroundImage}),(function(e,t,r){if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r})),Ws=Lo(Ts,Ra,(function(e){return e.features.logo}),(function(e,t,r){if(r&&t&&(e||!r.hideWhenNotInFullscreen))return r})),zs=function(e){return e.config.embedTrackingQuery},Hs=Lo((function(e){return e.config.origins.main}),Ho,Ss,(function(e,t,r){var n=t.path;return"".concat(e).concat(n,"/").concat(r[0])})),Vs=Lo(Ho,Ss,(function(e,t){var r=e.path,n="https://web.archive.org/web/20220221113829/https://issuu.com".concat(r),o=t[0];return o>1?"".concat(n,"/").concat(o):n})),Gs=Lo((function(e){return e.headerControls}),(function(e){var t=e.visibleDropdown,r=e.readMoreDropdownVisible;return null!==t||r})),qs=Lo((function(e){return e.headerControls.readMoreDropdownVisible}),(function(e){return e.readmore.exitedFullscreen}),(function(e){return e.readMorePlugin}),Ia,Da,(function(e,t,r,n,o){var i=!(!r||!r.shouldRenderExitFullscreenOverlay(n,o));return e||t&&i})),$s=Lo(ws,Ns,(function(e,t){return!!(e&&"overlayOnSmallReaders"in e&&e.overlayOnSmallReaders&&t)})),Ks=Lo(Ss,(function(e){return e.smartnav}),(function(e,t){return t.pages.some((function(t){return e.includes(t.pageNumber)&&t.blocks.length>0}))})),Ys=Lo($s,Ts,Ss,Ks,wi,(function(e){return e.headerControls}),(function(e,t,r,n,o,i){var a=i.visibleDropdown;return!e&&t&&ia.isMobile()&&n&&!(1===r.length&&1===r[0])&&!o&&!a})),Xs=Lo((function(e){return e.reader.targetSpreadIndex}),As,(function(e,t){return e>-1?e:t})),Zs=Lo(Xs,Cs,(function(e,t){return Zi(e,t)})),Js=Lo(Xs,Cs,(function(e,t){return Ji(e,t)})),Qs=Lo(Ss,Xa,(function(e,t){return qo({pages:e.map((function(e){return t[e-1]}))})})),eu=Lo((function(e){return e.metadata.isAdsafe}),Ma,(function(e,t){return e&&!t})),tu=(r(141),{request:["requestFullscreen","webkitRequestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"],exit:["exitFullscreen","webkitCancelFullScreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"],enabled:["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"],element:["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"],change:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","msfullscreenchange"],error:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror","msfullscreenerror"]});function ru(){var e=navigator.userAgent,t=new RegExp("^Mozilla/5\\.0.*Android.*AppleWebKit.*Chrome/(\\d+).*$","i").exec(e),r=!1;t&&t.length>0&&(r=parseInt(t[1],10)<=33);return r}function nu(e){return new RegExp("^Mozilla/5\\.0.*(iPhone|iPad|iPod).*AppleWebKit.*Safari.*$","i").test(e)}function ou(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on".concat(e)]=t:document.addEventListener(e,t)}function iu(e,t){"onmsfullscreenchange"in document||"msfullscreenerror"in document?document["on".concat(e)]=null:document.removeEventListener(e,t)}function au(e){var t=tu.change.filter((function(e){return"on".concat(e)in document}))[0];document.addEventListener(t,e)}function su(e){var t=tu.change.filter((function(e){return"on".concat(e)in document}))[0];document.removeEventListener(t,e)}function uu(){return!ru()&&(!nu(navigator.userAgent)&&tu.enabled.some((function(e){return e in document&&document[e]})))}function cu(){var e=tu.element.find((function(e){return e in document}));if(e)return document[e];throw new Error("Fullscreen not supported")}function lu(){return new Promise((function(e,t){try{var r=tu.change.filter((function(e){return"on".concat(e)in document}))[0];if(r){ou(r,(function t(){cu()||(iu(r,t),e(!0))}))}else t("native fullscreen api not supported")}catch(e){t(e)}}))}function fu(e){return new Promise((function(t,r){try{var n=tu.request.filter((function(t){return t in e}))[0],o=tu.change.filter((function(e){return"on".concat(e)in document}))[0];if(n&&o){ou(o,(function e(){iu(o,e),t(!0)})),e[n]()}else r("native fullscreen api not supported")}catch(e){r(e)}}))}function pu(){return new Promise((function(e,t){try{var r=tu.exit.filter((function(e){return e in document}))[0],n=tu.change.filter((function(e){return"on".concat(e)in document}))[0];if(r)if(cu()){ou(n,(function t(){iu(n,t),e(!0)})),document[r]()}else e(!0);else t("native fullscreen api not supported")}catch(e){t(e)}}))}function du(e){return mu(e)||yu(e)||vu(e)||hu()}function hu(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vu(e,t){if(e){if("string"==typeof e)return gu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gu(e,t):void 0}}function yu(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function mu(e){if(Array.isArray(e))return gu(e)}function gu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _u=18e5,bu=[1];function wu(e){var t=new Date(e).toString().slice(0,15),r=(new Date).toString().slice(0,15);return Date.now()-e>_u||t!==r}function Eu(e,t){var r=du(e.sessionPageNumbers);if(t.currentPagesHasChanged){var n=e.sessionPageNumbers.length,o=t.currentPageNumbers.length;r=r.map((function(e){return e+o})),o!==n&&(r=1==o?r.slice(-1):[r[0]-1,r[0]])}return r}function Ou(e,t){try{if(sessionStorage&&"undefined"==typeof sessionStorage)throw new Error("sesstionStorage is not avaliable");sessionStorage.setItem("sessionPageNumbers",JSON.stringify(t)),sessionStorage.setItem("sessionStartTime",Date.now().toString())}catch(t){e.monitor("reader3-session-storage.save-state.fail")}}function Tu(){var e={sessionPageNumbers:bu};try{if(!sessionStorage)return e;if(wu(parseInt(sessionStorage.getItem("sessionStartTime")||"0")||0))return e;var t=sessionStorage.getItem("sessionPageNumbers");return{sessionPageNumbers:"string"==typeof t&&"undefined"!==t?JSON.parse(t).map((function(e){return e+1})):bu}}catch(t){return e}}function xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ku(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xu(Object(r),!0).forEach((function(t){Su(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Su(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pu=Tu(),Cu=Pu.sessionPageNumbers,Au={adPagesDisplayed:[],buttonsEnable:!1,created:!1,visible:!1,sessionPageNumbers:Cu,currentPagesHasChanged:!1,currentPageNumbers:Cu},Ru="AD_OVERLAY_CREATE",ju="AD_OVERLAY_SHOW",Iu="AD_OVERLAY_CLOSE",Du="AD_OVERLAY_ENABLE_BUTTONS",Mu="AD_OVERLAY_DISABLE_BUTTONS",Lu=ia.isMobile()?"mobile":ia.isTablet()?"tablet":"desktop",Nu=uu(),Bu=Lo(Ts,(function(e){return $i.filter((function(t){var r={displayStates:t.displayStates,deviceTypes:t.deviceTypes.filter((function(e){return"mobile"!==e||"mobile"===e&&Nu}))},n=e?"fullscreen":"normal";return r.displayStates.includes(n)&&r.deviceTypes.includes(Lu)}))})),Fu=Lo((function(e){return e.adOverlay.sessionPageNumbers}),Bu,(function(e,t){return t.find((function(t){if("function"==typeof t.page){var r=t.page;return e.some((function(e){return r(e)}))}return e.includes(t.page)}))})),Uu=Lo((function(e){return e.adOverlay.sessionPageNumbers}),(function(e){return e.adOverlay.adPagesDisplayed}),(function(e,t){return t.some((function(t){return e.includes(t)}))})),Wu=Lo(Fu,Uu,(function(e,t){return!!e&&!t})),zu=Lo(Fu,(function(e){return e?e.type:null})),Hu=Lo((function(e){return e.config.origins.image}),(function(e){return e.metadata.revisionId}),(function(e){return e.metadata.publicationId}),(function(e,t,r){return"".concat(e,"/").concat(t,"-").concat(r,"/jpg/page_1_thumb_large.jpg")})),Vu=Lo((function(e){return e.features.canLoadAdOverlay}),eu,La,(function(e,t,r){return e&&(r||t)})),Gu=Lo(Ma,La,(function(e,t){var r=[];return e&&r.push(Ta),t&&r.push(xa),r})),qu=Lo((function(e){return e.reader.isReady}),Bu,Vu,(function(e,t,r){return e&&t.length>0&&r})),$u=Lo(qu,Wu,(function(e,t){return e&&t&&Xi})),Ku=function(e){return e.adOverlay.visible},Yu=function(e){return e.adOverlay.created},Xu=function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Au,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ru:var r=e.adPagesDisplayed.concat(t.currentPageNumbers);return ku(ku({},e),{},{created:!0,adPagesDisplayed:r});case ju:return ku(ku({},e),{},{visible:!0});case Iu:return ku(ku({},e),{},{visible:!1,created:!1});case Du:return ku(ku({},e),{},{buttonsEnable:!0});case Mu:return ku(ku({},e),{},{buttonsEnable:!1});case Bo:var n=Eu(e,t);return ku(ku({},e),{},{sessionPageNumbers:n});default:return e}}},Zu=function(e){return{type:Ru,currentPageNumbers:e}},Ju=function(){return{type:ju}},Qu=function(e){return{type:Iu,reason:e}},ec=function(){return{type:Du}},tc=function(){return{type:Mu}},rc="SET_TARGET_SPREAD_INDEX",nc="SET_INTERACTING_WITH_CONTROLS",oc="SET_INTERACTED_WITH_READER",ic="SET_HOVERING_OVER_CONTROLS",ac="READER_ZOOM_LEVEL_CHANCED",sc="LARGE_VIEW_HIDE",uc="LARGE_VIEW_SHOW_ENGAGED",cc="LARGE_VIEW_SHOW_DISENGAGED",lc="LARGE_VIEW_BUTTON_PROMOTED",fc="LARGE_VIEW_BUTTON_NOT_PROMOTED",pc="LARGE_VIEW_BUTTON_CLICKED",dc="FOLLOW_BUTTON_CLICKED",hc={SET_TARGET_SPREAD_INDEX:rc,SET_INTERACTING_WITH_CONTROLS:nc,SET_INTERACTED_WITH_READER:oc,SET_HOVERING_OVER_CONTROLS:ic,READER_ZOOM_LEVEL_CHANCED:ac,LARGE_VIEW_HIDE:sc,LARGE_VIEW_SHOW_ENGAGED:uc,LARGE_VIEW_SHOW_DISENGAGED:cc,LARGE_VIEW_BUTTON_PROMOTED:lc,LARGE_VIEW_BUTTON_NOT_PROMOTED:fc,LARGE_VIEW_BUTTON_CLICKED:pc,FOLLOW_BUTTON_CLICKED:dc};function vc(){return{type:sc}}function yc(){return{type:uc}}function mc(){return{type:cc}}function gc(){return{type:lc}}function _c(){return{type:fc}}function bc(){return{type:pc}}function wc(e){return{type:rc,index:e}}function Ec(e){return{type:nc,val:e}}function Oc(){return{type:oc}}function Tc(e){return{type:ic,val:e}}function xc(e){return function(t,r){var n=r();if(Ku(n))n.adOverlay.buttonsEnable&&t(Qu("closed"));else{var o=Rs(n),i=Math.max(0,Math.min(e,o));t(wc(i));var a=r().canvasApi;a&&a.goToSpread(i)}}}function kc(){return function(e,t){var r=t(),n=Js(r);return-1===n&&(n=0),e(xc(n))}}function Sc(){return function(e,t){var r=t(),n=Zs(r);return-1===n&&(n=Rs(r)),e(xc(n))}}function Pc(e,t){return{type:ac,isPinching:t,zoomLevel:e}}function Cc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ac(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cc(Object(r),!0).forEach((function(t){Rc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Rc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jc="show_video_overlay",Ic="hide_video_overlay",Dc="video_info_load_success",Mc="video_info_load_error",Lc={EXPLICIT:"explicit",SAFE:"safe",UNKNOWN:"unknown",ERROR:"error"};function Nc(e,t,r){return{type:jc,service:e,videoId:t,videoUrl:r}}function Bc(){return{type:Ic}}function Fc(e,t,r){return{type:Dc,service:e,videoId:t,videoInfo:r}}function Uc(e,t){return{type:Mc,service:e,videoId:t,videoInfo:Lc.ERROR}}function Wc(e,t,r){return function(n,o){var i=o().config.origins.api,a="".concat(i,"/call/backend-reader3/").concat("","video-link/").concat(e,"/").concat(t);fetch(a).then((function(e){if(e.ok)return e.json();throw new Error})).then((function(o){var i=o.explicit?Lc.EXPLICIT:Lc.SAFE;n(Fc(e,t,i)),r.monitor("reader3-".concat(e,"-api-success"))})).catch((function(o){n(Uc(e,t)),r.monitor("reader3-".concat(e,"-api-failed"))}))}}function zc(e,t){return e.service===t.service&&e.videoId===t.videoId}var Hc={showOverlay:!1,service:null,videoId:null,videoUrl:null,videoInfo:Lc.UNKNOWN};function Vc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hc,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case jc:return Ac(Ac({},e),{},{showOverlay:!0,service:t.service,videoId:t.videoId,videoUrl:t.videoUrl,videoInfo:zc(e,t)?e.videoInfo:Lc.UNKNOWN});case Ic:return Ac(Ac({},e),{},{showOverlay:!1});case Dc:case Mc:return zc(e,t)?Ac(Ac({},e),{},{videoInfo:t.videoInfo}):e;default:return e}}function Gc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"This should never execute";throw new Error(t)}function qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(r),!0).forEach((function(t){Kc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Kc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yc(e){return Qc(e)||Jc(e)||Zc(e)||Xc()}function Xc(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zc(e,t){if(e){if("string"==typeof e)return el(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?el(e,t):void 0}}function Jc(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Qc(e){if(Array.isArray(e))return el(e)}function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var tl={OPEN_URL:"openUrl",GOTO_PAGE:"gotoPage"},rl="LINK_CLICKED",nl="@reader3/document/LINKSLOADED",ol={loaded:!1,pages:[]};function il(e){return{type:nl,clippings:e}}function al(e){var t=e.gotoPageNumber;return function(e,r){e(xc(Go(Ps(r()),t)))}}function sl(e){var t=e.url,r=e.videoId;return Nc(e.videoService,r,t)}function ul(e){return function(t){if(t({type:rl,linkModel:e}),"gotoPage"===e.type)t(al(e));else{if("openUrl"!==e.type)return Gc(e,"Unsupported link type");if("video"===e.urlType)t(sl(e));else if("email"===e.urlType)window.open(e.url,"_top");else{if("shopping"!==e.urlType&&"url"!==e.urlType)throw new Error("Unsupported urlType (".concat(e.urlType,")"));window.open(e.url,"_blank")}}}}function cl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ol,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nl:for(var r=t.clippings||{},n=Object.keys(r).map((function(e){return parseInt(e,10)})).filter((function(e){return!isNaN(e)&&isFinite(e)})),o=Math.max.apply(Math,[0].concat(Yc(n))),i=[],a=function(e){i[e]={links:(r[e+1]||[]).map((function(t){return $c($c({},t),{},{page:{pageNumber:e+1}})}))}},s=0;s<o;s++)a(s);return{loaded:!0,pages:i};default:return e}}function ll(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ll(Object(r),!0).forEach((function(t){pl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ll(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var dl="@Reader3/size/INIT_SIZE",hl="RESIZE",vl={width:0,height:0};function yl(e,t){return{type:hl,width:e,height:t}}function ml(e,t){return{type:dl,width:e,height:t}}function gl(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vl,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dl:case hl:return fl(fl({},e),{},{width:t.width,height:t.height});default:return e}}}function _l(e,t){return Tl(e)||Ol(e,t)||wl(e,t)||bl()}function bl(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wl(e,t){if(e){if("string"==typeof e)return El(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?El(e,t):void 0}}function El(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ol(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function Tl(e){if(Array.isArray(e))return e}function xl(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function kl(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){xl(i,n,o,a,s,"next",e)}function s(e){xl(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Sl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(r),!0).forEach((function(t){Cl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Cl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Al="@reader3/init/DOCUMENTLOADING",Rl="@reader3/init/DOCUMENTLOAD_SUCCESS",jl="@reader3/init/DOCUMENTLOAD_FAILURE",Il="@reader3/init/DOCUMENTLOAD_ABOUT_TO_SUCCESS";function Dl(e){return{type:Al,timeStamp:e}}function Ml(e,t){return{type:jl,error:e,timeStamp:t}}function Ll(e,t,r,n){return{timeStamp:e,pageNumber:t,targetSpreadIndex:r,currentPageNumbers:n,type:Rl}}function Nl(e,t,r,n){return{timeStamp:e,pageNumber:t,targetSpreadIndex:r,currentPageNumbers:n,type:Il}}function Bl(e,t){return function(r,n){return r(Dl(Date.now())),e.whenDocumentBaseFetched().then((function(t){var o=e.whenDocumentExtraFetched().then((function(e){return r(zo(Pl(Pl({licenses:[],clippings:{}},t),e)))})),i=e.whenLicensesFetched().then((function(e){return r(Fa(e))})).catch((function(e){return r(Wa())}));e.whenDocumentLinksFetched().then((function(e){return r(il(e))})),e.whenDocumentTextFetched().then((function(e){var t=e.textInfoPath,n=e.textInfoVersion;return r(_i(t,n))}));var a=n();return e.whenSmartnavFetched().then((function(e){return r(Gi({pages:e}))})).catch(function(){var e=kl(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof Dt)){e.next=5;break}return e.next=3,Ze(a.config.origins.api,"".concat(t.revisionId,"-").concat(t.publicationId)).catch((function(){throw new Error("Smart Zoom Assets Missing Notification failed")}));case 3:e.next=10;break;case 5:if(!(r instanceof Mt||r instanceof Lt)){e.next=9;break}throw r;case 9:throw new Error(A.SmartzoomNotLoaded);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.all([o,i])})).then((function(){var e=t();if(e){var n=_l(e,2),o=n[0],i=n[1];return r(ml(o,i))}})).then((function(){var e=n(),t=e.size,o=t.width,i=t.height,a=e.reader.initialPageNumber,s=e.features,u=e.fullscreen,c=Math.max(1,Math.min(Ho(e).pageCount,a)),l=ua(o,i,ca(s.controls.find((function(e){return"FEATURE_FULLSCREEN"===e.type})),u.enabled),s.readModeRules),f=Go(l,c),p=("DOUBLE_PAGE_SPREAD"===l?Za(e)[f].pages:[Xa(e)[f]]).map((function(e){return e.pageNumber}));return r(Nl(Date.now(),c,f,p))})).catch((function(e){Co(e,{tags:{errorOrigin:"document-load-fetchDocument"}}),r(Ml(e,Date.now()))}))}}var Fl="FULLSCREEN@FULLSCREEN_API",Ul="FULLSCREEN@TAB";function Wl(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zl(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(r),!0).forEach((function(t){Hl(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wl(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vl="ENTER_FULLSCREEN",Gl="EXIT_FULLSCREEN",ql={ENTER_FULLSCREEN:Vl,EXIT_FULLSCREEN:Gl},$l={enabled:!1,supported:uu()};function Kl(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Vl:return zl(zl({},e),{},{enabled:t.fullscreenMethod===Fl});case Gl:return zl(zl({},e),{},{enabled:!1});default:return e}}}var Yl=Lo((function(e){return e.experiment.identifier}),ws,Hs,(function(e,t,r){return r+"?"+["ff",t&&"NORMAL"===t.kind?t.fullscreenFallbackArgs:null,"control"!==e?"experiment=".concat(e):null].filter(Boolean).join("&")}));function Xl(){return function(e,t){var r=t(),n=r.fullscreen.enabled,o=document.getElementById("ird3-main");uu()?!n&&o&&fu(o).then((function(){e({type:Vl,fullscreenMethod:Fl})})).then(lu).then((function(){e({type:Gl,fullscreenMethod:Fl})})):(window.open(Yl(r),"_blank"),e({type:Vl,fullscreenMethod:Ul}))}}function Zl(){return function(e,t){t().fullscreen.enabled&&pu().then((function(){e({type:Gl,fullscreenMethod:Fl})}))}}function Jl(){return function(e,t){var r=t(),n=ws(r),o=Ts(r);n&&"FALLBACK"!==n.kind&&e(o?Zl():Xl())}}function Ql(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}function ef(){var e=Ql();return!!e&&!!document[e]}function tf(){return!!Ql()}function rf(e){var t=Ql();if(t){var r=t.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(r,e)}}var nf="ON_VISIBILITY_CHANGE",of={ON_VISIBILITY_CHANGE:nf};function af(){return{type:nf}}var sf={isHidden:ef(),supported:tf()};function uf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sf,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case of.ON_VISIBILITY_CHANGE:return Object.assign({},e,{isHidden:ef()});default:return e}}var cf=r(23),lf=r.n(cf),ff='\n    <svg width="100%" height="100%" viewBox="0 0 24 24">\n        <g class="spinner__icon" fill-rule="evenodd">\n            <g transform="translate(7.000000, 7.000000)">\n                    <path d="M6.77787915,6.84548427 C5.79003176,7.83333166 4.18814246,7.83322341 3.2001563,6.84523725 C2.21223953,5.85732047 2.21223953,4.25567819 3.2001563,3.26776142 C4.18822365,2.27969408 5.7896189,2.27974819 6.77763213,3.26776142 C7.76571475,4.25584404 7.76587711,5.8574863 6.77787915,6.84548427 L8.24993998,8.31754509 C10.0510015,6.51648357 10.0507055,3.59671316 8.24969296,1.79570059 C6.44870526,-0.00528710987 3.52918184,-0.00538576575 1.72809548,1.79570059 C-0.0728180424,3.59661411 -0.0728180424,6.51638456 1.72809548,8.31729807 C3.52903385,10.1182364 6.4490513,10.1184338 8.24993998,8.31754509 L6.77787915,6.84548427 L6.77787915,6.84548427 Z"></path>\n            </g>\n            <path d="M12,23 C18.0751322,23 23,18.0751322 23,12 C23,5.92486775 18.0751322,1 12,1 C5.92486775,1 1,5.92486775 1,12 C1,18.0751322 5.92486775,23 12,23 Z M12,20.0250244 C16.4320986,20.0250244 20.0250244,16.4320986 20.0250244,12 C20.0250244,7.5679014 16.4320986,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,16.4320986 7.5679014,20.0250244 12,20.0250244 Z" fill-opacity="0.5"></path>\n            <path d="M3.97746854,12.2020107 C3.88040309,13.3666506 2.94475898,13.6536116 2.48144531,13.6567993 C1.99243164,13.6601639 0.999999997,13.1174211 1,12 C1.00000002,5.92486775 5.92486775,1 12,1 C18.0751322,1 23,5.92486775 23,12 C23,13.1278573 22.0378909,13.5112302 21.5430908,13.5112305 C21.0482908,13.5112307 20.0457764,13.2033275 20.0457764,12 C20.0457764,11.9485283 20.0382948,11.8986091 20.0236545,11.8502139 C19.9437915,7.48723335 16.3820616,3.97497559 12,3.97497559 C7.5679014,3.97497559 3.97497559,7.5679014 3.97497559,12 C3.97497559,12.067535 3.97580982,12.1348751 3.97746854,12.2020107 Z"></path>\n        </g>\n    </svg>\n';function pf(e){return(pf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vf(e,t,r){return t&&hf(e.prototype,t),r&&hf(e,r),e}function yf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mf(e,t)}function mf(e,t){return(mf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gf(e){var t=wf();return function(){var r,n=Ef(e);if(t){var o=Ef(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return _f(this,r)}}function _f(e,t){return!t||"object"!==pf(t)&&"function"!=typeof t?bf(e):t}function bf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ef(e){return(Ef=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Of(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tf=24,xf=14,kf=function(e){yf(r,e);var t=gf(r);function r(){return df(this,r),t.apply(this,arguments)}return vf(r,[{key:"shouldComponentUpdate",value:function(e){return!lf()(this.props,e)}},{key:"render",value:function(){var e=this.props.size*(this.props.zoomLevel||1),t={width:e,height:e},r=["spinner"];return"SPINNER_TYPE_ALTERNATE"===this.props.type&&r.push("spinner--alternate"),c.createElement("div",{className:r.join(" "),style:t,dangerouslySetInnerHTML:{__html:ff}})}}]),r}(c.Component);function Sf(e){return(Sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Af(e,t,r){return t&&Cf(e.prototype,t),r&&Cf(e,r),e}function Rf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jf(e,t)}function jf(e,t){return(jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function If(e){var t=Lf();return function(){var r,n=Nf(e);if(t){var o=Nf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Df(this,r)}}function Df(e,t){return!t||"object"!==Sf(t)&&"function"!=typeof t?Mf(e):t}function Mf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Nf(e){return(Nf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Of(kf,"displayName","Spinner"),Of(kf,"defaultProps",{type:"SPINNER_TYPE_DEFAULT",size:Tf,zoomLevel:1});var Ff=function(e){Rf(r,e);var t=If(r);function r(){return Pf(this,r),t.apply(this,arguments)}return Af(r,[{key:"render",value:function(){return l.a.createElement("div",{className:"loading"},l.a.createElement("div",{className:"loading__spinner"},l.a.createElement(kf,{type:"SPINNER_TYPE_ALTERNATE"})))}}]),r}(c.Component);Bf(Ff,"displayName","Loading");var Uf=r(4),Wf=r.n(Uf);function zf(e){return(zf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hf(){return(Hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Vf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gf(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qf(e,t,r){return t&&Gf(e.prototype,t),r&&Gf(e,r),e}function $f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kf(e,t)}function Kf(e,t){return(Kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yf(e){var t=Jf();return function(){var r,n=Qf(e);if(t){var o=Qf(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Xf(this,r)}}function Xf(e,t){return!t||"object"!==zf(t)&&"function"!=typeof t?Zf(e):t}function Zf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jf(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Qf(e){return(Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ep(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var tp=function(e){$f(r,e);var t=Yf(r);function r(){return Vf(this,r),t.apply(this,arguments)}return qf(r,[{key:"shouldComponentUpdate",value:function(e){return!lf()(this.props,e)}},{key:"render",value:function(){var e=this.props.labelProps,t={};return this.props.isHidden&&(t.display="none"),c.createElement("button",Hf({className:this.props.className,onClick:this.props.onClick,disabled:this.props.isDisabled,id:this.props.id,dangerouslySetInnerHTML:{__html:this.props.content},style:t},e,{type:"button"}),this.props.children)}}]),r}(c.Component);function rp(e){return(rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function np(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function op(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ip(e,t,r){return t&&op(e.prototype,t),r&&op(e,r),e}function ap(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sp(e,t)}function sp(e,t){return(sp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function up(e){var t=fp();return function(){var r,n=pp(e);if(t){var o=pp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cp(this,r)}}function cp(e,t){return!t||"object"!==rp(t)&&"function"!=typeof t?lp(e):t}function lp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pp(e){return(pp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ep(tp,"displayName","Button");var hp=function(e){ap(r,e);var t=up(r);function r(e){var n;return np(this,r),dp(lp(n=t.call(this,e)),"canvas",void 0),dp(lp(n),"resize",(function(){requestAnimationFrame(n.redraw)})),dp(lp(n),"redraw",(function(){var e=n.props.markers;if(n.canvas.current){var t=n.canvas.current,r=t.getContext("2d");if(r){var o=t.width=t.clientWidth;r.clearRect(0,0,o,1),r.fillStyle="yellow",e.forEach((function(e){r.fillRect(Math.round(e*(o-3)),0,3,1)}))}}})),n.canvas=l.a.createRef(),n}return ip(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize),requestAnimationFrame(this.redraw)}},{key:"shouldComponentUpdate",value:function(e){return!lf()(this.props,e)}},{key:"componentDidUpdate",value:function(e){requestAnimationFrame(this.redraw)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return l.a.createElement("canvas",{ref:this.canvas,className:"slider-markers",height:1})}}]),r}(c.Component);function vp(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect();if(t.width||t.height){var r=e.ownerDocument.documentElement||{};return{top:t.top+window.pageYOffset-r.clientTop,left:t.left+window.pageXOffset-r.clientLeft}}return t}var yp=9999999999999;function mp(e){return e>yp?Math.floor(e/1e3):e<0?Math.floor(e+yp):Math.floor(e)}function gp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bp(e,t,r){return t&&_p(e.prototype,t),r&&_p(e,r),e}function wp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ep=10,Op=function(){function e(t,r,n){gp(this,e),wp(this,"targetElement",void 0),wp(this,"callbacks",void 0),wp(this,"options",void 0),wp(this,"initialGesture","UNDEFINED"),wp(this,"pointers",{}),wp(this,"_lastGestureMoveTimestamp",0),wp(this,"_initialPinchDistance",NaN),wp(this,"_targetElementOffset",null),this.targetElement=t,this.callbacks=r,this.options=n}return bp(e,[{key:"destroy",value:function(){}},{key:"reset",value:function(){this.pointers={},this._lastGestureMoveTimestamp=0,this._initialPinchDistance=NaN,this.initialGesture="UNDEFINED",this._targetElementOffset=null}},{key:"isDeactivated",value:function(){return this.options.activeHandler&&this.options.activeHandler!==this}},{key:"_isAnyButtonPressed",value:function(e){return!(!e.buttons&&!this.getPointerCount())}},{key:"_isGeneratedByMouseDevice",value:function(e){return!("pointerType"in e)||!e.pointerType||"mouse"===e.pointerType}},{key:"getScalingFactor",value:function(){return this.callbacks.getScalingFactor?this.callbacks.getScalingFactor():1}},{key:"fireGestureStart",value:function(){var e=this.callbacks.onGestureStart;e&&e(this._getTouches(),this._getLastEventTimestamp())}},{key:"fireGestureChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN,t=this._getLastEventTimestamp();if(t-this._lastGestureMoveTimestamp>Ep){var r=isNaN(e)?this._getCurrentPinchDistance()/this._initialPinchDistance:e;if(!isNaN(r)){var n=this.callbacks.onGestureChange;n&&n(this._getTouches(),t,r,this.initialGesture),this._lastGestureMoveTimestamp=t}}}},{key:"fireGestureEnd",value:function(){var e=this.callbacks.onGestureEnd;e&&e(this._getLastEventTimestamp())}},{key:"fireMouseMove",value:function(e){if(this._isGeneratedByMouseDevice(e)&&!this._isAnyButtonPressed(e)){var t=e.pageX,r=e.pageY,n=this._getOffsetPosition(t,r),o=this.getScalingFactor(),i=this.callbacks.onMouseMove;i&&i(n.x*o,n.y*o,e.timeStamp)}}},{key:"fireMouseEnter",value:function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseEnter;t&&t(e.timeStamp)}}},{key:"fireMouseLeave",value:function(e){if(this._isGeneratedByMouseDevice(e)){var t=this.callbacks.onMouseLeave;t&&t(e.timeStamp)}}},{key:"saveTargetElementOffset",value:function(){this._targetElementOffset=vp(this.targetElement)}},{key:"saveInitialPinchDistance",value:function(){this._initialPinchDistance=this._getCurrentPinchDistance()}},{key:"saveInitialGestureIfUndefined",value:function(){if("UNDEFINED"===this.initialGesture){var e=Object.keys(this.pointers);if(e.length>=2){var t=this._getCurrentPinchDistance();t-this._initialPinchDistance>5?this.initialGesture="ZOOM_IN":this._initialPinchDistance-t>10&&(this.initialGesture="ZOOM_OUT")}else{var r=this.pointers[parseInt(e[0])],n=r.last.position.x-r.initial.position.x,o=r.last.position.y-r.initial.position.y,i=r.last.timestamp-r.initial.timestamp;if(Math.max(Math.abs(n),Math.abs(o))<10||i<10)return;var a=Math.atan2(-o,n)*(180/Math.PI);this.initialGesture=a>=-25&&a<=25?"SWIPE_RIGHT":a>=60&&a<=120?"SWIPE_UP":a>=155||a<=-155?"SWIPE_LEFT":a>=-120&&a<=-60?"SWIPE_DOWN":"SWIPE_OTHER"}}}},{key:"isValidPointer",value:function(e){return!!this.pointers[e]}},{key:"savePointer",value:function(e,t,r,n){var o=this._getOffsetPosition(t,r),i=mp(n);this.pointers[e]=this.pointers[e]||{initial:{position:o,timestamp:i}},this.pointers[e].last={position:o,timestamp:i}}},{key:"deletePointer",value:function(e){delete this.pointers[e],0===this.getPointerCount()&&(this.initialGesture="UNDEFINED",this._initialPinchDistance=NaN)}},{key:"isPointerMoved",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this._getOffsetPosition(t,r),i=this.pointers[e].last.position;return Math.abs(i.x-o.x)>Math.abs(n)||Math.abs(i.y-o.y)>Math.abs(n)}},{key:"_getOffsetPosition",value:function(e,t){this._targetElementOffset||this.saveTargetElementOffset();var r=this._targetElementOffset||{},n=r.left,o=void 0===n?0:n,i=r.top,a=void 0===i?0:i;return{x:Math.round(e-o),y:Math.round(t-a)}}},{key:"_getLastEventTimestamp",value:function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&(e=Math.max(e,this.pointers[t].last.timestamp));return e}},{key:"_getCurrentPinchDistance",value:function(){var e=Object.keys(this.pointers);if(e.length<=1)return 1;var t=this.pointers[parseInt(e[0])],r=this.pointers[parseInt(e[1])];return Math.sqrt(Math.pow(t.last.position.x-r.last.position.x,2)+Math.pow(t.last.position.y-r.last.position.y,2))}},{key:"getPointerCount",value:function(){var e=0;for(var t in this.pointers)this.pointers.hasOwnProperty(t)&&e++;return e}},{key:"_getTouches",value:function(){var e=this.getScalingFactor(),t=[];for(var r in this.pointers)this.pointers.hasOwnProperty(r)&&t.push({x:this.pointers[r].last.position.x*e,y:this.pointers[r].last.position.y*e});return t}}]),e}();function Tp(e){return(Tp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Sp(e,t,r){return t&&kp(e.prototype,t),r&&kp(e,r),e}function Pp(e,t,r){return(Pp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Cp(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Cp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Lp(e)););return e}function Ap(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rp(e,t)}function Rp(e,t){return(Rp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jp(e){var t=Mp();return function(){var r,n=Lp(e);if(t){var o=Lp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ip(this,r)}}function Ip(e,t){return!t||"object"!==Tp(t)&&"function"!=typeof t?Dp(e):t}function Dp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Lp(e){return(Lp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Np(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bp=200,Fp=function(e){Ap(r,e);var t=jp(r);function r(){var e;xp(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Np(Dp(e=t.call.apply(t,[this].concat(o))),"_singleTapConfirmedTimeoutId",void 0),Np(Dp(e),"_doubleTapConfirmedTimeoutId",void 0),e}return Sp(r,[{key:"destroy",value:function(){this.unregisterTapHandlers()}},{key:"reset",value:function(){Pp(Lp(r.prototype),"reset",this).call(this),this.unregisterTapHandlers()}},{key:"registerTapHandlers",value:function(){var e=this,t=this._getFirstPointerId(),r=this.pointers[t].last.position;void 0!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0),void 0!==this._singleTapConfirmedTimeoutId&&window.clearTimeout(this._singleTapConfirmedTimeoutId),void 0!==this._singleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._doubleTapConfirmedTimeoutId=window.setTimeout((function(){e._doubleTapConfirmedTimeoutId=void 0,0===e.getPointerCount()&&e._fireDoubleTapConfirmed(r.x,r.y)}),Bp)),this._singleTapConfirmedTimeoutId=void 0,void 0===this._doubleTapConfirmedTimeoutId&&1===this.getPointerCount()&&(this._singleTapConfirmedTimeoutId=window.setTimeout((function(){e._singleTapConfirmedTimeoutId=void 0,0===e.getPointerCount()&&e._fireSingleTapConfirmed(r.x,r.y)}),Bp))}},{key:"unregisterTapHandlers",value:function(){void 0!==this._singleTapConfirmedTimeoutId&&(window.clearTimeout(this._singleTapConfirmedTimeoutId),this._singleTapConfirmedTimeoutId=void 0),void 0!==this._doubleTapConfirmedTimeoutId&&(window.clearTimeout(this._doubleTapConfirmedTimeoutId),this._doubleTapConfirmedTimeoutId=void 0)}},{key:"validateTapHandlers",value:function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;this._isPointerCloseToInitialPosition(e,t.x,t.y)||this.unregisterTapHandlers()}},{key:"executeTapHandlers",value:function(){var e=this._getFirstPointerId(),t=this.pointers[e].last.position;void 0!==this._singleTapConfirmedTimeoutId&&this._fireSingleTap(t.x,t.y),void 0!==this._doubleTapConfirmedTimeoutId&&(this._fireSingleTap(t.x,t.y),this._fireDoubleTap(t.x,t.y))}},{key:"_fireSingleTap",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onSingleTap;n&&n(e*r,t*r)}},{key:"_fireSingleTapConfirmed",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onSingleTapConfirmed;n&&n(e*r,t*r)}},{key:"_fireDoubleTap",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onDoubleTap;n&&n(e*r,t*r)}},{key:"_fireDoubleTapConfirmed",value:function(e,t){var r=this.getScalingFactor(),n=this.callbacks.onDoubleTapConfirmed;n&&n(e*r,t*r)}},{key:"_getFirstPointerId",value:function(){for(var e in this.pointers){var t=parseInt(e);if(this.pointers.hasOwnProperty(t)&&!isNaN(t))return t}throw new Error("No pointer for tap")}},{key:"_isPointerCloseToInitialPosition",value:function(e,t,r){var n=this.pointers[e];return Math.abs(n.initial.position.x-t)<5&&Math.abs(n.initial.position.y-r)<5}}]),r}(Op);function Up(e){return(Up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zp(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hp(e,t,r){return t&&zp(e.prototype,t),r&&zp(e,r),e}function Vp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gp(e,t)}function Gp(e,t){return(Gp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qp(e){var t=Yp();return function(){var r,n=Xp(e);if(t){var o=Xp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $p(this,r)}}function $p(e,t){return!t||"object"!==Up(t)&&"function"!=typeof t?Kp(e):t}function Kp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yp(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Xp(e){return(Xp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Zp(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jp=2,Qp=function(e){Vp(r,e);var t=qp(r);function r(e,n,o){var i;return Wp(this,r),Zp(Kp(i=t.call(this,e,n,o)),"pointerEventTypes",void 0),Zp(Kp(i),"_elementPointerDownHandler",(function(e){if(!i.isDeactivated()){var t=e;i.options.activeHandler=Kp(i),i.options.updateLastPointerEventTimeStamp(t);var r=t.pointerId,n=t.pageX,o=t.pageY;if(i.options.shouldInvokeSetPointerCapture())try{i.targetElement.setPointerCapture&&i.targetElement.setPointerCapture(r)}catch(e){}0===i.getPointerCount()&&i.saveTargetElementOffset(),i.savePointer(r,n,o,e.timeStamp),i.saveInitialPinchDistance(),i.saveInitialGestureIfUndefined(),i.fireGestureStart();try{i.registerTapHandlers()}catch(e){}}})),Zp(Kp(i),"_elementPointerMoveHandler",(function(e){if(!i.isDeactivated()){var t=e;i.options.updateLastPointerEventTimeStamp(t),i.fireMouseMove(t);var r=t.pointerId,n=t.pageX,o=t.pageY;i.isValidPointer(r)&&(i.isPointerMoved(r,n,o,Jp)&&(i.savePointer(r,n,o,e.timeStamp),i.saveInitialGestureIfUndefined(),i.fireGestureChange()),i.validateTapHandlers(),i.options.shouldInvokePreventDefault()&&e.preventDefault())}})),Zp(Kp(i),"_elementPointerUpHandler",(function(e){if(!i.isDeactivated()){var t=e;i.options.updateLastPointerEventTimeStamp(t);var r=t.pointerId,n=t.pageX,o=t.pageY;if(i.isValidPointer(r)){i.savePointer(r,n,o,e.timeStamp);var a=!1;1===i.getPointerCount()?(i.fireGestureEnd(),i.executeTapHandlers(),i.deletePointer(r),a=!0):(i.fireGestureStart(),i.deletePointer(r),i.saveInitialPinchDistance()),i.options.shouldInvokePreventDefault()&&e.preventDefault(),a&&i.options.resetInterception()}}})),Zp(Kp(i),"_elementPointerCancelHandler",(function(e){i.unregisterTapHandlers(),i._elementPointerUpHandler(e)})),Zp(Kp(i),"_elementPointerEnterHandler",(function(e){var t=e;i.options.updateLastPointerEventTimeStamp(t),i.fireMouseEnter(t)})),Zp(Kp(i),"_elementPointerLeaveHandler",(function(e){var t=e,r=t.pointerId;1===i.getPointerCount()&&(i.fireGestureEnd(),i.executeTapHandlers(),i.deletePointer(r),i.options.resetInterception()),i.options.updateLastPointerEventTimeStamp(t),i.fireMouseLeave(t)})),i.pointerEventTypes={DOWN:"pointerdown",MOVE:"pointermove",UP:"pointerup",CANCEL:"pointercancel",ENTER:"pointerenter",LEAVE:"pointerleave"},i.targetElement.addEventListener(i.pointerEventTypes.DOWN,i._elementPointerDownHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.MOVE,i._elementPointerMoveHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.UP,i._elementPointerUpHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.CANCEL,i._elementPointerCancelHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.ENTER,i._elementPointerEnterHandler,!1),i.targetElement.addEventListener(i.pointerEventTypes.LEAVE,i._elementPointerLeaveHandler,!1),i}return Hp(r,[{key:"destroy",value:function(){this.targetElement.removeEventListener(this.pointerEventTypes.DOWN,this._elementPointerDownHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.MOVE,this._elementPointerMoveHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.UP,this._elementPointerUpHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.CANCEL,this._elementPointerCancelHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.ENTER,this._elementPointerEnterHandler,!1),this.targetElement.removeEventListener(this.pointerEventTypes.LEAVE,this._elementPointerLeaveHandler,!1)}}]),r}(Fp);function ed(e){return(ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function td(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nd(e,t,r){return t&&rd(e.prototype,t),r&&rd(e,r),e}function od(e,t,r){return(od="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=id(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function id(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pd(e)););return e}function ad(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sd(e,t)}function sd(e,t){return(sd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ud(e){var t=fd();return function(){var r,n=pd(e);if(t){var o=pd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cd(this,r)}}function cd(e,t){return!t||"object"!==ed(t)&&"function"!=typeof t?ld(e):t}function ld(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pd(e){return(pd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hd=1,vd=100,yd=function(e){ad(r,e);var t=ud(r);function r(e,n,o){var i;return td(this,r),dd(ld(i=t.call(this,e,n,o)),"_totalDeltaY",0),dd(ld(i),"_idleTimeoutId",void 0),dd(ld(i),"_elementGestureStartHandler",(function(e){if(!i.isDeactivated()){i.options.activeHandler=ld(i),i.saveTargetElementOffset();var t=e.pageX,r=e.pageY;i.savePointer(hd,t,r,e.timeStamp),i.fireGestureStart(),e.preventDefault()}})),dd(ld(i),"_elementGestureChangeHandler",(function(e){if(!i.isDeactivated()){var t=e.pageX,r=e.pageY;i.savePointer(hd,t,r,e.timeStamp);var n=e.scale;!isNaN(n)&&isFinite(n)&&("UNDEFINED"===i.initialGesture&&(i.initialGesture=n>1?"ZOOM_IN":"ZOOM_OUT"),i.fireGestureChange(n)),i.options.shouldInvokePreventDefault()&&e.preventDefault()}})),dd(ld(i),"_elementGestureEndHandler",(function(e){if(!i.isDeactivated()){var t=e.pageX,r=e.pageY;i.savePointer(hd,t,r,e.timeStamp),i.fireGestureEnd(),i.deletePointer(hd),i.options.shouldInvokePreventDefault()&&e.preventDefault(),i.options.resetInterception()}})),dd(ld(i),"_elementWheelHandler",(function(e){if(e.ctrlKey&&!i.isDeactivated()){i.options.activeHandler=ld(i),i.savePointer(hd,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===i.initialGesture&&(i.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN");var t=!1;0===i._totalDeltaY?(i.fireGestureStart(),i._handleTrackpadGestureChange(e.deltaY)):0===e.deltaY?(i._totalDeltaY=0,i.fireGestureEnd(),i.deletePointer(hd),t=!0,i._cancelIdleTimeout()):i._handleTrackpadGestureChange(e.deltaY),i.options.shouldInvokePreventDefault()&&e.preventDefault(),t&&i.options.resetInterception()}})),i.targetElement.addEventListener("gesturestart",i._elementGestureStartHandler,!1),i.targetElement.addEventListener("gesturechange",i._elementGestureChangeHandler,!1),i.targetElement.addEventListener("gestureend",i._elementGestureEndHandler,!1),i.targetElement.addEventListener("wheel",i._elementWheelHandler,!1),i}return nd(r,[{key:"destroy",value:function(){this.targetElement.removeEventListener("gesturestart",this._elementGestureStartHandler,!1),this.targetElement.removeEventListener("gesturechange",this._elementGestureChangeHandler,!1),this.targetElement.removeEventListener("gestureend",this._elementGestureEndHandler,!1),this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)}},{key:"reset",value:function(){od(pd(r.prototype),"reset",this).call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}},{key:"_resetIdleTimeout",value:function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout((function(){e._idleTimeoutId=void 0,e._onIdle()}),250)}},{key:"_cancelIdleTimeout",value:function(){null!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}},{key:"_onIdle",value:function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(hd),this.options.resetInterception()}},{key:"_handleTrackpadGestureChange",value:function(e){this._totalDeltaY+=e;var t=1-this._totalDeltaY/vd;this.fireGestureChange(t),this._resetIdleTimeout()}}]),r}(Op);function md(e){return(md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bd(e,t,r){return t&&_d(e.prototype,t),r&&_d(e,r),e}function wd(e,t,r){return(wd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ed(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Ed(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Cd(e)););return e}function Od(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Td(e,t)}function Td(e,t){return(Td=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xd(e){var t=Pd();return function(){var r,n=Cd(e);if(t){var o=Cd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kd(this,r)}}function kd(e,t){return!t||"object"!==md(t)&&"function"!=typeof t?Sd(e):t}function Sd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pd(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Cd(e){return(Cd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ad(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Rd=1,jd=function(e){Od(r,e);var t=xd(r);function r(e,n,o){var i;return gd(this,r),Ad(Sd(i=t.call(this,e,n,o)),"_totalDeltaY",0),Ad(Sd(i),"_idleTimeoutId",void 0),Ad(Sd(i),"_elementWheelHandler",(function(e){if(!e.ctrlKey&&i.callbacks.catchWheelEvent&&i.callbacks.catchWheelEvent()&&!i.isDeactivated()){if(i.options.activeHandler=Sd(i),i.savePointer(Rd,e.pageX,e.pageY,e.timeStamp),"UNDEFINED"===i.initialGesture&&(i.initialGesture=e.deltaY>0?"ZOOM_OUT":"ZOOM_IN"),0===i._totalDeltaY)i.fireGestureStart(),i._totalDeltaY+=e.deltaY;else{i._totalDeltaY+=e.deltaY;var t=1-i._totalDeltaY/200;i.fireGestureChange(t)}i._resetIdleTimeout(),i.options.shouldInvokePreventDefault()&&e.preventDefault()}})),i.targetElement.addEventListener("wheel",i._elementWheelHandler,!1),i}return bd(r,[{key:"destroy",value:function(){this.targetElement.removeEventListener("wheel",this._elementWheelHandler,!1)}},{key:"reset",value:function(){wd(Cd(r.prototype),"reset",this).call(this),this._cancelIdleTimeout(),this._totalDeltaY=0,this._idleTimeoutId=void 0}},{key:"_resetIdleTimeout",value:function(){var e=this;this._cancelIdleTimeout(),this._idleTimeoutId=window.setTimeout((function(){e._idleTimeoutId=void 0,e._onIdle()}),250)}},{key:"_cancelIdleTimeout",value:function(){void 0!==this._idleTimeoutId&&(window.clearTimeout(this._idleTimeoutId),this._idleTimeoutId=void 0)}},{key:"_onIdle",value:function(){this._totalDeltaY=0,this.fireGestureEnd(),this.deletePointer(Rd),this.options.resetInterception()}}]),r}(Op);function Id(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dd(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Md(e,t,r){return t&&Dd(e.prototype,t),r&&Dd(e,r),e}function Ld(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Nd=function(){function e(t,r){var n=this;Id(this,e),Ld(this,"targetElement",void 0),Ld(this,"options",void 0),Ld(this,"_interceptedBy","NONE"),Ld(this,"_lastPointerEventTimeStamp",0),Ld(this,"_lastTouchEventTimeStamp",0),Ld(this,"_handlers",void 0),this.targetElement=t;var o=!!Object.keys(r).find((function(e){return/gesture|tap/i.test(e)}));this.options={shouldInvokeSetPointerCapture:function(){return o},shouldInvokePreventDefault:function(){return"READER"===n._interceptedBy},hasBrowserIntercepted:function(){return"BROWSER"===n._interceptedBy},updateInterceptionWithTouchEvent:function(e){e.cancelable||(n._interceptedBy="BROWSER")},resetInterception:function(){n._interceptedBy="NONE",n.options.activeHandler=null},updateLastPointerEventTimeStamp:function(e){n._lastPointerEventTimeStamp=e.timeStamp},updateLastTouchEventTimeStamp:function(e){n._lastTouchEventTimeStamp=e.timeStamp},isSimulatedMouseEvents:function(e){return n._lastPointerEventTimeStamp>=e.timeStamp||n._lastTouchEventTimeStamp>=e.timeStamp},activeHandler:null},this._handlers=[new Qp(t,r,this.options),new yd(t,r,this.options),new jd(t,r,this.options)],this.enableBrowserHandlingOfVerticalPanningGestures()}return Md(e,[{key:"destroy",value:function(){this._handlers.forEach((function(e){e.destroy()}))}},{key:"reset",value:function(){this._interceptedBy="NONE",this._handlers.forEach((function(e){e.reset()})),this.options.activeHandler=null}},{key:"requestToIntercept",value:function(){"NONE"===this._interceptedBy&&(this._interceptedBy="READER")}},{key:"enableBrowserHandlingOfVerticalPanningGestures",value:function(){this.targetElement.style.touchAction="pan-y"}},{key:"disableBrowserHandlingOfAllPanningGestures",value:function(){this.targetElement.style.touchAction="none"}}]),e}();function Bd(e){return(Bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ud(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Wd(e,t,r){return t&&Ud(e.prototype,t),r&&Ud(e,r),e}function zd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Hd(e,t)}function Hd(e,t){return(Hd=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vd(e){var t=$d();return function(){var r,n=Kd(e);if(t){var o=Kd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gd(this,r)}}function Gd(e,t){return!t||"object"!==Bd(t)&&"function"!=typeof t?qd(e):t}function qd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Kd(e){return(Kd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yd(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xd(e,t){return Math.min(Math.max(e/t*100,0),100)}var Zd=function(e){zd(r,e);var t=Vd(r);function r(e){var n;return Fd(this,r),Yd(qd(n=t.call(this,e)),"_hover",!1),Yd(qd(n),"_containerWidth",0),Yd(qd(n),"container",void 0),Yd(qd(n),"inputHandler",void 0),n.container=c.createRef(),n}return Wd(r,[{key:"componentDidMount",value:function(){var e=this,t=this.container.current;this.inputHandler=new Nd(t,{onGestureStart:function(t,r){var n;e.props.locked||(e._containerWidth=(null===(n=e.container.current)||void 0===n?void 0:n.clientWidth)||0,e.props.onChangeStart(),e.props.onChange(Xd(t[0].x,e._containerWidth)))},onGestureChange:function(t,r,n,o){var i;e.props.locked||(null===(i=e.inputHandler)||void 0===i||i.requestToIntercept(),e.props.onChange(Xd(t[0].x,e._containerWidth)))},onGestureEnd:function(t){e.props.locked||e.props.onChangeEnd(e.props.value)},onMouseEnter:function(t){var r;e._hover=!0,null===(r=e.container.current)||void 0===r||r.classList.toggle("slider--hover",e._hover)},onMouseLeave:function(t){var r;e._hover=!1,null===(r=e.container.current)||void 0===r||r.classList.toggle("slider--hover",e._hover)}})}},{key:"componentDidUpdate",value:function(){this.props.abortCurrentInteraction&&this.inputHandler&&this.inputHandler.reset()}},{key:"shouldComponentUpdate",value:function(e){return!lf()(this.props,e)}},{key:"render",value:function(){var e=["slider"];this._hover&&e.push("slider--hover"),this.props.type===r.SLIDER_TYPE_ALTERNATE&&e.push("slider--alternate"),this.props.locked&&e.push("slider--locked");var t=!1;return c.createElement("div",{className:e.join(" "),ref:this.container},c.createElement("div",{className:"slider__track-container-container"},c.createElement("div",{className:"slider__track-container"},this.props.segments.map((function(e,r){var n=["slider__track"];e.available||n.push("slider__track--unavailable"),e.done&&n.push("slider__track--done");var o={flex:e.proportion},i=!t&&!e.done;return i&&(t=!0),c.createElement("div",{key:r,className:n.join(" "),style:o},i&&c.createElement("div",{className:"slider__thumb"}))})),!t&&c.createElement("div",{className:"slider__thumb slider__thumb--end"}),this.props.markers&&!!this.props.markers.length&&c.createElement(hp,{markers:this.props.markers,value:this.props.value}))),c.createElement("span",{style:{position:"absolute",visibility:"hidden"}},this.props.value))}}]),r}(c.Component);function Jd(e){return(Jd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function th(e,t,r){return t&&eh(e.prototype,t),r&&eh(e,r),e}function rh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nh(e,t)}function nh(e,t){return(nh=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oh(e){var t=sh();return function(){var r,n=uh(e);if(t){var o=uh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ih(this,r)}}function ih(e,t){return!t||"object"!==Jd(t)&&"function"!=typeof t?ah(e):t}function ah(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sh(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function uh(e){return(uh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ch(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Yd(Zd,"displayName","Slider"),Yd(Zd,"SLIDER_TYPE_DEFAULT","SLIDER_TYPE_DEFAULT"),Yd(Zd,"SLIDER_TYPE_ALTERNATE","SLIDER_TYPE_ALTERNATE");var lh=function(e){rh(r,e);var t=oh(r);function r(){return Qd(this,r),t.apply(this,arguments)}return th(r,[{key:"shouldComponentUpdate",value:function(e){return!lf()(this.props,e)}},{key:"render",value:function(){return c.createElement("div",{className:"page-controls"},c.createElement("strong",{className:"page-controls__page-numbers"},this.props.currentPageNumbers," / ",this.props.pageCount),c.createElement("div",{className:"page-controls__slider"},c.createElement(Zd,{abortCurrentInteraction:this.props.abortCurrentInteraction,value:this.props.currentPageSliderPosition,onChange:this.props.pageSliderOnChange,onChangeStart:this.props.pageSliderOnChangeStart,onChangeEnd:this.props.pageSliderOnChangeEnd,locked:1===this.props.pageCount,segments:this.props.segments,markers:this.props.resultMarkers})))}}]),r}(c.Component);ch(lh,"displayName","PageControls");var fh=27,ph=36,dh=35,hh=32,vh=70,yh=37,mh=39,gh=38,_h=40,bh=191,wh=114,Eh=null;function Oh(e){var t=e.reader.zoomLevel;return Ts(e)||$s(e)||1!==t?hs:31536e6}function Th(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,r){var n=r();n.reader.isIdle&&t({type:"SET_IS_IDLE",isIdle:!1}),Eh&&clearTimeout(Eh),Eh=null,e&&(Eh=setTimeout((function(){t({type:"SET_IS_IDLE",isIdle:!0})}),Oh(n)))}}function xh(){return function(e,t){t().reader.isIdle||e({type:"SET_IS_IDLE",isIdle:!0}),Eh&&(clearTimeout(Eh),Eh=null)}}function kh(e){return function(t,r){var n=[hh,mh,gh].includes(e),o=[yh,_h].includes(e),i=As(r()),a=Rs(r());t(o&&i>1||n&&i+1<a?xh():Th())}}function Sh(){return function(e){e(Th())}}function Ph(){return function(e){e(Th())}}function Ch(){return function(e){e(Th())}}function Ah(){return function(e){e(xh())}}function Rh(){return function(e){e(Th())}}var jh=NaN;function Ih(){return function(e,t){isNaN(jh)&&(jh=t().reader.zoomLevel),e(1!==jh?xh():Th())}}function Dh(){return function(e,t){var r=t().reader.zoomLevel;e(1!==jh&&1!==r?xh():Th(!1))}}function Mh(){return function(e,t){var r=t().reader.zoomLevel;e(1!==jh&&1!==r?xh():Th()),jh=NaN}}function Lh(){return function(e){e(Th())}}function Nh(){return function(e){e(Th())}}function Bh(){return function(e){e(Th())}}var Fh='transform="translate(18.000000, 18.000000) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',Uh='\n    <svg width="36px" height="36px" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '.concat(Fh,'></rect>\n            </g>\n        </g>\n        <rect class="shadow" ').concat(Fh,'></rect>\n        <rect class="icon" ').concat(Fh,"></rect>\n    </svg>\n"),Wh='x="17" y="10" width="2" height="16" rx="2"',zh='transform="translate(18.000000, 18.000000) scale(-1, -1) rotate(-270.000000) translate(-18.000000, -18.000000) " x="17" y="10" width="2" height="16" rx="2"',Hh='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <rect '.concat(Wh,"></rect>\n                <rect ").concat(zh,'></rect>\n            </g>\n        </g>\n        <rect class="shadow" ').concat(Wh,'></rect>\n        <rect class="shadow" ').concat(zh,'></rect>\n        <rect class="icon" ').concat(Wh,'></rect>\n        <rect class="icon" ').concat(zh,"></rect>\n    </svg>\n");function Vh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gh(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qh(e,t,r){return t&&Gh(e.prototype,t),r&&Gh(e,r),e}function $h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kh="HO_CHANGE_PAGE",Yh="HO_CHANGE_ZOOM",Xh="HO_ENTER_FULLSCREEN",Zh="HO_INPUT_GESTURE",Jh="HO_INPUT_KEYBOARD",Qh="HO_INPUT_SLIDER",ev="HO_INPUT_BUTTON",tv="HO_SHARE_SOCIAL",rv="HO_MORE_CONTENT",nv="HO_OPEN_FIND",ov="HO_FIND",iv={BUTTON_ARROW_BACKWARD:[Kh,ev],BUTTON_ARROW_FORWARD:[Kh,ev],BUTTON_CTA_OVERLAY:[ev,Xh],BUTTON_FULLSCREEN:[ev,Xh],BUTTON_ENGAGE_LARGEVIEW:[ev],BUTTON_DISENGAGE_LARGEVIEW:[ev],BUTTON_ZOOMIN:[Yh,ev],BUTTON_ZOOMOUT:[Yh,ev],BUTTON_LOGO:[ev],BUTTON_DOWNLOAD:[ev],GESTURE_DRAG_PAGES:[Kh,Zh],GESTURE_PINCH_ZOOM:[Yh,Zh],DOUBLE_TAP_ZOOM:[Yh,Zh],KEYBOARD_BACKWARD:[Kh,Jh],KEYBOARD_FORWARD:[Kh,Jh],SLIDER_PAGES:[Kh,Qh],SLIDER_ZOOM:[Yh,Qh],BUTTON_SHARE:[ev],SHARE_EMAIL:[tv],SHARE_FACEBOOK:[tv],SHARE_TWITTER:[tv],SHARE_LINKEDIN:[tv],SHARE_PINTEREST:[tv],BUTTON_MORE:[rv,ev],FULLSCREEN_MORE:[rv],PORTRAIT_MODE:[],LANDSCAPE_MODE:[],READER_LOADED_MOBILE:[],PUBLICATION_LINK:[],PUBLICATION_VIDEO_LINK:[],PUBLICATION_INLINE_VIDEO_LINK:[],DOWNLOAD_FROM_ISSUU_LINK:[],NAVIGATION_LINK:[],BUTTON_OPEN_FIND:[ev,nv,{opportunity:ov}],KEYBOARD_OPEN_FIND:[Jh,nv,{opportunity:ov}],FIND_QUERY:[{usage:ov}],FIND_NEXT:[],FIND_PREV:[],FIND_CLOSE:[],FIND_CLOSE_BLUR:[]},av=Object.keys(iv).reduce((function(e,t){return e[t]=t,e}),{});function sv(e,t){return iv[e].reduce((function(e,r){return"string"==typeof r?e.push(r):r.hasOwnProperty(t)&&e.push(r[t]),e}),[e])}var uv=function(){function e(t,r){Vh(this,e),$h(this,"_opportunitySent",{}),$h(this,"_usageSent",{}),$h(this,"monitorTracker",void 0),$h(this,"userId",void 0),this.monitorTracker=t,this.userId=r}return qh(e,[{key:"opportunity",value:function(e){var t=this;this._opportunitySent.hasOwnProperty(e)||sv(e,"opportunity").forEach((function(e){if(!t._opportunitySent.hasOwnProperty(e)){var r="reader3-features.".concat(e);t.monitorTracker.monitor(r,{opportunity:1,userId:t.userId}),t._opportunitySent[e]=!0}}))}},{key:"usage",value:function(e){var t=this;sv(e,"usage").forEach((function(e){var r="reader3-features.".concat(e),n=t._usageSent.hasOwnProperty(e)?0:1;t.monitorTracker.monitor(r,{usageRepeat:1,usageFirst:n,userId:t.userId}),t._usageSent[e]=!0}))}}]),e}();function cv(e){return(cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function pv(e,t,r){return t&&fv(e.prototype,t),r&&fv(e,r),e}function dv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hv(e,t)}function hv(e,t){return(hv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vv(e){var t=gv();return function(){var r,n=_v(e);if(t){var o=_v(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yv(this,r)}}function yv(e,t){return!t||"object"!==cv(t)&&"function"!=typeof t?mv(e):t}function mv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _v(e){return(_v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wv=function(e){dv(r,e);var t=vv(r);function r(e){var n;return lv(this,r),bv(mv(n=t.call(this,e)),"_zoomBeforeSliderStart",void 0),bv(mv(n),"zoomControls",void 0),bv(mv(n),"trackOpportunities",(function(){n.isZoomControlsVisible()&&(n.props.featureTracker.opportunity(av.BUTTON_ZOOMIN),n.props.featureTracker.opportunity(av.BUTTON_ZOOMOUT),n.props.featureTracker.opportunity(av.SLIDER_ZOOM))})),bv(mv(n),"isZoomControlsVisible",(function(){if(!n.zoomControls.current)return!1;var e=window.getComputedStyle(n.zoomControls.current.parentNode);return e&&"none"!==e.display})),bv(mv(n),"handleZoomInButtonClick",(function(){n.props.currentZoomLevel>=is||(n.props.zoomSliderOnChange(n.props.currentZoomLevel+1),n.props.trackOnceMixpanel("reader3_interaction_zoom_in"),n.props.featureTracker.usage(av.BUTTON_ZOOMIN),n.props.dispatch(Sh()))})),bv(mv(n),"handleZoomOutButtonClick",(function(){n.props.zoomSliderOnChange(n.props.currentZoomLevel-1),n.props.trackOnceMixpanel("reader3_interaction_zoom_out"),n.props.featureTracker.usage(av.BUTTON_ZOOMOUT),n.props.dispatch(Sh())})),bv(mv(n),"handleZoomSliderChangeStart",(function(){n.props.zoomSliderOnChangeStart(),n._zoomBeforeSliderStart=n.props.currentZoomLevel})),bv(mv(n),"handleZoomSliderChange",(function(e){var t=e/100*(is-os)+os;n.props.zoomSliderOnChange(t)})),bv(mv(n),"handleZoomSliderChangeEnd",(function(){n.props.zoomSliderOnChangeEnd(),n.props.currentZoomLevel!==n._zoomBeforeSliderStart&&(n.props.trackOnceMixpanel("reader3_interaction_zoom_slider"),n.props.featureTracker.usage(av.SLIDER_ZOOM))})),n.zoomControls=c.createRef(),n._zoomBeforeSliderStart=n.props.currentZoomLevel,n}return pv(r,[{key:"componentDidMount",value:function(){this.trackOpportunities()}},{key:"shouldComponentUpdate",value:function(e){return!lf()(this.props,e)}},{key:"componentDidUpdate",value:function(){this.trackOpportunities()}},{key:"render",value:function(){var e=100/(is-os)*(this.props.currentZoomLevel-os);return c.createElement("div",{className:"zoom-controls",ref:this.zoomControls},c.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom out"},c.createElement(tp,{id:"ird3-button-zoomout",labelProps:{"aria-label":"Zoom out"},className:"svg-btn",onClick:this.handleZoomOutButtonClick,content:Uh})),c.createElement("div",{className:"zoom-controls__slider"},c.createElement(Zd,{value:e,onChange:this.handleZoomSliderChange,onChangeStart:this.handleZoomSliderChangeStart,onChangeEnd:this.handleZoomSliderChangeEnd,segments:this.props.segments,type:Zd.SLIDER_TYPE_ALTERNATE})),c.createElement("div",{className:"zoom-controls__button","data-tooltip":"Zoom in"},c.createElement(tp,{id:"ird3-button-zoomin",labelProps:{"aria-label":"Zoom in"},className:"svg-btn",onClick:this.handleZoomInButtonClick,content:Hh})))}}]),r}(c.Component);bv(wv,"displayName","ZoomControls");var Ev='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 13.000000) rotate(-180.000000) translate(-25.000000, -13.000000)"',Ov='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 13.000000) scale(-1, 1) rotate(-180.000000) translate(-11.000000, -13.000000)"',Tv='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(25.000000, 23.000000) rotate(-90.000000) translate(-25.000000, -23.000000)"',xv='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" fill="#F5F5F5" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-90.000000) translate(-11.000000, -23.000000)"',kv='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '.concat(Ev,"></path>\n                <path ").concat(Ov,"></path>\n                <path ").concat(Tv,"></path>\n                <path ").concat(xv,'></path>\n            </g>\n        </g>\n        <path class="shadow" ').concat(Ev,'></path>\n        <path class="shadow" ').concat(Ov,'></path>\n        <path class="shadow" ').concat(Tv,'></path>\n        <path class="shadow" ').concat(xv,'></path>\n        <path class="icon" ').concat(Ev,'></path>\n        <path class="icon" ').concat(Ov,'></path>\n        <path class="icon" ').concat(Tv,'></path>\n        <path class="icon" ').concat(xv,"></path>\n    </svg>\n"),Sv='d="M27.7068284,10.2884629 C27.5277733,10.1097429 27.2813055,10 27.009222,10 L22.990778,10 C22.4509752,10 22,10.4477153 22,11 C22,11.5561352 22.4435864,12 22.990778,12 L26,12 L26,15.009222 C26,15.5490248 26.4477153,16 27,16 C27.5561352,16 28,15.5564136 28,15.009222 L28,10.990778 C28,10.7223751 27.8893106,10.4759332 27.7101145,10.2959709 Z"',Pv='d="M13.7068284,10.2884629 C13.5277733,10.1097429 13.2813055,10 13.009222,10 L8.99077797,10 C8.45097518,10 8,10.4477153 8,11 C8,11.5561352 8.44358641,12 8.99077797,12 L12,12 L12,15.009222 C12,15.5490248 12.4477153,16 13,16 C13.5561352,16 14,15.5564136 14,15.009222 L14,10.990778 C14,10.7223751 13.8893106,10.4759332 13.7101145,10.2959709 Z" transform="translate(11.000000, 13.000000) scale(-1, 1) translate(-11.000000, -13.000000)"',Cv='d="M27.7068284,20.2884629 C27.5277733,20.1097429 27.2813055,20 27.009222,20 L22.990778,20 C22.4509752,20 22,20.4477153 22,21 C22,21.5561352 22.4435864,22 22.990778,22 L26,22 L26,25.009222 C26,25.5490248 26.4477153,26 27,26 C27.5561352,26 28,25.5564136 28,25.009222 L28,20.990778 C28,20.7223751 27.8893106,20.4759332 27.7101145,20.2959709 Z" transform="translate(25.000000, 23.000000) rotate(-270.000000) translate(-25.000000, -23.000000)"',Av='d="M13.7068284,20.2884629 C13.5277733,20.1097429 13.2813055,20 13.009222,20 L8.99077797,20 C8.45097518,20 8,20.4477153 8,21 C8,21.5561352 8.44358641,22 8.99077797,22 L12,22 L12,25.009222 C12,25.5490248 12.4477153,26 13,26 C13.5561352,26 14,25.5564136 14,25.009222 L14,20.990778 C14,20.7223751 13.8893106,20.4759332 13.7101145,20.2959709 Z" transform="translate(11.000000, 23.000000) scale(-1, 1) rotate(-270.000000) translate(-11.000000, -23.000000)"',Rv='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g>\n                <path '.concat(Sv,"></path>\n                <path ").concat(Pv,"></path>\n                <path ").concat(Cv,"></path>\n                <path ").concat(Av,'></path>\n            </g>\n        </g>\n        <path class="shadow" ').concat(Sv,'></path>\n        <path class="shadow" ').concat(Pv,'></path>\n        <path class="shadow" ').concat(Cv,'></path>\n        <path class="shadow" ').concat(Av,'></path>\n        <path class="icon" ').concat(Sv,'></path>\n        <path class="icon" ').concat(Pv,'></path>\n        <path class="icon" ').concat(Cv,'></path>\n        <path class="icon" ').concat(Av,"></path>\n    </svg>\n");function jv(e){return(jv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Iv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Mv(e,t,r){return t&&Dv(e.prototype,t),r&&Dv(e,r),e}function Lv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nv(e,t)}function Nv(e,t){return(Nv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Bv(e){var t=Wv();return function(){var r,n=zv(e);if(t){var o=zv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fv(this,r)}}function Fv(e,t){return!t||"object"!==jv(t)&&"function"!=typeof t?Uv(e):t}function Uv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wv(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function zv(e){return(zv=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Hv(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Vv=function(e){Lv(r,e);var t=Bv(r);function r(){return Iv(this,r),t.apply(this,arguments)}return Mv(r,[{key:"shouldComponentUpdate",value:function(e){return this.props.fullscreenEnabled!==e.fullscreenEnabled}},{key:"render",value:function(){var e=this.props.fullscreenEnabled?kv:Rv,t=this.props.fullscreenEnabled?"Exit":"Fullscreen";return c.createElement("div",{className:"fullscreen-controls"},c.createElement("div",{className:"fullscreen-controls__button","data-tooltip":t},c.createElement(tp,{id:"ird3-button-fullscreen",labelProps:{"aria-label":t},className:"svg-btn ",onClick:this.props.toggleFullscreen,content:e})))}}]),r}(c.Component);Hv(Vv,"displayName","FullscreenControls");var Gv='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M12 15v6h12v-6H12zm-1-2h14c.552 0 1 .448 1 1v8c0 .552-.448 1-1 1H11c-.552 0-1-.448-1-1v-8c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n',qv='\n<svg width="100%" height="100%" viewBox="0 0 36 36">\n  <path\n    class="shadow"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n  <path\n    class="icon"\n    d="M10 13v10h16V13H10zm-1-2h18c.552 0 1 .448 1 1v12c0 .552-.448 1-1 1H9c-.552 0-1-.448-1-1V12c0-.552.448-1 1-1z"\n    fill-rule="nonzero"/>\n</svg>\n';function $v(e){return($v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yv(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Xv(e,t,r){return t&&Yv(e.prototype,t),r&&Yv(e,r),e}function Zv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jv(e,t)}function Jv(e,t){return(Jv=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qv(e){var t=ry();return function(){var r,n=ny(e);if(t){var o=ny(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ey(this,r)}}function ey(e,t){return!t||"object"!==$v(t)&&"function"!=typeof t?ty(e):t}function ty(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ry(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ny(e){return(ny=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iy=function(e){Zv(r,e);var t=Qv(r);function r(e){var n;return Kv(this,r),(n=t.call(this,e)).handleClick=n.handleClick.bind(ty(n)),n}return Xv(r,[{key:"componentDidMount",value:function(){this.trackOpportunities()}},{key:"componentDidUpdate",value:function(){this.trackOpportunities()}},{key:"trackUsage",value:function(){var e=this.props.largeViewEngaged?av.BUTTON_DISENGAGE_LARGEVIEW:av.BUTTON_ENGAGE_LARGEVIEW,t=this.props.largeViewEngaged?"reader3_interaction_standard_view":"reader3_interaction_large_view";this.props.featureTracker.usage(e),this.props.trackOnceMixpanel(t)}},{key:"trackOpportunities",value:function(){var e=this.props.largeViewEngaged?av.BUTTON_DISENGAGE_LARGEVIEW:av.BUTTON_ENGAGE_LARGEVIEW;this.props.featureTracker.opportunity(e)}},{key:"handleClick",value:function(){this.trackUsage(),this.props.handleClick()}},{key:"render",value:function(){var e=this.props,t=e.largeViewEngaged,r=e.largeViewPromoted,n=t?Gv:qv,o=t?"Standard View":"Larger View";return c.createElement("div",{className:Wf()("large-view-controls",{"large-view-controls--promoted":r})},c.createElement("div",{className:"large-view-controls__button","data-tooltip":o},c.createElement(tp,{id:"ird3-button-large-view",className:"svg-btn ",onClick:this.handleClick,content:n})))}}]),r}(c.PureComponent);oy(iy,"displayName","LargeViewControls");var ay='\n<svg width="100%" height="100%" viewBox="-9 -9 34 34" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="shadow" fill-rule="evenodd" />\n  <path d="M6.29 12.58c3.474 0 6.29-2.816 6.29-6.29S9.765 0 6.29 0 0 2.816 0 6.29s2.816 6.29 6.29 6.29zm0-1.677c2.548 0 4.613-2.065 4.613-4.613 0-2.548-2.065-4.613-4.613-4.613-2.548 0-4.613 2.065-4.613 4.613 0 2.548 2.065 4.613 4.613 4.613zm4.665 1.83c-.492-.49-.496-1.284 0-1.78.49-.49 1.287-.49 1.78.002l2.895 2.895c.49.492.495 1.286 0 1.78-.49.492-1.288.49-1.78 0l-2.895-2.896zm-3.18-3.507L7.34 7.8H5.157l-.436 1.426H3.355l2.113-6.012H7.02l2.122 6.012H7.775zm-.738-2.49c-.403-1.29-.627-2.022-.678-2.19-.05-.17-.088-.304-.11-.403-.09.35-.348 1.214-.774 2.592h1.56z" class="icon" fill-rule="evenodd"/>\n</svg>\n';function sy(e){return(sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ly(e,t,r){return t&&cy(e.prototype,t),r&&cy(e,r),e}function fy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&py(e,t)}function py(e,t){return(py=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dy(e){var t=yy();return function(){var r,n=my(e);if(t){var o=my(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return hy(this,r)}}function hy(e,t){return!t||"object"!==sy(t)&&"function"!=typeof t?vy(e):t}function vy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yy(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function my(e){return(my=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _y=function(e){fy(r,e);var t=dy(r);function r(){var e;uy(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return gy(vy(e=t.call.apply(t,[this].concat(o))),"onClick",(function(){e.props.featureTracker.usage("BUTTON_OPEN_FIND"),e.props.trackOnceMixpanel("reader3_interaction_open_find"),e.props.onClick()})),e}return ly(r,[{key:"componentDidMount",value:function(){this.props.featureTracker.opportunity("BUTTON_OPEN_FIND")}},{key:"render",value:function(){var e=this.props.findAvailable,t=e?"Find":"Find is not available";return l.a.createElement("div",{className:Wf()("controls__find-button",{"controls__find-button--disabled":!e}),"data-tooltip":t},l.a.createElement("button",{type:"button",className:Wf()("find-button svg-btn",{"svg-btn--disabled":!e}),onClick:this.onClick,"aria-label":t,dangerouslySetInnerHTML:{__html:ay},disabled:!e}))}}]),r}(c.Component);function by(){return function(e,t){return e(vi()).then((function(){var r=t(),n=Ei(r),o=r.reader.currentPageNumber;return e(Mi(n,o))})),t().canvasApi.zoomCurrentView(1),Promise.resolve()}}var wy=Zn((function(e){return{isVisible:wi(e),findAvailable:Ii(e)}}),{closeFindDialog:yi,openFindDialog:by},(function(e,t,r){return Object.assign({},r,e,{onClick:e.isVisible?t.closeFindDialog:t.openFindDialog,findAvailable:e.findAvailable})}))(_y);function Ey(e,t,r){return{proportion:e,done:t,available:r}}var Oy=Lo(xs,(function(e){return e>0&&e<100?[{proportion:Math.round(e),done:!0,available:!0},{proportion:100-Math.round(e),done:!1,available:!0}]:[{proportion:100,done:100===e,available:!0}]})),Ty=Lo(As,Rs,Ho,es,Ja,Ps,(function(e,t,r,n,o,i){for(var a=t+1,s=[Ey(2,e>0,!0)],u=o?n.map((function(e){return Go(i,e)})):[],c=1;c<a;c++){var l=s[s.length-1],f=!u.includes(c),p=c<=e,d=2;"DOUBLE_PAGE_SPREAD"===i&&c<t&&(d=4),c===e&&c<t?(s.push(Ey("DOUBLE_PAGE_SPREAD"===i?2:1,!0,f)),s.push(Ey("DOUBLE_PAGE_SPREAD"===i?2:1,!1,f))):p===l.done&&f===l.available?l.proportion+=d:s.push(Ey(d,p,f))}return s})),xy="HIDDEN",ky="ENGAGED",Sy="DISENGAGED",Py=function(e){return e.config.origins},Cy=function(e,t,r,n){return Object.assign({},e,{sessionId:t,embedTrackingQuery:r,embedId:n})};function Ay(e,t,r,n){return function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cy(e,t,r,n);return o}}var Ry='d="M6.83590808,3.64127016 C5.02752664,3.6236996 3.54764132,5.11190524 3.53049341,6.96464718 C3.5133455,8.81760081 4.96575284,10.3339617 6.77413428,10.3515323 C8.58251571,10.3688911 10.0626076,8.88089718 10.0795489,7.02815524 C10.0966969,5.17520161 8.64428951,3.65862903 6.83590808,3.64127016 L6.83590808,3.64127016 Z M6.78942278,8.69524194 C5.87376569,8.68635081 5.13826495,7.91853831 5.14694221,6.9803125 C5.15561947,6.04208669 5.90496249,5.28845766 6.82061958,5.29734879 C7.73627667,5.30623992 8.4717774,6.07405242 8.46310015,7.01248992 C8.45442289,7.95050403 7.70507987,8.70413306 6.78942278,8.69524194 L6.78942278,8.69524194 Z"',jy='d="M6.75843258,0.424375 C6.74830911,0.424375 6.73818565,0.424798387 6.72785558,0.424798387 L6.72785558,0.424163306 L0.856245804,0.424163306 C0.562045511,0.424163306 0.321148361,0.67078629 0.321148361,0.972449597 L0.321148361,7.02053427 C0.321148361,10.6633569 3.2032369,13.6164819 6.75843258,13.6164819 C10.3138349,13.6164819 13.1957168,10.6633569 13.1957168,7.02053427 C13.1957168,3.3775 10.3138349,0.424375 6.75843258,0.424375 L6.75843258,0.424375 Z M2.33592452,6.92929435 C2.35927047,4.40019153 4.37921167,2.36920363 6.84747775,2.39291331 C9.31574383,2.41683468 11.2980836,4.48677419 11.274531,7.01566532 C11.2513917,9.54455645 9.23124389,11.5755444 6.76318441,11.551623 C4.29491833,11.5277016 2.31257857,9.45797379 2.33592452,6.92929435 L2.33592452,6.92929435 Z"',Iy='d="M1.18803132,0.461209677 C1.75267275,0.461209677 2.22289738,0.943235887 2.22289738,1.52137097 C2.22289738,2.09950605 1.75267275,2.58110887 1.18803132,2.58110887 C0.624009688,2.58110887 0.153578461,2.09950605 0.153578461,1.52137097 C0.153578461,0.943235887 0.624009688,0.461209677 1.18803132,0.461209677 L1.18803132,0.461209677 Z M1.18803132,12.5656351 C0.661197927,12.5656351 0.30419083,12.160877 0.30419083,11.6597984 L0.30419083,4.79775202 C0.30419083,4.29709677 0.680411851,3.89212702 1.18803132,3.89212702 C1.69627059,3.89212702 2.07228501,4.29709677 2.07228501,4.79775202 L2.07228501,11.6597984 C2.07228501,12.160877 1.71486471,12.5656351 1.18803132,12.5656351 L1.18803132,12.5656351 Z"',Dy='d="M7.56498795,12.6429032 C6.37971612,12.6429032 5.32646254,12.2574093 4.5742271,11.6597984 C4.31101701,11.4478931 4.19779948,11.1587198 4.19779948,10.9080746 C4.19779948,10.522369 4.49902422,10.2715121 4.87524524,10.2715121 C5.17585017,10.2715121 5.36427059,10.3877319 5.57107852,10.5420565 C6.07890458,10.9273387 6.79353858,11.2931452 7.69679959,11.2931452 C8.71265833,11.2931452 9.25808584,10.9080746 9.25808584,10.3104637 C9.25808584,9.65548387 8.73125245,9.40462702 7.41437558,9.03797379 C5.10085389,8.40268145 4.25440825,7.59231855 4.25440825,6.20509073 C4.25440825,4.75943548 5.5522778,3.81485887 7.58399527,3.81485887 C8.35503143,3.81485887 9.2200712,4.00771169 9.91631767,4.35446573 C10.4241437,4.60511089 10.781564,4.91333669 10.781564,5.29904234 C10.781564,5.64579637 10.5935568,5.97392137 10.1045315,5.97392137 C9.85991551,5.97392137 9.61529954,5.858125 9.33328872,5.70337702 C8.80624873,5.41462702 8.22321978,5.26114919 7.54639383,5.26114919 C6.60573797,5.26114919 5.96610026,5.51137097 5.96610026,6.18561492 C5.96610026,6.84144153 6.53053509,7.05292339 7.8848068,7.45789315 C9.91631767,8.05529234 10.9697779,8.61416331 10.9697779,10.1754032 C10.9697779,11.602006 9.80351335,12.6429032 7.56498795,12.6429032"',My='d="M16.0804749,12.6429032 C14.8952031,12.6429032 13.8415363,12.2574093 13.0893009,11.6597984 C12.8258842,11.4478931 12.7130799,11.1587198 12.7130799,10.9080746 C12.7130799,10.522369 13.014098,10.2715121 13.390319,10.2715121 C13.6913372,10.2715121 13.8791378,10.3877319 14.0863589,10.5420565 C14.5939784,10.9273387 15.3086124,11.2931452 16.2114602,11.2931452 C17.2275255,11.2931452 17.772953,10.9080746 17.772953,10.3104637 C17.772953,9.65548387 17.2465328,9.40462702 15.9298626,9.03797379 C13.6159277,8.40268145 12.7696886,7.59231855 12.7696886,6.20509073 C12.7696886,4.75943548 14.0677648,3.81485887 16.0990691,3.81485887 C16.8703118,3.81485887 17.7357648,4.00771169 18.4318047,4.35446573 C18.9392175,4.60511089 19.297051,4.91333669 19.297051,5.29904234 C19.297051,5.64579637 19.1088372,5.97392137 18.6193987,5.97392137 C18.3749893,5.97392137 18.1303733,5.858125 17.8485691,5.70337702 C17.3219423,5.41462702 16.7385002,5.26114919 16.0614676,5.26114919 C15.1208118,5.26114919 14.4813806,5.51137097 14.4813806,6.18561492 C14.4813806,6.84144153 15.0454023,7.05292339 16.4000872,7.45789315 C18.4318047,8.05529234 19.4850582,8.61416331 19.4850582,10.1754032 C19.4850582,11.602006 18.3185871,12.6429032 16.0804749,12.6429032"',Ly='d="M21.1926182,8.61416331 L21.1926182,4.79775202 C21.1926182,4.29709677 21.5878466,3.89212702 22.0768719,3.89212702 C22.5658973,3.89212702 22.9611256,4.29709677 22.9611256,4.79775202 L22.9611256,8.82606855 C22.9611256,10.0409778 23.8823609,10.9849194 25.1246547,10.9849194 C26.3659155,10.9849194 27.3063648,10.0409778 27.3063648,8.82606855 L27.3063648,4.79775202 C27.3063648,4.29709677 27.7015931,3.89212702 28.1902052,3.89212702 C28.679024,3.89212702 29.0740457,4.29709677 29.0740457,4.79775202 L29.0740457,8.61416331 C29.0740457,10.8697581 27.4001618,12.6429032 25.1246547,12.6429032 C22.8481147,12.6429032 21.1926182,10.8697581 21.1926182,8.61416331"',Ny='d="M31.0324197,8.61416331 L31.0324197,4.79775202 C31.0324197,4.29709677 31.4272349,3.89212702 31.9164668,3.89212702 C32.405079,3.89212702 32.8003073,4.29709677 32.8003073,4.79775202 L32.8003073,8.82606855 C32.8003073,10.0409778 33.7225756,10.9849194 34.9636298,10.9849194 C36.2048906,10.9849194 37.1455465,10.0409778 37.1455465,8.82606855 L37.1455465,4.79775202 C37.1455465,4.29709677 37.5407748,3.89212702 38.0298002,3.89212702 C38.5192387,3.89212702 38.9136406,4.29709677 38.9136406,4.79775202 L38.9136406,8.61416331 C38.9136406,10.8697581 37.2401699,12.6429032 34.9636298,12.6429032 C32.6872964,12.6429032 31.0324197,10.8697581 31.0324197,8.61416331"',By='\n<svg width="100%" height="100%" viewBox="-2 0 60 14">\n    <g class="logo__icon">\n        <path class="shadow" '.concat(Ry,'></path>\n        <path class="shadow" ').concat(jy,'></path>\n        <path class="icon" ').concat(Ry,'></path>\n        <path class="icon" ').concat(jy,'></path>\n    </g>\n    <g class="logo__title" transform="translate(17.000000, 0.000000)">\n        <path class="shadow" ').concat(Iy,'></path>\n        <path class="shadow" ').concat(Dy,'></path>\n        <path class="shadow" ').concat(My,'></path>\n        <path class="shadow" ').concat(Ly,'></path>\n        <path class="shadow" ').concat(Ny,'></path>\n\n        <path class="icon" ').concat(Iy,'></path>\n        <path class="icon" ').concat(Dy,'></path>\n        <path class="icon" ').concat(My,'></path>\n        <path class="icon" ').concat(Ly,'></path>\n        <path class="icon" ').concat(Ny,"></path>\n    </g>\n</svg>\n");function Fy(e){return(Fy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wy(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zy(e,t,r){return t&&Wy(e.prototype,t),r&&Wy(e,r),e}function Hy(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vy(e,t)}function Vy(e,t){return(Vy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gy(e){var t=Ky();return function(){var r,n=Yy(e);if(t){var o=Yy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return qy(this,r)}}function qy(e,t){return!t||"object"!==Fy(t)&&"function"!=typeof t?$y(e):t}function $y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ky(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Yy(e){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zy=function(e){Hy(r,e);var t=Gy(r);function r(e){var n;return Uy(this,r),Xy($y(n=t.call(this,e)),"inputHandler",void 0),Xy($y(n),"_percentBeforeSlider",void 0),Xy($y(n),"controlsContainer",void 0),Xy($y(n),"onReadOnIssuuClick",(function(){var e=n.props.issuuBrandingFeature&&n.props.issuuBrandingFeature.openInNewTab?"_blank":"_top";window.open("https:".concat(n.props.mainHost,"/explore").concat(z("logo",n.props.issuuLinkTrackingQuery||"")),e),n.props.dispatch(Sh()),n.props.featureTracker.usage(av.BUTTON_LOGO),n.props.trackOnceMixpanel("reader3_interaction_read_on_issuu")})),Xy($y(n),"onToggleFullscreenClick",(function(){n.props.toggleFullscreen(),n.props.featureTracker.usage(av.BUTTON_FULLSCREEN),!n.props.fullscreenEnabled&&n.props.trackOnceMixpanel("reader3_interaction_fullscreen"),n.props.dispatch(Sh())})),Xy($y(n),"onSliderActivityStart",(function(){n.props.dispatch(Ec(!0)),n.props.dispatch(Rh())})),Xy($y(n),"onSliderActivityChange",(function(){n.props.dispatch(Rh())})),Xy($y(n),"onSliderActivityEnd",(function(){n.props.dispatch(Ec(!1)),n.props.dispatch(Rh())})),Xy($y(n),"handlePageSliderOnChangeStart",(function(){n.props.canvasApi&&n.props.canvasApi.setSnapping(!1),n.onSliderActivityStart(),n._percentBeforeSlider=n.props.currentPageSliderPosition})),Xy($y(n),"handlePageSliderOnChange",(function(e){n.onSliderActivityChange(),n.props.canvasApi&&n.props.canvasApi.jumpToPositionByPercent(e)})),Xy($y(n),"handlePageSliderOnChangeEnd",(function(e){n.props.canvasApi&&n.props.canvasApi.setSnapping(!0),n.onSliderActivityEnd(),n.props.currentPageSliderPosition!==n._percentBeforeSlider&&(n.props.featureTracker.usage(av.SLIDER_PAGES),n.props.trackOnceMixpanel("reader3_interaction_slider_page_jump"))})),Xy($y(n),"handleZoomSliderOnChangeStart",(function(){n.onSliderActivityStart()})),Xy($y(n),"handleZoomSliderOnChange",(function(e){n.onSliderActivityChange(),n.props.canvasApi&&n.props.canvasApi.zoomCurrentView(e)})),Xy($y(n),"handleZoomSliderOnChangeEnd",(function(){n.onSliderActivityEnd()})),n._percentBeforeSlider=n.props.currentPageSliderPosition,n.controlsContainer=c.createRef(),n}return zy(r,[{key:"componentDidMount",value:function(){var e=this,t=this.controlsContainer.current;this.inputHandler=new Nd(t,{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(Tc(!0))},onMouseLeave:function(t){e.props.dispatch(Tc(!1))}}),this.props.featureTracker.opportunity(av.SLIDER_PAGES)}},{key:"shouldComponentUpdate",value:function(e){var t=this.props.visible!==e.visible;return e.visible&&(t=t||!lf()(this.props,e)),t}},{key:"componentWillUnmount",value:function(){this.inputHandler&&this.inputHandler.destroy()}},{key:"render",value:function(){var e=this,t=null;this.props.showIssuuBranding&&(t=c.createElement("div",{className:"controls__read-on-issuu"},c.createElement("div",{className:"controls__read-on-issuu-button","data-tooltip":"Read more on Issuu"},c.createElement(tp,{className:"svg-btn logo-icon",onClick:this.onReadOnIssuuClick,labelProps:{"aria-label":"Read more Publications on Issuu"},content:By}))),this.props.featureTracker.opportunity(av.BUTTON_LOGO));var r=null;if(this.props.fullscreenFeature){var n=!1;switch(this.props.fullscreenFeature.showButtons){case"ALWAYS":n=!0;break;case"HIDE_WHEN_NOT_SUPPORTED":n=this.props.fullscreenIsSupported}n&&(r=c.createElement(Vv,{fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.onToggleFullscreenClick}),this.props.featureTracker.opportunity(av.BUTTON_FULLSCREEN))}var o=Wf()("controls",{"controls--hidden":!this.props.visible});return c.createElement("div",{className:o,ref:this.controlsContainer},c.createElement("div",{className:"controls__background"}),c.createElement("div",{className:"controls__part controls__part--page-controls"},c.createElement(lh,{abortCurrentInteraction:this.props.isAdOverlayVisible,currentPageSliderPosition:this.props.currentPageSliderPosition,currentPageNumbers:this.props.currentPageNumbers,pageCount:this.props.pageCount,pageSliderOnChangeStart:this.handlePageSliderOnChangeStart,pageSliderOnChange:this.handlePageSliderOnChange,pageSliderOnChangeEnd:this.handlePageSliderOnChangeEnd,segments:this.props.pageSegments,resultMarkers:this.props.resultMarkers})),this.props.zoomFeature&&c.createElement("div",{className:"controls__part controls__part--zoom-controls"},c.createElement(wv,{currentZoomLevel:this.props.zoomLevel,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,segments:this.props.zoomSegments,trackOnceMixpanel:this.props.trackOnceMixpanel,zoomSliderOnChangeStart:this.handleZoomSliderOnChangeStart,zoomSliderOnChange:this.handleZoomSliderOnChange,zoomSliderOnChangeEnd:this.handleZoomSliderOnChangeEnd})),t&&c.createElement("div",{className:"controls__part"},t),c.createElement("div",{className:"controls__part"},c.createElement(wy,{featureTracker:this.props.featureTracker,trackOnceMixpanel:this.props.trackOnceMixpanel})),this.props.largeViewState!==xy&&!this.props.fullscreenEnabled&&c.createElement("div",{className:"controls__part"},c.createElement(iy,{featureTracker:this.props.featureTracker,trackOnceMixpanel:this.props.trackOnceMixpanel,largeViewPromoted:this.props.largeViewPromoted,largeViewEngaged:this.props.largeViewState===ky,handleClick:function(){e.props.dispatch(bc())}})),r&&!this.props.hideFullScreenButton&&c.createElement("div",{className:"controls__part controls__part--fullscreen-controls"},r))}}]),r}(c.Component);Xy(Zy,"displayName","Controls");var Jy=function(e){return{showIssuuBranding:Bs(e),canvasApi:e.canvasApi,isAdOverlayVisible:Ku(e),currentPageNumbers:Ss(e).join("-"),currentPageSliderPosition:ks(e),featureTracker:e.featureTracker,fullscreenEnabled:Ts(e),fullscreenIsSupported:e.fullscreen.supported,issuuBrandingFeature:ms(e),issuuLinkTrackingQuery:zs(e),pageCount:Ho(e).pageCount,pageSegments:Ty(e),resultMarkers:Fi(e),fullscreenFeature:ws(e),zoomFeature:ys(e),zoomLevel:e.reader.zoomLevel,hideFullScreenButton:e.features.hideFullScreenButton,zoomSegments:Oy(e),largeViewPromoted:e.reader.largeViewPromoted,largeViewState:e.reader.largeViewState,mainHost:Py(e).main}},Qy=Zn(Jy,void 0,void 0,{pure:!1})(Zy);function em(e){return(em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nm(e,t,r){return t&&rm(e.prototype,t),r&&rm(e,r),e}function om(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&im(e,t)}function im(e,t){return(im=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function am(e){var t=cm();return function(){var r,n=lm(e);if(t){var o=lm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sm(this,r)}}function sm(e,t){return!t||"object"!==em(t)&&"function"!=typeof t?um(e):t}function um(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function lm(e){return(lm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pm=function(e){om(r,e);var t=am(r);function r(){return tm(this,r),t.apply(this,arguments)}return nm(r,[{key:"onClick",value:function(){this.props.toggleShareDropdown("SHARE"),this.props.featureTracker.usage(av.BUTTON_SHARE),this.props.dispatch(Sh())}},{key:"render",value:function(){var e=this;return c.createElement("div",{className:"header-controls__share-toggle",onClick:function(){return e.onClick()}},"Share")}}]),r}(c.Component);fm(pm,"displayName","ShareButton");r(345);function dm(e,t){return gm(e)||mm(e,t)||vm(e,t)||hm()}function hm(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vm(e,t){if(e){if("string"==typeof e)return ym(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ym(e,t):void 0}}function ym(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mm(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function gm(e){if(Array.isArray(e))return e}function _m(e,t,r){var n={width:t,height:r,left:(screen.width-t)/2,top:(screen.height-r)/2},o=Object.entries(n).map((function(e){var t=dm(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join(",");window.open(e,"_blank",o)}function bm(e,t){return function(r){var n=encodeURIComponent("I found this great publication on issuu.com"),o=encodeURIComponent("Hi,\n\nI found this publication on issuu.com which seems totally made for you.\n\n".concat(e,":\n").concat(t,"\n\nCheck it out and let me know what you think.\n\n- Me")),i="mailto:?subject=".concat(n,"&body=").concat(o);window.open(i,"_top")}}function wm(e){return function(t){_m("https://web.archive.org/web/20220221113829/https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent(e)),575,300)}}function Em(e,t){return function(r){var n={url:encodeURIComponent(t),text:encodeURIComponent(e),via:"issuu"},o=Object.entries(n).map((function(e){var t=dm(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&");_m("https://web.archive.org/web/20220221113829/https://twitter.com/intent/tweet?".concat(o),550,420)}}function Om(e,t,r){return function(n){var o={url:encodeURIComponent(e),media:encodeURIComponent(t),description:encodeURIComponent(r)},i=Object.entries(o).map((function(e){var t=dm(e,2),r=t[0],n=t[1];return"".concat(r,"=").concat(n)})).join("&");_m("https://web.archive.org/web/20220221113829/https://pinterest.com/pin/create/button/?".concat(i),750,500)}}function Tm(e){return function(t){var r=encodeURIComponent(e);_m("https://web.archive.org/web/20220221113829/https://www.linkedin.com/sharing/share-offsite?url=".concat(r),750,500)}}var xm=r(263),km=r.n(xm);function Sm(e){return(Sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cm(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Am(e,t,r){return t&&Cm(e.prototype,t),r&&Cm(e,r),e}function Rm(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jm(e,t)}function jm(e,t){return(jm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Im(e){var t=Lm();return function(){var r,n=Nm(e);if(t){var o=Nm(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Dm(this,r)}}function Dm(e,t){return!t||"object"!==Sm(t)&&"function"!=typeof t?Mm(e):t}function Mm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lm(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Nm(e){return(Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bm(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Fm=function(e){Rm(r,e);var t=Im(r);function r(e){var n;return Pm(this,r),Bm(Mm(n=t.call(this,e)),"onSuccess",(function(){n.setState({copied:!0}),setTimeout((function(){n.setState({copied:!1})}),2e3),void 0!==n.props.onCopied&&n.props.onCopied()})),Bm(Mm(n),"onError",(function(){var e="".concat(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl","+C");window.prompt("Press ".concat(e," to copy"),n.props.copyText)})),n.state={copied:!1},n}return Am(r,[{key:"render",value:function(){return c.createElement(km.a,{className:"share-dropdown__copy-button",onSuccess:this.onSuccess,onError:this.onError,"data-clipboard-text":this.props.copyText},c.createElement(c.Fragment,null,!this.state.copied&&this.props.children,this.state.copied&&this.props.successText))}}]),r}(c.Component),Um='\n    <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="20"\n        height="20"\n        viewBox="0 0 24 24"\n        fill="white"\n        stroke="none"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n    >\n        <path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path>\n    </svg>\n',Wm='\n    <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="20"\n        height="20"\n        viewBox="0 0 24 24"\n        fill="white"\n        stroke="none"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n    >\n        <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path>\n    </svg>\n',zm='\n    <svg\n        x="0px"\n        y="0px"\n        viewBox="0 0 511.998 511.998"\n        width="20"\n        height="20"\n    >\n        <path\n            style="fill:#ffffff;"\n            d="M405.017,52.467C369.774,18.634,321.001,0,267.684,0C186.24,0,136.148,33.385,108.468,61.39  c-34.114,34.513-53.675,80.34-53.675,125.732c0,56.993,23.839,100.737,63.76,117.011c2.68,1.098,5.377,1.651,8.021,1.651  c8.422,0,15.095-5.511,17.407-14.35c1.348-5.071,4.47-17.582,5.828-23.013c2.906-10.725,0.558-15.884-5.78-23.353  c-11.546-13.662-16.923-29.817-16.923-50.842c0-62.451,46.502-128.823,132.689-128.823c68.386,0,110.866,38.868,110.866,101.434  c0,39.482-8.504,76.046-23.951,102.961c-10.734,18.702-29.609,40.995-58.585,40.995c-12.53,0-23.786-5.147-30.888-14.121  c-6.709-8.483-8.921-19.441-6.222-30.862c3.048-12.904,7.205-26.364,11.228-39.376c7.337-23.766,14.273-46.213,14.273-64.122  c0-30.632-18.832-51.215-46.857-51.215c-35.616,0-63.519,36.174-63.519,82.354c0,22.648,6.019,39.588,8.744,46.092  c-4.487,19.01-31.153,132.03-36.211,153.342c-2.925,12.441-20.543,110.705,8.618,118.54c32.764,8.803,62.051-86.899,65.032-97.713  c2.416-8.795,10.869-42.052,16.049-62.495c15.817,15.235,41.284,25.535,66.064,25.535c46.715,0,88.727-21.022,118.298-59.189  c28.679-37.02,44.474-88.618,44.474-145.282C457.206,127.983,438.182,84.311,405.017,52.467z"\n        />\n    </svg>\n',Hm='\n    <svg\n        xmlns="http://www.w3.org/2000/svg"\n        width="20"\n        height="20"\n        viewBox="0 0 24 24"\n        fill="none"\n        stroke="white"\n        stroke-width="2"\n        stroke-linecap="round"\n        stroke-linejoin="round"\n    >\n        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>\n        <polyline points="22,6 12,13 2,6"></polyline>\n    </svg>\n',Vm='\n    <svg\n        x="0px"\n        y="0px"\n        viewBox="0 0 310 310"\n        width="16px"\n        height="16px"\n        fill="#ffffff"\n    >\n        <g>\n            <path d="M72.16,99.73H9.927c-2.762,0-5,2.239-5,5v199.928c0,2.762,2.238,5,5,5H72.16c2.762,0,5-2.238,5-5V104.73   C77.16,101.969,74.922,99.73,72.16,99.73z" />\n            <path d="M41.066,0.341C18.422,0.341,0,18.743,0,41.362C0,63.991,18.422,82.4,41.066,82.4   c22.626,0,41.033-18.41,41.033-41.038C82.1,18.743,63.692,0.341,41.066,0.341z" />\n            <path d="M230.454,94.761c-24.995,0-43.472,10.745-54.679,22.954V104.73c0-2.761-2.238-5-5-5h-59.599   c-2.762,0-5,2.239-5,5v199.928c0,2.762,2.238,5,5,5h62.097c2.762,0,5-2.238,5-5v-98.918c0-33.333,9.054-46.319,32.29-46.319   c25.306,0,27.317,20.818,27.317,48.034v97.204c0,2.762,2.238,5,5,5H305c2.762,0,5-2.238,5-5V194.995   C310,145.43,300.549,94.761,230.454,94.761z" />\n        </g>\n    </svg>\n';function Gm(e){return(Gm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Km(e,t,r){return t&&$m(e.prototype,t),r&&$m(e,r),e}function Ym(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xm(e,t)}function Xm(e,t){return(Xm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zm(e){var t=eg();return function(){var r,n=tg(e);if(t){var o=tg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Jm(this,r)}}function Jm(e,t){return!t||"object"!==Gm(t)&&"function"!=typeof t?Qm(e):t}function Qm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ng=function(e){Ym(r,e);var t=Zm(r);function r(e){var n;return qm(this,r),rg(Qm(n=t.call(this,e)),"shareDropdownInput",void 0),rg(Qm(n),"onShareOnEmail",(function(){n.props.featureTracker.usage(av.SHARE_EMAIL),n.props.trackOnceMixpanel("reader3_interaction_share_email"),n.props.dispatch(bm(n.props.documentTitle,n.props.documentUrl)),n.props.dispatch(Sh())})),rg(Qm(n),"onShareOnFacebook",(function(){n.props.featureTracker.usage(av.SHARE_FACEBOOK),n.props.trackOnceMixpanel("reader3_interaction_share_facebook"),n.props.dispatch(wm(n.props.documentUrl)),n.props.dispatch(Sh())})),rg(Qm(n),"onShareOnTwitter",(function(){n.props.featureTracker.usage(av.SHARE_TWITTER),n.props.trackOnceMixpanel("reader3_interaction_share_twitter"),n.props.dispatch(Em(n.props.documentTitle,n.props.documentUrl)),n.props.dispatch(Sh())})),rg(Qm(n),"onShareOnPinterest",(function(){n.props.featureTracker.usage(av.SHARE_PINTEREST),n.props.trackOnceMixpanel("reader3_interaction_share_pinterest"),n.props.dispatch(Om(n.props.documentUrl,n.props.coverImageUrl,n.props.documentTitle)),n.props.dispatch(Sh())})),rg(Qm(n),"onShareOnLinkedIn",(function(){n.props.featureTracker.usage(av.SHARE_LINKEDIN),n.props.trackOnceMixpanel("reader3_interaction_share_linkedin"),n.props.dispatch(Tm(n.props.documentUrl)),n.props.dispatch(Sh())})),rg(Qm(n),"onCopy",(function(){n.props.trackOnceMixpanel("reader3_interaction_share_copy")})),rg(Qm(n),"onDimmerClick",(function(){n.props.toggleShareDropdown("SHARE")})),rg(Qm(n),"makeHTMLContentAccessible",(function(e,t){return"".concat(e,'<span class="hidden-accessible-text">').concat(t,"</span>")})),n.shareDropdownInput=c.createRef(),n}return Km(r,[{key:"componentDidUpdate",value:function(){var e=this.shareDropdownInput.current;e&&this.props.visible&&(e.setSelectionRange(0,e.value.length),this.props.featureTracker.opportunity(av.SHARE_EMAIL),this.props.featureTracker.opportunity(av.SHARE_FACEBOOK),this.props.featureTracker.opportunity(av.SHARE_TWITTER),this.props.featureTracker.opportunity(av.SHARE_PINTEREST))}},{key:"render",value:function(){var e=this.props,t=e.documentUrl,r=e.shouldShowPublisherPreviewMessage;return c.createElement("div",{className:"share-dropdown share-dropdown--blurred"},c.createElement("div",{className:"share-dropdown__dimmer",onClick:this.onDimmerClick}),!r&&c.createElement("div",{className:"share-dropdown__inner"},c.createElement("div",{className:"share-dropdown__social-buttons"},c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--facebook",onClick:this.onShareOnFacebook,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Um,"Share publication on Facebook")},href:"#","data-tooltip":"Facebook"}),c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--linkedin",onClick:this.onShareOnLinkedIn,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Vm,"Share publication on LinkedIn")},href:"#","data-tooltip":"LinkedIn"}),c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--twitter",onClick:this.onShareOnTwitter,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Wm,"Share publication on Twitter")},href:"#","data-tooltip":"Twitter"}),c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--pinterest",onClick:this.onShareOnPinterest,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(zm,"Share publication on Pinterest")},href:"#","data-tooltip":"Pinterest"}),c.createElement("a",{className:"share-dropdown__social-button share-dropdown__social-button--mailto",onClick:this.onShareOnEmail,dangerouslySetInnerHTML:{__html:this.makeHTMLContentAccessible(Hm,"Share publication on E-mail")},href:"#","data-tooltip":"E-mail"})),c.createElement("div",{className:"share-dropdown__direct-link"},c.createElement("input",{className:"share-dropdown__input",readOnly:!0,"aria-label":"document url",type:"text",value:t,ref:this.shareDropdownInput}),c.createElement(Fm,{successText:"COPIED!",copyText:t,onCopied:this.onCopy},"COPY"))),r&&c.createElement("div",{className:"share-dropdown__inner"},c.createElement("p",{className:"share_dropdownn__publisher_preview_message"},"You are looking at a preview. Please use a real version to test this functionality.")))}}]),r}(c.Component);rg(ng,"displayName","ShareDropdown");var og='d="M7.593 13.866c.07.072.153.13.247.165.08.04.16.06.26.06l.01.005c.18 0 .36-.08.5-.223l4.037-4.016c.282-.253.282-.688 0-.967-.258-.277-.697-.277-.978 0L8.8 11.723V.732C8.8.357 8.48.04 8.1.04 7.72.04 7.4.356 7.4.73v10.992L4.52 8.885c-.26-.277-.7-.277-.98 0-.28.258-.28.693 0 .97l4.053 4.01zm6.398 3.228L2 17.1c-2.02 0-1.24-1.356.02-1.356l11.975-.005c1.26 0 2.024 1.36.005 1.36l-.01-.006z" fill="#F2F2F2" fill-rule="evenodd"',ig='<svg width="16" height="18" viewBox="-2 0 20 18" xmlns="http://www.w3.org/2000/svg">\n  <path class="shadow" '.concat(og,'></path>\n  <path class="icon" ').concat(og,"></path>\n</svg>"),ag=function(e){var t,r,n=e.downloadButtonStatus,o=e.onDownloadButtonClick,i=Wf()("header-controls__button","header-controls__download",{"is-visible":!0,"is-loading":"DOWNLOAD_LOADING"===n,"is-failure":"DOWNLOAD_FAILURE"===n,spinner:"DOWNLOAD_LOADING"===n});switch(n){case"DOWNLOAD_LOADING":t=ff,r="Downloading";break;case"DOWNLOAD_FAILURE":t=p,r="Failed to download";break;default:t=ig,r="Download"}return l.a.createElement("div",{className:"header-controls__item"},l.a.createElement("div",{className:"header-controls__download--tooltip header-controls__download-protected--tooltip","data-tooltip":r},l.a.createElement("div",{className:i,onClick:o,dangerouslySetInnerHTML:{__html:t}})))},sg=Lo((function(e){return e.features.controls}),(function(e){for(var t=0;t<e.length;t++)if("FEATURE_DOWNLOAD_PROTECTED"===e[t].type)return e[t]})),ug=Lo((function(e){return e.features.controls}),(function(e){for(var t=0;t<e.length;t++)if("FEATURE_DOWNLOAD"===e[t].type)return e[t]})),cg=Lo(ug,(function(e){return e.metadata.downloadable}),$s,Ja,sg,Na,(function(e,t,r,n,o,i){return t&&!n&&!(!(i&&!(!e||r))&&!o)}));function lg(e,t){e({type:t}),window.setTimeout((function(){e({type:"DOWNLOAD_READY"})}),2e3)}function fg(){return function(e,t){var r=t(),n=Qa(r);if(n){var o=r.config.origins.api,i="".concat(o,"/call/reader/api/purchased-download/").concat(n);return window.open(i,"_top"),lg(e,"DOWNLOAD_SUCCESS")}return lg(e,"DOWNLOAD_FAILURE")}}function pg(){return function(e,t){var r=t(),n=r.config.origins.api,o=Ho(r).documentId,i="".concat(n,"/query?action=issuu.document.download&documentId=").concat(o,"&format=json");e({type:"DOWNLOAD_LOADING"}),fetch(i).then((function(e){return e.json()})).then((function(t){window.open(t.rsp._content.redirect.url,"_top"),lg(e,"DOWNLOAD_SUCCESS")})).catch((function(){lg(e,"DOWNLOAD_FAILURE")}))}}function dg(){return function(e,t){var r=t();return"DOWNLOAD_READY"===r.download.status?(e(Sh()),r.featureTracker.usage(av.BUTTON_DOWNLOAD),sg(r)?e(fg()):e(pg())):e(Sh())}}var hg=function(e){return{downloadButtonStatus:e.download.status}},vg=function(e,t){var r=t.onClick;return{onDownloadButtonClick:function(){Zr(dg,e)(),r&&r()}}},yg=Zn(hg,vg,void 0,{pure:!0})(ag),mg="READ_MORE_LOAD_SUCCESS",gg="READ_MORE_LOAD_FAILURE",_g="SHOW_MORE_DROPDOWN",bg="CLOSE_MORE_DROPDOWN";function wg(){return{type:mg}}function Eg(){return{type:gg}}function Og(){return{type:_g}}function Tg(){return{type:bg}}function xg(e){return function(t,r){if(e){var n=r(),o=Ho(n);e.load(n.config.origins.api,o.publicationId,o.username,Ia(n),Da(n)).then((function(e){e&&t(wg())})).catch((function(){t(Eg())}))}}}var kg={loaded:!1,exitedFullscreen:!1,forceOverlay:!1};function Sg(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kg,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mg:return Object.assign({},e,{loaded:!0});case _g:return Object.assign({},e,{forceOverlay:!1});case bg:return Object.assign({},e,{exitedFullscreen:!1});case ql.ENTER_FULLSCREEN:var r=t.fullscreenMethod===Fl;return r?e:Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case ql.EXIT_FULLSCREEN:return Object.assign({},e,{exitedFullscreen:!0,forceOverlay:!0});case"EMBED_PREVIEW":return Object.assign({},kg);default:return e}}}var Pg="TOGGLE_DROPDOWN";function Cg(e){return{type:Pg,dropdown:e}}function Ag(e){return(Ag="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jg(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ig(e,t,r){return t&&jg(e.prototype,t),r&&jg(e,r),e}function Dg(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mg(e,t)}function Mg(e,t){return(Mg=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lg(e){var t=Fg();return function(){var r,n=Ug(e);if(t){var o=Ug(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ng(this,r)}}function Ng(e,t){return!t||"object"!==Ag(t)&&"function"!=typeof t?Bg(e):t}function Bg(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fg(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ug(e){return(Ug=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wg(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zg=function(e){Dg(r,e);var t=Lg(r);function r(e){var n;return Rg(this,r),Wg(Bg(n=t.call(this,e)),"inputHandler",void 0),Wg(Bg(n),"headerControlsContainer",void 0),Wg(Bg(n),"onMoreToggleClick",(function(){n.props.readMoreDropdownVisible?n.props.dispatch(Tg()):n.props.readMorePlugin&&(n.props.readMorePlugin.clearButtonUnreadCount(),n.props.dispatch(Og()),n.props.featureTracker.usage(av.BUTTON_MORE)),n.props.trackOnceMixpanel("reader3_interaction_read_more"),n.props.dispatch(Sh())})),Wg(Bg(n),"onNavigationLinkClick",(function(){if(n.props.navigationLinkFeature){var e=n.props.navigationLinkFeature.url;n.props.dispatch(Sh()),n.props.featureTracker.usage(av.NAVIGATION_LINK),window.open(e,"_self")}})),Wg(Bg(n),"toggleShareDropdown",(function(e){n.props.dispatch(Cg(e)),n.props.trackOnceMixpanel("reader3_interaction_share_menu_open")})),Wg(Bg(n),"onDownload",(function(){n.props.trackOnceMixpanel("reader3_interaction_download")})),Wg(Bg(n),"trackOpportunities",(function(){n.props.shouldRenderReadMoreButton&&n.props.featureTracker.opportunity(av.BUTTON_MORE),n.props.shouldRenderShareButton&&n.props.featureTracker.opportunity(av.BUTTON_SHARE),n.props.shouldRenderDownloadButton&&n.props.featureTracker.opportunity(av.BUTTON_DOWNLOAD),n.props.navigationLinkFeature&&n.props.featureTracker.opportunity(av.NAVIGATION_LINK)})),n.headerControlsContainer=c.createRef(),n}return Ig(r,[{key:"componentDidMount",value:function(){var e=this,t=this.headerControlsContainer.current;this.inputHandler=new Nd(t,{onMouseEnter:function(t){e.props.isVisible&&e.props.dispatch(Tc(!0))},onMouseLeave:function(t){e.props.dispatch(Tc(!1))}}),this.trackOpportunities()}},{key:"componentDidUpdate",value:function(e){this.trackOpportunities()}},{key:"render",value:function(){var e=Wf()("header-controls",{"is-visible":this.props.isVisible}),t=Wf()("header-controls__share-dropdown-wrapper",{"is-visible":this.props.shareDropdownVisible}),r=Wf()({"is-visible":!ia.isMobile()});return c.createElement("div",{ref:this.headerControlsContainer,className:e},c.createElement("div",{className:"header-controls__background"}),c.createElement("div",{className:"header-controls__items"},this.props.navigationLinkFeature&&c.createElement("div",{className:"header-controls__item"},c.createElement("div",{className:"header-controls__navigation-link",onClick:this.onNavigationLinkClick},c.createElement("div",{dangerouslySetInnerHTML:{__html:this.props.navigationLinkFeature.icon}}),this.props.navigationLinkFeature.text&&c.createElement("span",{className:r},this.props.navigationLinkFeature.text))),this.props.shouldRenderDownloadButton&&c.createElement(yg,{onClick:this.onDownload}),c.createElement("div",{className:"header-controls__item header-controls__item--spacer"}),this.props.shouldRenderReadMoreButton&&c.createElement("div",{className:Wf()("header-controls__item",{"header-controls__item--centered":ia.isMobile()&&this.props.readMoreButtonCentered})},c.createElement("div",{className:Wf()("header-controls__more-toggle",{"header-controls__more-toggle--activated":this.props.readMoreDropdownVisible}),onClick:this.onMoreToggleClick},c.createElement("span",{className:"header-controls__more-toggle-text-wrapper"},"Read More",this.props.readMoreButtonUnreadCount>0&&c.createElement("div",{className:"header-controls__morecount"},this.props.readMoreButtonUnreadCount)))),this.props.shouldRenderShareButton&&c.createElement("div",{className:"header-controls__item"},c.createElement(pm,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,toggleShareDropdown:this.toggleShareDropdown}),c.createElement("div",{className:t},c.createElement(ng,{dispatch:this.props.dispatch,documentTitle:this.props.documentTitle,documentUrl:this.props.documentUrl,coverImageUrl:this.props.coverImageUrl,featureTracker:this.props.featureTracker,trackOnceMixpanel:this.props.trackOnceMixpanel,toggleShareDropdown:this.toggleShareDropdown,visible:this.props.shareDropdownVisible,shouldShowPublisherPreviewMessage:this.props.shareShouldShowPublisherPreviewMessage})))))}}]),r}(c.Component);Wg(zg,"displayName","HeaderControls");var Hg=Lo((function(e){return e.readMorePlugin}),(function(e){return e.readmore.loaded}),Ls,(function(e,t,r){return!(!e||!t||r===ts)})),Vg=function(e){var t=e.readMorePlugin;return t&&t.getButtonUnreadCount()||0},Gg=Lo(Hg,(function(e){return e.readMorePlugin}),$s,Ts,Ia,Da,(function(e,t,r,n,o,i){return!(!e||r||!t)&&t.shouldRenderButton(o,i,n)})),qg=(Lo(Hg,(function(e){return e.readMorePlugin}),Ia,Da,(function(e,t,r,n){return e&&t&&t.shouldRenderExitFullscreenOverlay(r,n)})),Lo(Hg,(function(e){return e.readMorePlugin}),(function(e){return e.readmore.forceOverlay}),(function(e){return e.size.width}),(function(e){return e.size.height}),(function(e,t,r,n,o){if(e&&t){var i=n<o,a=!i,s=aa();return r||t.shouldAlwaysBeOverlay()||i&&n<=414*s||a&&n<=736*s}return!1}))),$g=Lo(_s,(function(e){return!(!e||!e.showPublisherPreviewMessage)})),Kg=Lo(Ho,Ca,$s,Ts,$g,_s,(function(e,t,r,n,o,i){var a=e.username,s=e.documentName;return!(!i||i.customizedToNotShow&&t||r||i.hideWhenNotInFullscreen&&!n||!(o||a&&s))})),Yg=Lo((function(e){return e.headerControls}),(function(e){return"SHARE"===e.visibleDropdown})),Xg=function(e){return{coverImageUrl:Ho(e).coverUri,documentTitle:Ho(e).title,documentUrl:Vs(e),featureTracker:e.featureTracker,navigationLinkFeature:gs(e),readMorePlugin:e.readMorePlugin,shouldRenderDownloadButton:cg(e),shouldRenderReadMoreButton:Gg(e),shouldRenderShareButton:Kg(e),readMoreButtonCentered:!Ja(e)&&window.innerWidth<window.innerHeight,readMoreButtonUnreadCount:Vg(e),isVisible:Ds(e)&&(Gg(e)||Kg(e)||cg(e)||!!gs(e)),readMoreDropdownVisible:qs(e),shareDropdownVisible:Yg(e),shareShouldShowPublisherPreviewMessage:$g(e)}},Zg=Zn(Xg,void 0,void 0,{pure:!0})(zg),Jg=(r(90),r(143),r(82),r(348),1e-6),Qg="undefined"!=typeof Float32Array?Float32Array:Array,e_=Math.random;Math.PI;function t_(){var e=new Qg(6);return Qg!=Float32Array&&(e[1]=0,e[2]=0,e[4]=0,e[5]=0),e[0]=1,e[3]=1,e}function r_(e){var t=new Qg(6);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function n_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function o_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function i_(e,t,r,n,o,i){var a=new Qg(6);return a[0]=e,a[1]=t,a[2]=r,a[3]=n,a[4]=o,a[5]=i,a}function a_(e,t,r,n,o,i,a){return e[0]=t,e[1]=r,e[2]=n,e[3]=o,e[4]=i,e[5]=a,e}function s_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=r*i-n*o;return u?(u=1/u,e[0]=i*u,e[1]=-n*u,e[2]=-o*u,e[3]=r*u,e[4]=(o*s-i*a)*u,e[5]=(n*a-r*s)*u,e):null}function u_(e){return e[0]*e[3]-e[1]*e[2]}function c_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1],f=r[2],p=r[3],d=r[4],h=r[5];return e[0]=n*c+i*l,e[1]=o*c+a*l,e[2]=n*f+i*p,e[3]=o*f+a*p,e[4]=n*d+i*h+s,e[5]=o*d+a*h+u,e}function l_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=Math.sin(r),l=Math.cos(r);return e[0]=n*l+i*c,e[1]=o*l+a*c,e[2]=n*-c+i*l,e[3]=o*-c+a*l,e[4]=s,e[5]=u,e}function f_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n*c,e[1]=o*c,e[2]=i*l,e[3]=a*l,e[4]=s,e[5]=u,e}function p_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=r[0],l=r[1];return e[0]=n,e[1]=o,e[2]=i,e[3]=a,e[4]=n*c+i*l+s,e[5]=o*c+a*l+u,e}function d_(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=-r,e[3]=n,e[4]=0,e[5]=0,e}function h_(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=t[1],e[4]=0,e[5]=0,e}function v_(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=t[0],e[5]=t[1],e}function y_(e){return"mat2d("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+")"}function m_(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],1)}function g_(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e}function __(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e}function b_(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e}function w_(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e}function E_(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]}function O_(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=t[0],c=t[1],l=t[2],f=t[3],p=t[4],d=t[5];return Math.abs(r-u)<=Jg*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-c)<=Jg*Math.max(1,Math.abs(n),Math.abs(c))&&Math.abs(o-l)<=Jg*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(i-f)<=Jg*Math.max(1,Math.abs(i),Math.abs(f))&&Math.abs(a-p)<=Jg*Math.max(1,Math.abs(a),Math.abs(p))&&Math.abs(s-d)<=Jg*Math.max(1,Math.abs(s),Math.abs(d))}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var T_=c_,x_=__;function k_(){var e=new Qg(9);return Qg!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function S_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[4],e[4]=t[5],e[5]=t[6],e[6]=t[8],e[7]=t[9],e[8]=t[10],e}function P_(e){var t=new Qg(9);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function C_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function A_(e,t,r,n,o,i,a,s,u){var c=new Qg(9);return c[0]=e,c[1]=t,c[2]=r,c[3]=n,c[4]=o,c[5]=i,c[6]=a,c[7]=s,c[8]=u,c}function R_(e,t,r,n,o,i,a,s,u,c){return e[0]=t,e[1]=r,e[2]=n,e[3]=o,e[4]=i,e[5]=a,e[6]=s,e[7]=u,e[8]=c,e}function j_(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function I_(e,t){if(e===t){var r=t[1],n=t[2],o=t[5];e[1]=t[3],e[2]=t[6],e[3]=r,e[5]=t[7],e[6]=n,e[7]=o}else e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8];return e}function D_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=l*a-s*c,p=-l*i+s*u,d=c*i-a*u,h=r*f+n*p+o*d;return h?(h=1/h,e[0]=f*h,e[1]=(-l*n+o*c)*h,e[2]=(s*n-o*a)*h,e[3]=p*h,e[4]=(l*r-o*u)*h,e[5]=(-s*r+o*i)*h,e[6]=d*h,e[7]=(-c*r+n*u)*h,e[8]=(a*r-n*i)*h,e):null}function M_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8];return e[0]=a*l-s*c,e[1]=o*c-n*l,e[2]=n*s-o*a,e[3]=s*u-i*l,e[4]=r*l-o*u,e[5]=o*i-r*s,e[6]=i*c-a*u,e[7]=n*u-r*c,e[8]=r*a-n*i,e}function L_(e){var t=e[0],r=e[1],n=e[2],o=e[3],i=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*(c*i-a*u)+r*(-c*o+a*s)+n*(u*o-i*s)}function N_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=r[0],d=r[1],h=r[2],v=r[3],y=r[4],m=r[5],g=r[6],_=r[7],b=r[8];return e[0]=p*n+d*a+h*c,e[1]=p*o+d*s+h*l,e[2]=p*i+d*u+h*f,e[3]=v*n+y*a+m*c,e[4]=v*o+y*s+m*l,e[5]=v*i+y*u+m*f,e[6]=g*n+_*a+b*c,e[7]=g*o+_*s+b*l,e[8]=g*i+_*u+b*f,e}function B_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=r[0],d=r[1];return e[0]=n,e[1]=o,e[2]=i,e[3]=a,e[4]=s,e[5]=u,e[6]=p*n+d*a+c,e[7]=p*o+d*s+l,e[8]=p*i+d*u+f,e}function F_(e,t,r){var n=t[0],o=t[1],i=t[2],a=t[3],s=t[4],u=t[5],c=t[6],l=t[7],f=t[8],p=Math.sin(r),d=Math.cos(r);return e[0]=d*n+p*a,e[1]=d*o+p*s,e[2]=d*i+p*u,e[3]=d*a-p*n,e[4]=d*s-p*o,e[5]=d*u-p*i,e[6]=c,e[7]=l,e[8]=f,e}function U_(e,t,r){var n=r[0],o=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=o*t[3],e[4]=o*t[4],e[5]=o*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function W_(e,t){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=t[0],e[7]=t[1],e[8]=1,e}function z_(e,t){var r=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=r,e[2]=0,e[3]=-r,e[4]=n,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function H_(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=t[1],e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function V_(e,t){return e[0]=t[0],e[1]=t[1],e[2]=0,e[3]=t[2],e[4]=t[3],e[5]=0,e[6]=t[4],e[7]=t[5],e[8]=1,e}function G_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=r+r,s=n+n,u=o+o,c=r*a,l=n*a,f=n*s,p=o*a,d=o*s,h=o*u,v=i*a,y=i*s,m=i*u;return e[0]=1-f-h,e[3]=l-m,e[6]=p+y,e[1]=l+m,e[4]=1-c-h,e[7]=d-v,e[2]=p-y,e[5]=d+v,e[8]=1-c-f,e}function q_(e,t){var r=t[0],n=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=t[8],f=t[9],p=t[10],d=t[11],h=t[12],v=t[13],y=t[14],m=t[15],g=r*s-n*a,_=r*u-o*a,b=r*c-i*a,w=n*u-o*s,E=n*c-i*s,O=o*c-i*u,T=l*v-f*h,x=l*y-p*h,k=l*m-d*h,S=f*y-p*v,P=f*m-d*v,C=p*m-d*y,A=g*C-_*P+b*S+w*k-E*x+O*T;return A?(A=1/A,e[0]=(s*C-u*P+c*S)*A,e[1]=(u*k-a*C-c*x)*A,e[2]=(a*P-s*k+c*T)*A,e[3]=(o*P-n*C-i*S)*A,e[4]=(r*C-o*k+i*x)*A,e[5]=(n*k-r*P-i*T)*A,e[6]=(v*O-y*E+m*w)*A,e[7]=(y*b-h*O-m*_)*A,e[8]=(h*E-v*b+m*g)*A,e):null}function $_(e,t,r){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}function K_(e){return"mat3("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+", "+e[4]+", "+e[5]+", "+e[6]+", "+e[7]+", "+e[8]+")"}function Y_(e){return Math.hypot(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8])}function X_(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e[4]=t[4]+r[4],e[5]=t[5]+r[5],e[6]=t[6]+r[6],e[7]=t[7]+r[7],e[8]=t[8]+r[8],e}function Z_(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e[4]=t[4]-r[4],e[5]=t[5]-r[5],e[6]=t[6]-r[6],e[7]=t[7]-r[7],e[8]=t[8]-r[8],e}function J_(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*r,e}function Q_(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e[4]=t[4]+r[4]*n,e[5]=t[5]+r[5]*n,e[6]=t[6]+r[6]*n,e[7]=t[7]+r[7]*n,e[8]=t[8]+r[8]*n,e}function eb(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]}function tb(e,t){var r=e[0],n=e[1],o=e[2],i=e[3],a=e[4],s=e[5],u=e[6],c=e[7],l=e[8],f=t[0],p=t[1],d=t[2],h=t[3],v=t[4],y=t[5],m=t[6],g=t[7],_=t[8];return Math.abs(r-f)<=Jg*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-p)<=Jg*Math.max(1,Math.abs(n),Math.abs(p))&&Math.abs(o-d)<=Jg*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(i-h)<=Jg*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-v)<=Jg*Math.max(1,Math.abs(a),Math.abs(v))&&Math.abs(s-y)<=Jg*Math.max(1,Math.abs(s),Math.abs(y))&&Math.abs(u-m)<=Jg*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(c-g)<=Jg*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(l-_)<=Jg*Math.max(1,Math.abs(l),Math.abs(_))}var rb=N_,nb=Z_;function ob(){var e=new Qg(2);return Qg!=Float32Array&&(e[0]=0,e[1]=0),e}function ib(e){var t=new Qg(2);return t[0]=e[0],t[1]=e[1],t}function ab(e,t){var r=new Qg(2);return r[0]=e,r[1]=t,r}function sb(e,t){return e[0]=t[0],e[1]=t[1],e}function ub(e,t,r){return e[0]=t,e[1]=r,e}function cb(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e}function lb(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e}function fb(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e}function pb(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e}function db(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e}function hb(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e}function vb(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e}function yb(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e}function mb(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e}function gb(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e}function _b(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e}function bb(e,t){var r=t[0]-e[0],n=t[1]-e[1];return Math.hypot(r,n)}function wb(e,t){var r=t[0]-e[0],n=t[1]-e[1];return r*r+n*n}function Eb(e){var t=e[0],r=e[1];return Math.hypot(t,r)}function Ob(e){var t=e[0],r=e[1];return t*t+r*r}function Tb(e,t){return e[0]=-t[0],e[1]=-t[1],e}function xb(e,t){return e[0]=1/t[0],e[1]=1/t[1],e}function kb(e,t){var r=t[0],n=t[1],o=r*r+n*n;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e}function Sb(e,t){return e[0]*t[0]+e[1]*t[1]}function Pb(e,t,r){var n=t[0]*r[1]-t[1]*r[0];return e[0]=e[1]=0,e[2]=n,e}function Cb(e,t,r,n){var o=t[0],i=t[1];return e[0]=o+n*(r[0]-o),e[1]=i+n*(r[1]-i),e}function Ab(e,t){t=t||1;var r=2*e_()*Math.PI;return e[0]=Math.cos(r)*t,e[1]=Math.sin(r)*t,e}function Rb(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[2]*o,e[1]=r[1]*n+r[3]*o,e}function jb(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[2]*o+r[4],e[1]=r[1]*n+r[3]*o+r[5],e}function Ib(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[3]*o+r[6],e[1]=r[1]*n+r[4]*o+r[7],e}function Db(e,t,r){var n=t[0],o=t[1];return e[0]=r[0]*n+r[4]*o+r[12],e[1]=r[1]*n+r[5]*o+r[13],e}function Mb(e,t,r,n){var o=t[0]-r[0],i=t[1]-r[1],a=Math.sin(n),s=Math.cos(n);return e[0]=o*s-i*a+r[0],e[1]=o*a+i*s+r[1],e}function Lb(e,t){var r=e[0],n=e[1],o=t[0],i=t[1],a=Math.sqrt(r*r+n*n)*Math.sqrt(o*o+i*i),s=a&&(r*o+n*i)/a;return Math.acos(Math.min(Math.max(s,-1),1))}function Nb(e){return e[0]=0,e[1]=0,e}function Bb(e){return"vec2("+e[0]+", "+e[1]+")"}function Fb(e,t){return e[0]===t[0]&&e[1]===t[1]}function Ub(e,t){var r=e[0],n=e[1],o=t[0],i=t[1];return Math.abs(r-o)<=Jg*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-i)<=Jg*Math.max(1,Math.abs(n),Math.abs(i))}var Wb,zb=Eb,Hb=lb,Vb=fb,Gb=pb,qb=bb,$b=wb,Kb=Ob,Yb=(Wb=ob(),function(e,t,r,n,o,i){var a,s;for(t||(t=2),r||(r=0),s=n?Math.min(n*t+r,e.length):e.length,a=r;a<s;a+=t)Wb[0]=e[a],Wb[1]=e[a+1],o(Wb,Wb,i),e[a]=Wb[0],e[a+1]=Wb[1];return e});function Xb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zb(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Jb(e,t,r){return t&&Zb(e.prototype,t),r&&Zb(e,r),e}function Qb(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ew=i.create(),tw=i.create();function rw(e){return e}var nw=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Xb(this,e),Qb(this,"matrix",void 0),this.matrix=t||n.create()}return Jb(e,[{key:"inverse",value:function(){var t=n.create();return n.invert(t,this.matrix),new e(t)}},{key:"isIdentityMatrix",value:function(){return 1===this.matrix[0]&&0===this.matrix[1]&&0===this.matrix[2]&&1===this.matrix[3]&&0===this.matrix[4]&&0===this.matrix[5]}},{key:"isEqualWith",value:function(e){for(var t=0;t<this.matrix.length;t++)if(this.matrix[t]!==e.matrix[t])return!1;return!0}},{key:"multiply",value:function(t){var r=n.create();return n.multiply(r,this.matrix,t.matrix),new e(r)}},{key:"mReset",value:function(){return n.identity(this.matrix),this}},{key:"mMultiply",value:function(e){return n.multiply(this.matrix,this.matrix,e.matrix),this}},{key:"mTranslate",value:function(e,t){var r=n.create();return n.translate(r,this.matrix,i.fromValues(e,t)),this.matrix=r,this}},{key:"mScale",value:function(e){var t=n.create();return n.scale(t,this.matrix,i.fromValues(e,e)),this.matrix=t,this}},{key:"mSet",value:function(e,t,r,n,o,i){return this.matrix[0]=e,this.matrix[1]=t,this.matrix[2]=r,this.matrix[3]=n,this.matrix[4]=o,this.matrix[5]=i,this}},{key:"mSetMatrix",value:function(e){return this.mSet(e[0],e[1],e[2],e[3],e[4],e[5])}},{key:"transformPoint",value:function(e,t){var r=i.create();return i.transformMat2d(r,i.fromValues(e,t),this.matrix),Array.from(r).map(rw)}},{key:"transformRect",value:function(e){i.transformMat2d(ew,i.set(ew,e.x,e.y),this.matrix),i.transformMat2d(tw,i.set(tw,e.x+e.width,e.y+e.height),this.matrix);var t=Math.min(ew[0],tw[0]),r=Math.max(ew[0],tw[0]),n=Math.min(ew[1],tw[1]),o=Math.max(ew[1],tw[1]);return e.x=t,e.y=n,e.width=r-t,e.height=o-n,e}},{key:"transformCanvasCtx",value:function(e){e.transform(this.matrix[0],this.matrix[1],this.matrix[2],this.matrix[3],this.matrix[4],this.matrix[5])}}]),e}();function ow(e,t){var r=e.x,n=e.x+e.width,o=t.x,i=t.x+t.width,a=e.y,s=e.y+e.height,u=t.y,c=t.y+t.height,l=Math.max(0,Math.min(n,i)-Math.max(r,o))*Math.max(0,Math.min(s,c)-Math.max(a,u));return l>0?l/(t.width*t.height):0}function iw(e,t,r){return e>=r.x&&e<r.x+r.width&&t>=r.y&&t<r.y+r.height}function aw(e,t,r,n){return r/e<=n/t?r/e:n/t}function sw(e){return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uw(Object(r),!0).forEach((function(t){Sw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lw(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fw(e,t)}function fw(e,t){return(fw=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pw(e){var t=vw();return function(){var r,n=yw(e);if(t){var o=yw(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dw(this,r)}}function dw(e,t){return!t||"object"!==sw(t)&&"function"!=typeof t?hw(e):t}function hw(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vw(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function yw(e){return(yw=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mw(e){return bw(e)||_w(e)||Ew(e)||gw()}function gw(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _w(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function bw(e){if(Array.isArray(e))return Ow(e)}function ww(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Ew(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function Ew(e,t){if(e){if("string"==typeof e)return Ow(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ow(e,t):void 0}}function Ow(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xw(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kw(e,t,r){return t&&xw(e.prototype,t),r&&xw(e,r),e}function Sw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Pw={_pool:[],created:0,get:function(e,t,r,n){var o=this._pool.pop();return o?(o.x=e,o.y=t,o.width=r,o.height=n,o):(this.created++,{x:e,y:t,width:r,height:n})},release:function(e){this._pool.push(e)},unreleasedCount:function(){return this.created-this._pool.length}},Cw=function(){function e(t,r){Tw(this,e),Sw(this,"props",void 0),Sw(this,"parent",void 0),Sw(this,"_pendingRedraw",!1),Sw(this,"children",[]),Sw(this,"_transform",void 0),Sw(this,"__store__",void 0),Sw(this,"owner",void 0),this.props=t,this.parent=r}return kw(e,[{key:"getChildTree",value:function(){return[]}},{key:"requestRedraw",value:function(){this.root._pendingRedraw=!0}},{key:"getChildrenToTraverse",value:function(){return this.children}},{key:"getVisibleChildren",value:function(){var t=Pw.get(0,0,this.width,this.height),r=[];return e.traverse(this,(function(e,n,o,i){return 0===i||(ow(t,n)&&e.isVisible&&r.push(e),!1)}),this.getViewportCTM()),Pw.release(t),r}},{key:"getVisibleDescendants",value:function(){var t=Pw.get(0,0,this.width,this.height),r=[];return e.traverse(this,(function(e,n,o,i){return 0===i||ow(t,n)&&e.isVisible&&r.push(e),!0}),this.getViewportCTM()),Pw.release(t),r}},{key:"overlaps",value:function(e){var t=this.bbox,r=ow(e,t);return Pw.release(t),r}},{key:"shouldComponentUpdate",value:function(e){if(this.props===e)return!1;var t=Object.keys(this.props),r=Object.keys(e);if(t.length!==r.length)return!0;for(var n=0;n<t.length;n++){var o=t[n];if(this.props[o]instanceof nw&&e[o]instanceof nw&&!this.props[o].isEqualWith(e[o]))return!0;if(this.props[o]!==e[o])return!0}return!1}},{key:"getViewportCTM",value:function(){var e=this.transform;return this.parent&&(e=this.parent.getViewportCTM().multiply(e)),e}},{key:"componentDidMount",value:function(){}},{key:"componentWillUpdate",value:function(e){}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"appendWebglOps",value:function(e,t,r){}},{key:"beforeDraw",value:function(e){}},{key:"draw",value:function(e,t){}},{key:"afterDraw",value:function(e){}},{key:"getCustomCursor",value:function(){return!1}},{key:"forceUpdate",value:function(){e.updateProps(this,this.props,!0)}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"inAnimation",get:function(){return!!this.parent&&this.parent.inAnimation}},{key:"hasPendingRedraw",get:function(){return this.root._pendingRedraw}},{key:"transform",get:function(){return this._transform||(this._transform=this.props.transform||new nw),this._transform}},{key:"viewportBBox",get:function(){return this.getViewportCTM().transformRect(Pw.get(0,0,this.width,this.height))}},{key:"bbox",get:function(){return this.transform.transformRect(Pw.get(0,0,this.width,this.height))}},{key:"width",get:function(){return this.props.width||0}},{key:"height",get:function(){return this.props.height||0}},{key:"zOrder",get:function(){return 0}},{key:"isVisible",get:function(){return!0}},{key:"displayName",get:function(){return Object.getPrototypeOf(this).constructor.name}}],[{key:"updateProps",value:function(t,r,n){var o={type:Object.getPrototypeOf(t).constructor,props:r};e.buildTree(o,t,t,null,n)}},{key:"buildTree",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(!t&&r)return r;var s=t.type,u=t.props;if(r){if(s.prototype!==Object.getPrototypeOf(r))throw new Error("Unsupported update. Trying to replace "+Object.getPrototypeOf(r).constructor.name+" with "+s.prototype.constructor.name);var c=Object.assign({},r.props,u),l=i||r.shouldComponentUpdate(c);l&&r.componentWillUpdate(c);var f=r.props;if(r.props=c,l){var p=r.getChildTree(!0),d=r.children||[];p.forEach((function(t,r){e.buildTree(t,d[r],n,null,i,a+1)})),r.componentDidUpdate(f),r.requestRedraw()}return r}var h=new s(u,o);return h.owner=n,h.children=h.getChildTree().map((function(t){return e.buildTree(t,r,h,h,i,a+1)})),h.componentDidMount(),h}},{key:"createElement",value:function(e,t){return{type:e,props:t}}},{key:"traverse",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new nw,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=n.transformRect(Pw.get(0,0,t.width,t.height));if(r(t,i,n,o)){var a=t.getChildrenToTraverse();if(a&&a.length){var s,u=a.slice(0).sort((function(e,t){return e.zOrder-t.zOrder})),c=ww(u);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=n.matrix[0],p=n.matrix[1],d=n.matrix[2],h=n.matrix[3],v=n.matrix[4],y=n.matrix[5];n.mMultiply(l.transform);var m=n.transformRect(Pw.get(0,0,l.width,l.height));ow(i,m)&&e.traverse(l,r,n,o+1),n.mSet(f,p,d,h,v,y),Pw.release(m)}}catch(e){c.e(e)}finally{c.f()}}Pw.release(i)}else Pw.release(i)}},{key:"drawWebgl",value:function(t,r,n){var o=r.gl;if(o){var i={width:o.drawingBufferWidth,height:o.drawingBufferHeight},a=[];e.drawTree(t,n,null,(function(e,t){e.appendWebglOps(a,t,i)})),o.clearColor(0,0,0,0),o.clearStencil(0),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT|o.STENCIL_BUFFER_BIT),a.forEach((function(e){var t,n,o,i,a,s,u,c;switch(e.type){case"tooltip-operation":(t=r.linkTooltip).draw.apply(t,mw(e.args));break;case"link-operation":(n=r.link).draw.apply(n,mw(e.args));break;case"shadow-operation":(o=r.shadowDraw).draw.apply(o,[r.shadow.depthMapTexture].concat(mw(e.args)));break;case"bending-page-operation":(i=r.bendingPage).draw.apply(i,mw(e.args));break;case"fill-bending-page-operation":(a=r.bendingPage).fill.apply(a,mw(e.args));break;case"depth-map-operation":(s=r.shadow).computeDepthMap.apply(s,mw(e.args));break;case"highlight-operation":(u=r.highlights).draw.apply(u,mw(e.args));break;case"highlight-flash-operation":(c=r.highlights).drawSelected.apply(c,mw(e.args));break;default:return Gc(e,"Unknown 3d operation")}}))}}},{key:"draw2d",value:function(t,r,n){r.clearRect(n.x,n.y,n.width,n.height),e.drawTree(t,n,null,(function(e,t){e.draw(r,t)}))}},{key:"drawTree",value:function(t,r,n,o){if(t._pendingRedraw&&(t._pendingRedraw=!1),t.isVisible){var i=n?new Float32Array(n.matrix):null;n?n.mMultiply(t.transform):n=(new nw).mMultiply(t.getViewportCTM());var a=n.transformRect(Pw.get(0,0,t.width,t.height));if(ow(r,a)){t.beforeDraw(a),o(t,a);var s=t.getChildrenToTraverse();s&&s.length&&s.slice(0).sort((function(e,t){return e.zOrder-t.zOrder})).forEach((function(t){return e.drawTree(t,r,n,o)})),t.afterDraw(a)}Pw.release(a),i&&n.mSetMatrix(i)}}},{key:"connect",value:function(t,r){return function(n){lw(i,n);var o=pw(i);function i(e,n){var a;Tw(this,i);var s=e.store||(null==n?void 0:n.root).__store__;if(!s)throw new Error("Cannot connect ".concat(t.toString(),": Cannot get store!"));var u=s.getState();return Sw(hw(a=o.call(this,cw(cw({},e),{},{dispatch:s.dispatch},r(u)),n)),"_unsubscribe",void 0),a}return kw(i,[{key:"componentDidMount",value:function(){var n=this,o=this.root.__store__;if(!o)throw new Error("Root component has no store, cannot connect");this._unsubscribe=o.subscribe((function(){var t=o.getState(),i=Object.assign({dispatch:o.dispatch},n.props,r(t));e.updateProps(n,i)})),t.prototype.componentDidMount.call(this)}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe(),t.prototype.componentWillUnmount.call(this)}},{key:"displayName",get:function(){return"Connected".concat(t.name)}}]),i}(t)}},{key:"unmountTree",value:function(t){if(t.children){var r,n=ww(t.children);try{for(n.s();!(r=n.n()).done;){var o=r.value;e.unmountTree(o)}}catch(e){n.e(e)}finally{n.f()}}t.componentWillUnmount()}}]),e}();Sw(Cw,"RectPool",Pw),Sw(Cw,"lastTick",0);r(349);var Aw="SET_CANVAS_API";function Rw(e){return{type:Aw,api:e}}var jw={getVisibleComponents:function(){return[]},getRenderedViews:function(e){return[]},getReadMode:function(){return"DOUBLE_PAGE_SPREAD"},getPageComponent:function(e){return null},goToPage:function(e){},goToSpread:function(e){},jumpToPage:function(e){},jumpToSpread:function(e){},setSnapping:function(e){},jumpToPositionByPercent:function(e){},zoomCurrentView:function(e){},getPosition:function(){},setPosition:function(e){}};function Iw(){return Rw(jw)}function Dw(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jw,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Aw:return Object.assign({},e,t.api);default:return e}}}function Mw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Mw(Object(r),!0).forEach((function(t){Nw(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mw(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bw="WEBGL_ERROR",Fw="ENABLE_WEBGL",Uw="DISABLE_WEBGL",Ww="SET_MAX_DRAWING_BUFFER_WIDTH",zw="SET_MAX_DRAWING_BUFFER_HEIGHT";function Hw(){return{type:Bw}}function Vw(){return{type:Fw}}function Gw(){return{type:Uw}}function qw(e){return{type:Ww,width:e}}function $w(e){return{type:zw,height:e}}var Kw=function(e){return{supportsWebGL:e,maxDrawingBufferWidth:6e3,maxDrawingBufferHeight:6e3,forceTo2D:!0}};function Yw(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kw(e),r=arguments.length>1?arguments[1]:void 0;switch(r.type){case Bw:return Lw(Lw({},t),{},{supportsWebGL:!1});case Fw:return Lw(Lw({},t),{},{forceTo2D:!1});case Uw:return Lw(Lw({},t),{},{forceTo2D:!0});case Ww:return Lw(Lw({},t),{},{maxDrawingBufferWidth:r.width});case zw:return Lw(Lw({},t),{},{maxDrawingBufferHeight:r.height});default:return t}}}var Xw=Lo((function(e){return e.canvasContext}),(function(e){return e.size}),(function(e,t){return!(!e.supportsWebGL||e.forceTo2D)&&(e.maxDrawingBufferWidth>=t.width&&e.maxDrawingBufferHeight>=t.height)}));function Zw(e){return"openUrl"===e.type&&"video"===e.urlType}function Jw(e){return"openUrl"===e.type&&"video"===e.urlType&&!!e.inlineData}function Qw(e){return"openUrl"===e.type&&"video"===e.urlType&&!!e.inlineData&&e.inlineData.isExplicit}function eE(e){return"openUrl"===e.type&&"shopping"===e.urlType}var tE=Lo(Es,Ns,wi,Ku,(function(e,t,r,n){return!!e&&(e.allowOnSmallReaders||!t)&&!r&&!n}));function rE(e,t){var r=[];return e.forEach((function(e){e.links.forEach((function(n){if(Jw(n)){var o=n;o.videoService===t&&r.push({link:o,pageWidth:e.width,pageHeight:e.height})}}))})),r}var nE=function(e){return e.links.loaded},oE=Lo(Xa,(function(e){return rE(e,"youtube")})),iE=Lo(Xa,(function(e){return rE(e,"vimeo")}));r(49),r(350);function aE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uE(e,t,r){return t&&sE(e.prototype,t),r&&sE(e,r),e}function cE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lE=1,fE=1e3/60,pE=1/fE,dE=.1/fE,hE=6/fE,vE=.11,yE=Math.ceil(250/fE)*fE,mE=100,gE="EASING_OUT",_E="EASING_IN_OUT",bE="EASING_OUT_EXPO",wE=function(e){return Math.pow(e-1,3)+1},EE=function(e){var t=2*e;return t<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)},OE=function(e){return 1-Math.pow(2,-10*e)};function TE(e,t,r){var n=Math.max(1,r);return{x:-t.x/n*.6+.4*e.x,y:-t.y/n*.6+.4*e.y}}function xE(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function kE(e,t,r,n,o,i,a){return{top:Math.max(Math.min(e,a-o/r),0),left:Math.max(Math.min(t,i-n/r),0),zoom:Math.max(Math.min(r,is),os)}}function SE(e,t,r){for(var n=0,o=e.x,i=e.y,a=0,s=0;Math.sqrt(o*o+i*i)>t;)n+=fE,a+=(o*=r)*fE,s+=(i*=r)*fE;return{duration:n,distanceX:a,distanceY:s}}var PE=function(){function e(t,r,n,o,i,a,s){aE(this,e),cE(this,"top",void 0),cE(this,"left",void 0),cE(this,"zoom",void 0),cE(this,"width",void 0),cE(this,"height",void 0),cE(this,"contentWidth",void 0),cE(this,"contentHeight",void 0),cE(this,"snap",void 0),cE(this,"snapFunction",void 0),cE(this,"scrollingX",void 0),cE(this,"scrollingY",void 0),cE(this,"_lastUpdate",void 0),cE(this,"_isMoving",void 0),cE(this,"_lastTouchPosition",void 0),cE(this,"_initialZoomLevel",void 0),cE(this,"_lastTouchTime",void 0),cE(this,"_velocity",void 0),cE(this,"_animate",void 0),cE(this,"_isDragging",void 0),cE(this,"_lastMoveTs",void 0),cE(this,"_animation",void 0),this.top=t,this.left=r,this.zoom=n,this.width=o,this.height=i,this.contentWidth=a,this.contentHeight=s,this.snap=!1,this.snapFunction=function(e,t,r){return{top:e,left:t,zoom:r}},this.scrollingX=!0,this.scrollingY=!0,this._lastUpdate={left:r,top:t,zoom:n},this._isMoving=!1,this._lastTouchPosition={x:0,y:0},this._initialZoomLevel=1,this._lastTouchTime=0,this._velocity={x:0,y:0},this._animate=!1,this._isDragging=!1,this._lastMoveTs=0}return uE(e,[{key:"touchStart",value:function(e,t,r){this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._initialZoomLevel=this.zoom,this._lastTouchTime=r,this._velocity={x:0,y:0},this._animate=!1,this._animation&&this._animation.deferred&&this._animation.deferred.resolve()}},{key:"touchMove",value:function(e,t,r,n){var o=this._lastTouchPosition,i=r-this._lastTouchTime,a=this.top,s=this.left,u=this.zoom;if(n){var c=this.zoom;(u=Math.max(Math.min(n*this._initialZoomLevel,is),os))!==c&&(s+=e/c-e/u,a+=t/c-t/u)}var l={x:(e-o.x)/u,y:(t-o.y)/u},f=TE(this._velocity,l,i);Math.abs(f.y/f.x)>=2&&(l.x=0),Math.abs(f.x/f.y)>=2&&(l.y=0),this.scrollingX||1!==u||(l.x=0),this.scrollingY||1!==u||(l.y=0),((s-=l.x*lE)>this.contentWidth-this.width/u||s<0)&&(s+=.8*l.x*lE),((a-=l.y*lE)>this.contentHeight-this.height/u||a<0)&&(a+=.8*l.y*lE);var p=TE(this._velocity,l,i);this._isDragging=!0,this._isMoving=!0,this.left=s,this.top=a,this.zoom=u,this._velocity=p,this._lastTouchPosition.x=e,this._lastTouchPosition.y=t,this._lastTouchTime=r}},{key:"touchEnd",value:function(e,t){var r=this._velocity,n=(this.snap?hE:pE)/this.zoom;if(this._isDragging=!1,xE(r)>n){var o=this.zoom,i=SE(r,(this.snap?hE:dE)/o,1-vE/o),a=i.duration,s=i.distanceX,u=i.distanceY,c=this.left+s,l=this.top+u,f=this.snap?this.snapFunction(l,c,o):kE(l,c,o,this.width,this.height,this.contentWidth,this.contentHeight),p=Math.sqrt(Math.pow(s,2)+Math.pow(u,2)),d=a*(Math.sqrt(Math.pow(l-f.top,2)+Math.pow(c-f.left,2))+p)/p;this.animateToPosition(f.top,f.left,f.zoom,t,d,bE)}else this.animateToPosition(this.top,this.left,this.zoom,t,yE)}},{key:"scrollTo",value:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yE;return this.animateToPosition(e,t,r||this.zoom,n,o)}},{key:"jumpTo",value:function(e,t,r){var n=kE(e,t,r||this.zoom,this.width,this.height,this.contentWidth,this.contentHeight);if(this.snap){var o=this.snapFunction(n.top,n.left,n.zoom);this.top=o.top,this.left=o.left,this.zoom=o.zoom}else this.top=n.top,this.left=n.left,this.zoom=n.zoom}},{key:"setSnap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(t&&(this.snapFunction=t),e&&!this.snap){if(!this.snapFunction)throw new Error("Cannot snap without snap function!");if(this.snap=e,r)n&&this.animateToPosition(this.top,this.left,this.zoom,n,yE);else{var o=this.snapFunction(this.top,this.left,this.zoom);this.top=o.top,this.left=o.left,this.zoom=o.zoom}}else this.snap=e}},{key:"setScrolling",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.scrollingX=e,this.scrollingY=t}},{key:"resize",value:function(e,t,r,n,o,i,a){if(this.top=e,this.left=t,this.zoom=r,this.width=n,this.height=o,this.contentWidth=i,this.contentHeight=a,this.snap){var s=this.snapFunction(e,t,r);this.top=s.top,this.left=s.left,this.zoom=s.zoom}}},{key:"isSnapped",value:function(){if(!this.snapFunction)return!0;var e=this.snapFunction(this.top,this.left,this.zoom),t=Math.abs(e.left-this.left)<1&&Math.abs(e.top-this.top)<1&&Math.abs(e.zoom-this.zoom)<.2;return t}},{key:"update",value:function(e){var t=this._animate;if(this._animate&&this._animation){var r=this._animation,n=r.start,o=r.end,i=r.startTime,a=r.duration,s=r.easing,u=r.deferred,c=o.left-n.left,l=o.top-n.top,f=Math.min(e-i,a),p=Math.max(f/a,0);p<1&&p>0&&(s===gE?p=wE(p):s===_E?p=EE(p):s===bE&&(p=OE(p)));var d=n.left+c*p,h=n.top+l*p,v=this.width/o.zoom-this.width/n.zoom,y=this.width/n.zoom+v*p,m=this.width/y;this.left=d,this.top=h,this.zoom=m,this._animate=f<a,this._animate||u.resolve()}this._lastUpdate.left===this.left&&this._lastUpdate.top===this.top&&this._lastUpdate.zoom===this.zoom||(this._lastMoveTs=e),this._isMoving=t||this._isDragging&&e-this._lastMoveTs<mE,this._lastUpdate.left=this.left,this._lastUpdate.top=this.top,this._lastUpdate.zoom=this.zoom}},{key:"getHorizontalPositionInPercent",value:function(){var e=Math.max(Math.min(100*this.left/(this.contentWidth-this.width),100),0);return Number.isFinite(e)?e:0}},{key:"animateToPosition",value:function(e,t,r,n,o,i){var a=kE(e,t,r,this.width,this.height,this.contentWidth,this.contentHeight),s=a.top,u=a.left,c=a.zoom;if(this.snap){var l=this.snapFunction(s,u,c);s=l.top,u=l.left,c=l.zoom}if(u===this.left&&s===this.top&&c===this.zoom)return this._animate=!1,Promise.resolve();var f={resolve:function(){},promise:Promise.resolve()};return f.promise=new Promise((function(e){f.resolve=e})),this._animation={startTime:n,easing:i||(this._animate?gE:_E),duration:o,start:{top:this.top,left:this.left,zoom:this.zoom},end:{top:s,left:u,zoom:c},deferred:f},this._animate=!0,f.promise}},{key:"isDragging",get:function(){return this._isDragging}},{key:"isAnimating",get:function(){return this._animate}},{key:"isMoving",get:function(){return this._isMoving||this._animate}}]),e}(),CE={w:24,h:24,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="#9AA8A9",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.save(),t.stack++,e.translate(7,7),e.save(),t.stack++,e.beginPath(),e.moveTo(6.777879,6.845484),e.bezierCurveTo(5.790032,7.833332,4.188142,7.833223,3.200156,6.845237),e.bezierCurveTo(2.21224,5.85732,2.21224,4.255678,3.200156,3.267761),e.bezierCurveTo(4.188224,2.279694,5.789619,2.279748,6.777632,3.267761),e.bezierCurveTo(7.765715,4.255844,7.765877,5.857486,6.777879,6.845484),e.lineTo(8.24994,8.317545),e.bezierCurveTo(10.051001,6.516484,10.050705,3.596713,8.249693,1.795701),e.bezierCurveTo(6.448705,-.005287,3.529182,-.005386,1.728095,1.795701),e.bezierCurveTo(-.072818,3.596614,-.072818,6.516385,1.728095,8.317298),e.bezierCurveTo(3.529034,10.118236,6.449051,10.118434,8.24994,8.317545),e.lineTo(6.777879,6.845484),e.lineTo(6.777879,6.845484),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="rgba(154, 168, 169, 0.5)",e.beginPath(),e.moveTo(12,23),e.bezierCurveTo(18.075132,23,23,18.075132,23,12),e.bezierCurveTo(23,5.924868,18.075132,1,12,1),e.bezierCurveTo(5.924868,1,1,5.924868,1,12),e.bezierCurveTo(1,18.075132,5.924868,23,12,23),e.closePath(),e.moveTo(12,20.025024),e.bezierCurveTo(16.432099,20.025024,20.025024,16.432099,20.025024,12),e.bezierCurveTo(20.025024,7.567901,16.432099,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,16.432099,7.567901,20.025024,12,20.025024),e.closePath(),e.fill("evenodd"),e.stroke(),e.restore(),t.stack--,e.save(),t.stack++,e.fillStyle="#9AA8A9",e.beginPath(),e.moveTo(3.977469,12.202011),e.bezierCurveTo(3.880403,13.366651,2.944759,13.653612,2.481445,13.656799),e.bezierCurveTo(1.992432,13.660164,1,13.117421,1,12),e.bezierCurveTo(1,5.924868,5.924868,1,12,1),e.bezierCurveTo(18.075132,1,23,5.924868,23,12),e.bezierCurveTo(23,13.127857,22.037891,13.51123,21.543091,13.51123),e.bezierCurveTo(21.048291,13.511231,20.045776,13.203328,20.045776,12),e.bezierCurveTo(20.045776,11.948528,20.038295,11.898609,20.023654,11.850214),e.bezierCurveTo(19.943791,7.487233,16.382062,3.974976,12,3.974976),e.bezierCurveTo(7.567901,3.974976,3.974976,7.567901,3.974976,12),e.bezierCurveTo(3.974976,12.067535,3.97581,12.134875,3.977469,12.202011),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}},AE={draw:function(e,t,r,n){var o=aa();e.save(),e.translate(t,r),e.scale(o,o),e.rotate(n/230),e.translate(-CE.w/2,-CE.h/2),CE.d[0](e,{stack:0}),e.restore()}},RE=r(264),jE=r.n(RE);function IE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ME(e,t,r){return t&&DE(e.prototype,t),r&&DE(e,r),e}function LE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NE=function(){function e(t,r,n){IE(this,e),LE(this,"start",void 0),LE(this,"duration",void 0),LE(this,"options",void 0),this.start=t,this.duration=r,this.options=Object.assign({easing:e.LINEAR,clipStart:!0,clipEnd:!0,reverse:!1},n||{})}return ME(e,null,[{key:"LINEAR",value:function(e,t,r,n){return r*e/n+t}},{key:"EASE_IN_CUBIC",value:function(e,t,r,n){return r*(e/=n)*e*e+t}},{key:"EASE_OUT_CUBIC",value:function(e,t,r,n){return e/=n,r*(--e*e*e+1)+t}},{key:"EASE_IN_OUT_CUBIC",value:function(e,t,r,n){return(e/=n/2)<1?r/2*e*e*e+t:r/2*((e-=2)*e*e+2)+t}},{key:"MATERIAL",value:function(e,t,r,n){return jE()(.4,0,.2,1)(e=(e/n-t)/(r-t))}},{key:"calc",value:function(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.LINEAR;return o(t-r,0,1,n)}}]),ME(e,[{key:"reset",value:function(e){return this.start=e,this}},{key:"isRunning",value:function(e){return e>=this.start&&e<=this.start+this.duration}},{key:"isWaitingToRun",value:function(e){return e<this.start}},{key:"value",value:function(t){var r=e.calc(t,this.start,this.duration,this.options.easing);return this.options.clipStart&&r<0?r=0:this.options.clipEnd&&r>1&&(r=1),this.options.reverse&&(r=1-r),r}}]),e}(),BE={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.translate(8,10),e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.beginPath(),e.moveTo(16.683499,11.621507),e.bezierCurveTo(15.72267,11.621507,14.892862,12.262398,14.630817,13.116921),e.lineTo(7.861335,13.116921),e.bezierCurveTo(7.59929,12.347851,6.987853,11.792411,6.158046,11.664233),e.lineTo(6.027023,10.766984),e.lineTo(17.513307,9.228843),e.bezierCurveTo(17.819025,9.186117,18.08107,8.929761,18.08107,8.587952),e.lineTo(18.08107,2.520841),e.bezierCurveTo(18.08107,2.179032,17.775351,1.87995,17.425959,1.87995),e.lineTo(4.760475,1.87995),e.lineTo(4.585779,.55544),e.bezierCurveTo(4.542105,.256357,4.28006,0,3.930667,0),e.lineTo(.655111,0),e.bezierCurveTo(.305719,0,0,.299083,0,.640892),e.bezierCurveTo(0,.982701,.305719,1.281784,.655111,1.281784),e.lineTo(3.31923,1.281784),e.lineTo(4.891497,11.792411),e.bezierCurveTo(4.149038,12.13422,3.624949,12.860564,3.624949,13.715087),e.bezierCurveTo(3.624949,14.911418,4.585779,15.851393,5.808653,15.851393),e.bezierCurveTo(6.769483,15.851393,7.59929,15.210501,7.861335,14.355979),e.lineTo(14.587143,14.355979),e.bezierCurveTo(14.849188,15.210501,15.678995,15.851393,16.639825,15.851393),e.bezierCurveTo(17.8627,15.851393,18.823529,14.911418,18.823529,13.715087),e.bezierCurveTo(18.823529,12.518755,17.8627,11.621507,16.683499,11.621507),e.lineTo(16.683499,11.621507),e.closePath(),e.moveTo(16.770848,3.161733),e.lineTo(16.770848,8.032512),e.lineTo(5.896001,9.442474),e.lineTo(4.978845,3.119007),e.lineTo(16.770848,3.161733),e.lineTo(16.770848,3.161733),e.closePath(),e.moveTo(5.808653,14.612336),e.bezierCurveTo(5.328238,14.612336,4.935171,14.2278,4.935171,13.757813),e.bezierCurveTo(4.935171,13.287826,5.328238,12.90329,5.808653,12.90329),e.bezierCurveTo(6.289068,12.90329,6.682135,13.287826,6.682135,13.757813),e.bezierCurveTo(6.682135,14.2278,6.289068,14.612336,5.808653,14.612336),e.lineTo(5.808653,14.612336),e.closePath(),e.moveTo(16.683499,14.612336),e.bezierCurveTo(16.203084,14.612336,15.810018,14.2278,15.810018,13.757813),e.bezierCurveTo(15.810018,13.287826,16.203084,12.90329,16.683499,12.90329),e.bezierCurveTo(17.163914,12.90329,17.556981,13.287826,17.556981,13.757813),e.bezierCurveTo(17.556981,14.2278,17.163914,14.612336,16.683499,14.612336),e.lineTo(16.683499,14.612336),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}},FE={draw:function(e,t,r,n){var o=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-o/2,r-o/2),e.scale(o/BE.w,o/BE.h),BE.d[0](e,{stack:0}),e.restore()}},UE={w:36,h:36,d:[function(e,t){e.save(),t.stack++,e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,e.translate(0,0),e.translate(0,0),e.translate(0,0),e.scale(1,1),e.translate(0,0),e.save(),t.stack++,e.fillStyle="rgba(0,0,0,0)",e.strokeStyle="rgba(0,0,0,0)",e.lineWidth=1,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.save(),t.stack++,e.fillStyle="#F2F2F2",e.strokeStyle="#F2F2F2",e.lineWidth=2,e.beginPath(),e.moveTo(12.340871,10.014123),e.bezierCurveTo(12.438705,9.987436,12.545844,9.99788,12.638453,10.051348),e.lineTo(25.723194,17.605827),e.bezierCurveTo(25.744171,17.617938,25.76355,17.631794,25.781276,17.647113),e.bezierCurveTo(25.850585,17.681197,25.910658,17.735014,25.951029,17.804939),e.bezierCurveTo(26.061419,17.99614,25.995389,18.240929,25.808595,18.348775),e.lineTo(12.645177,25.948678),e.bezierCurveTo(12.576466,25.988348,12.500235,26.004075,12.425883,25.999113),e.bezierCurveTo(12.41723,25.999695,12.408519,25.99999,12.399759,25.99999),e.bezierCurveTo(12.178978,25.99999,12,25.820411,12,25.604721),e.lineTo(12,10.404915),e.bezierCurveTo(12,10.206904,12.152566,10.0429,12.340871,10.014123),e.lineTo(12.340871,10.014123),e.closePath(),e.fill(),e.stroke(),e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--,e.restore(),t.stack--}],i:{}},WE={draw:function(e,t,r,n){var o=1.8*n;e.save(),e.beginPath(),e.arc(t,r,n,0,2*Math.PI),e.fill(),e.translate(t-o/2,r-o/2),e.scale(o/UE.w,o/UE.h),UE.d[0](e,{stack:0}),e.restore()}};function zE(e){return(zE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VE(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GE(e,t,r){return t&&VE(e.prototype,t),r&&VE(e,r),e}function qE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$E(e,t)}function $E(e,t){return($E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KE(e){var t=ZE();return function(){var r,n=JE(e);if(t){var o=JE(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return YE(this,r)}}function YE(e,t){return!t||"object"!==zE(t)&&"function"!=typeof t?XE(e):t}function XE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZE(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function JE(e){return(JE=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QE(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eO,tO=100,rO=100,nO=1e3,oO=800,iO=function(e){qE(r,e);var t=KE(r);function r(){var e;HE(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return QE(XE(e=t.call.apply(t,[this].concat(o))),"_isHovered",!1),QE(XE(e),"_hoverAnimation",new NE(Number.MAX_VALUE,tO)),QE(XE(e),"_initialFlashAnimation",new NE(Number.MAX_VALUE,oO)),QE(XE(e),"_toggleAnimation",new NE(Number.MAX_VALUE,rO)),QE(XE(e),"_initialFlashTimeoutId",void 0),e}return GE(r,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.arrivedAtSpreadTick&&!e.arrivedAtSpreadTick?this._initialFlashTimeoutId=window.setTimeout((function(){t._initialFlashTimeoutId=void 0,t._initialFlashAnimation.reset(Cw.lastTick),t.requestRedraw()}),nO):!this.props.arrivedAtSpreadTick&&e.arrivedAtSpreadTick&&(window.clearTimeout(this._initialFlashTimeoutId),this._initialFlashTimeoutId=void 0),this.props.isToggledOn&&!e.isToggledOn&&(this._toggleAnimation.options.reverse=!1,this._toggleAnimation.reset(Cw.lastTick)),!this.props.isToggledOn&&e.isToggledOn&&(this._toggleAnimation.options.reverse=!0,this._toggleAnimation.reset(Cw.lastTick)),this.props.isToggledOn&&!e.isToggledOn&&this.props.arrivedAtSpreadTick&&this._trackOpportunity()}},{key:"onMouseEnter",value:function(e){this._hoverAnimation.reset(Cw.lastTick),this._hoverAnimation.options.reverse=!1,this._isHovered=!0,this.props.showLinkToolTip(this),this.requestRedraw(),this.props.isToggledOn||this._trackOpportunity()}},{key:"onMouseLeave",value:function(e){var t=Cw.lastTick,r=this._hoverAnimation.value(t);this._hoverAnimation.reset(t-(1-r)*tO),this._hoverAnimation.options.reverse=!0,this._isHovered=!1,this.props.hideLinkToolTip(),this.requestRedraw()}},{key:"onSingleTap",value:function(e,t){return this._trackUsage(),this.props.dispatch(ul(this.model)),!0}},{key:"isAnimating",value:function(){var e=Cw.lastTick;return this._initialFlashAnimation.isRunning(e)||this._toggleAnimation.isRunning(e)||this._hoverAnimation.isRunning(e)}},{key:"hoverOpacity",value:function(){var e=Cw.lastTick;return this._hoverAnimation.isRunning(e)?this._hoverAnimation.value(e):this._isHovered?1:0}},{key:"initialFlashOpacity",value:function(){if(this.parent&&this.parent.parent.getZoom()>1)return 0;var e=Cw.lastTick;if(this._initialFlashAnimation.isRunning(e)){var t=this._initialFlashAnimation.value(e);return t<.2?t/.2:t<.5?1:1-2*(t-.5)}return 0}},{key:"linkToggleOpacity",value:function(){var e=Cw.lastTick;return this._toggleAnimation.isRunning(e)?this._toggleAnimation.value(e):this.props.isToggledOn?1:0}},{key:"calculateOpacityForDrawing",value:function(){return this.shouldRenderVideoThumb()?0:Math.max(this.initialFlashOpacity(),this.linkToggleOpacity(),this.hoverOpacity())}},{key:"shouldRenderVideoThumb",value:function(){return Jw(this.model)}},{key:"getCustomCursor",value:function(){return!!this._isHovered&&"pointer"}},{key:"_trackOpportunity",value:function(){this.props.featureTracker.opportunity(av.PUBLICATION_LINK),Zw(this.model)&&this.props.featureTracker.opportunity(av.PUBLICATION_VIDEO_LINK)}},{key:"_trackUsage",value:function(){this.props.featureTracker.usage(av.PUBLICATION_LINK),Zw(this.model)&&this.props.featureTracker.usage(av.PUBLICATION_VIDEO_LINK)}},{key:"draw",value:function(e,t){e.save(),e.beginPath();var r=this.calculateOpacityForDrawing();e.rect(t.x+.5,t.y+.5,t.width-1,t.height-1),e.strokeStyle="rgba(118, 165, 204, ".concat(r,")"),e.fillStyle="rgba(118, 165, 204, ".concat(.5*r,")"),e.fill(),e.stroke();var n=20*aa();t.width>50&&t.height>50&&(eE(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",FE.draw(e,t.x+t.width/2,t.y+t.height/2,n)),Zw(this.model)&&(e.globalAlpha=r,e.fillStyle="rgba(0, 0, 0, 0.7)",WE.draw(e,t.x+t.width/2,t.y+t.height/2,n))),e.restore()}},{key:"appendWebglOps",value:function(e,t,r){var n=this.calculateOpacityForDrawing();n>0&&e.push({type:"link-operation",args:[this.model,n,Object.assign({},t)]})}},{key:"afterDraw",value:function(e){this.isAnimating()&&this.requestRedraw()}},{key:"displayName",get:function(){return"Link"}},{key:"model",get:function(){return this.props.model}},{key:"width",get:function(){return this.model.width}},{key:"height",get:function(){return this.model.height}},{key:"transform",get:function(){return this._transform||(this._transform=new nw,this._transform.mTranslate(this.model.x,this.model.y)),this._transform}},{key:"isVisible",get:function(){return!!this.props.arrivedAtSpreadTick&&(!!this.shouldRenderVideoThumb()||(!!this.props.isToggledOn||(!!this._isHovered||!!this.isAnimating())))}}]),r}(Cw),aO=0,sO=1;function uO(e,t,r){var n=Math.max(e.x,0),o=Math.min(e.x+e.width,t),i=Math.max(e.y,0),a=Math.min(e.y+e.height,r);return{x:Math.min(n,t),y:Math.min(i,r),width:Math.max(0,o-n),height:Math.max(0,a-i)}}function cO(e,t){var r=Math.floor(e.width),n=t===aO?Math.floor(e.x+e.width+.001)-r:Math.floor(e.x),o=Math.floor(e.height);return{x:n,y:Math.floor(e.y),width:r,height:o}}function lO(e){return Math.max(Math.min(e,1),0)}function fO(e,t,r){return(t-e)*lO(r)+e}function pO(e,t,r){var n=lO(r);return(t-e)*(1-Math.pow(2,-10*n))+e}function dO(e,t,r){var n=lO(r);return(t-e)*Math.pow(2,10*(n-1))+e}function hO(e,t,r){var n=lO(r);return(t-e)*n*n+e}function vO(e,t,r){var n=lO(r);return(t-e)*n*(2-n)+e}function yO(e,t,r){var n=e.createShader(r);if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS)&&!e.isContextLost()){var o=r===e.FRAGMENT_SHADER?"fragment":"vertex",i=e.getShaderInfoLog(n)||"",a=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot compile ".concat(o," shader: ").concat(i,"\n[").concat(a,"]"))}return n}function mO(e,t){if(e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS)&&!e.isContextLost()){var r=e.getProgramInfoLog(t)||"",n=(e.getSupportedExtensions()||[]).join(",");throw new Error("Cannot link shaderprogram: ".concat(r,"\n[").concat(n,"]"))}}function gO(e,t){for(var r=new Set,n=0;n<e;n++){var o=t(n);o&&r.add(o.name)}return r}function _O(e,t,r){var n=yO(e,t,e.VERTEX_SHADER),o=yO(e,r,e.FRAGMENT_SHADER),i=e.createProgram();e.attachShader(i,n),e.attachShader(i,o),mO(e,i);for(var a=gO(e.getProgramParameter(i,e.ACTIVE_UNIFORMS),(function(t){return e.getActiveUniform(i,t)})),s=gO(e.getProgramParameter(i,e.ACTIVE_ATTRIBUTES),(function(t){return e.getActiveAttrib(i,t)})),u={id:i,bind:function(){if(eO!==u){eO&&eO.unbind(),eO=u,e.useProgram(u.id);for(var t=0,r=Array.from(s);t<r.length;t++){var n=r[t];e.enableVertexAttribArray(u[n])}}},unbind:function(){for(var t=0,r=Array.from(s);t<r.length;t++){var n=r[t];e.disableVertexAttribArray(u[n])}},destroy:function(){eO&&eO===u&&(eO.unbind(),eO=null),e.detachShader(i,n),e.deleteShader(n),e.detachShader(i,o),e.deleteShader(o),e.deleteProgram(i)}},c=0,l=Array.from(s);c<l.length;c++){var f=l[c];u[f]=e.getAttribLocation(i,f)}for(var p=0,d=Array.from(a);p<d.length;p++){var h=d[p];u[h]=e.getUniformLocation(i,h)}return u}var bO=r(265),wO=r.n(bO),EO=r(266),OO=r.n(EO),TO=r(267),xO=r.n(TO),kO=r(268),SO=r.n(kO);function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AO(e,t,r){return t&&CO(e.prototype,t),r&&CO(e,r),e}function RO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jO=new Float32Array([1,1,0,.5]),IO=new Float32Array([0,0,0,.3]);function DO(e){return{min:{x:Math.min(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.min(e.p1.y,e.p2.y,e.p3.y,e.p4.y)},max:{x:Math.max(e.p1.x,e.p2.x,e.p3.x,e.p4.x),y:Math.max(e.p1.y,e.p2.y,e.p3.y,e.p4.y)}}}function MO(e){var t=new Float32Array(6*e.length*2);return e.forEach((function(e,r){t[12*r+0]=e.p1.x,t[12*r+1]=e.p1.y,t[12*r+2]=e.p3.x,t[12*r+3]=e.p3.y,t[12*r+4]=e.p2.x,t[12*r+5]=e.p2.y,t[12*r+6]=e.p2.x,t[12*r+7]=e.p2.y,t[12*r+8]=e.p3.x,t[12*r+9]=e.p3.y,t[12*r+10]=e.p4.x,t[12*r+11]=e.p4.y})),t}function LO(e){var t=new Float32Array(6*e.length*2);return e.forEach((function(e,r){var n=DO(e),o=function(e){return(e-n.min.x)/(n.max.x-n.min.x)},i=function(e){return(n.max.y-e)/(n.max.y-n.min.y)};t[12*r+0]=o(e.p1.x),t[12*r+1]=i(e.p1.y),t[12*r+2]=o(e.p3.x),t[12*r+3]=i(e.p3.y),t[12*r+4]=o(e.p2.x),t[12*r+5]=i(e.p2.y),t[12*r+6]=o(e.p2.x),t[12*r+7]=i(e.p2.y),t[12*r+8]=o(e.p3.x),t[12*r+9]=i(e.p3.y),t[12*r+10]=o(e.p4.x),t[12*r+11]=i(e.p4.y)})),t}var NO,BO=(NO=o.create(),function(e,t){var r=2/e,n=2/t;return o.set(NO,r,0,0,0,-n,0,-1,1,1)}),FO=function(){var e=i.create(),t=o.create();return function(r,n,a){return o.translate(t,r,i.set(e,a.x,a.y)),o.scale(t,t,i.set(e,n,n)),o.translate(t,t,i.set(e,-a.x,-a.y)),t}}(),UO=function(){function e(t){PO(this,e),RO(this,"gl",void 0),RO(this,"verticeBuffer",void 0),RO(this,"texCoordBuffer",void 0),RO(this,"shader",void 0),RO(this,"selectedShader",void 0),RO(this,"emptyTexture",void 0),this.gl=t,this.shader=_O(t,OO.a,wO.a),this.selectedShader=_O(t,SO.a,xO.a),this.verticeBuffer=t.createBuffer(),this.texCoordBuffer=t.createBuffer(),this.emptyTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.emptyTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null)}return AO(e,[{key:"draw",value:function(e,t){var r=this.gl,n=this.shader,o=this.verticeBuffer;r.disable(r.DEPTH_TEST),r.disable(r.CULL_FACE),r.enable(r.STENCIL_TEST),n.bind(),r.bindBuffer(r.ARRAY_BUFFER,o),r.vertexAttribPointer(n.a_vertex,2,r.FLOAT,!1,0,0),r.uniformMatrix3fv(n.u_displayMatrix,!1,BO(r.drawingBufferWidth,r.drawingBufferHeight)),t.length&&(r.stencilFunc(r.NEVER,1,1),r.stencilOp(r.REPLACE,r.KEEP,r.KEEP),r.bufferData(r.ARRAY_BUFFER,MO(t),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6*t.length)),r.enable(r.BLEND),r.uniform4fv(n.u_color,IO),r.stencilFunc(r.NOTEQUAL,1,1),r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE),r.blendEquation(r.FUNC_ADD);var i={p1:{x:e.x,y:e.y},p2:{x:e.x+e.width,y:e.y},p3:{x:e.x,y:e.y+e.height},p4:{x:e.x+e.width,y:e.y+e.height}};r.bufferData(r.ARRAY_BUFFER,MO([i]),r.DYNAMIC_DRAW),r.drawArrays(r.TRIANGLES,0,6),r.disable(r.BLEND),r.disable(r.STENCIL_TEST),r.enable(r.CULL_FACE),r.enable(r.DEPTH_TEST)}},{key:"drawSelected",value:function(e,t,r,n){var o=this.gl,i=this.shader,a=this.selectedShader,s=this.verticeBuffer,u=this.texCoordBuffer;if(o.disable(o.DEPTH_TEST),o.disable(o.CULL_FACE),o.bindBuffer(o.ARRAY_BUFFER,s),o.bufferData(o.ARRAY_BUFFER,MO(e),o.DYNAMIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,null),n>1){a.bind();var c=FO(BO(o.drawingBufferWidth,o.drawingBufferHeight),n,r);o.uniformMatrix3fv(a.u_displayMatrix,!1,c),o.bindBuffer(o.ARRAY_BUFFER,s),o.vertexAttribPointer(a.a_vertex,2,o.FLOAT,!1,0,0),o.bindBuffer(o.ARRAY_BUFFER,u),o.bufferData(o.ARRAY_BUFFER,LO(e),o.DYNAMIC_DRAW),o.vertexAttribPointer(a.a_texCoord,2,o.FLOAT,!1,0,0),o.activeTexture(o.TEXTURE0),o.uniform1i(a.u_texture,0),o.uniform4fv(a.u_color,jO);for(var l=0;l<e.length;l++){var f=t[l];o.bindTexture(o.TEXTURE_2D,f&&"texture"in f?f.texture:this.emptyTexture),o.drawArrays(o.TRIANGLES,6*l,6)}}else o.enable(o.BLEND),i.bind(),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ZERO,o.ONE),o.blendEquation(o.FUNC_ADD),o.bindBuffer(o.ARRAY_BUFFER,s),o.vertexAttribPointer(i.a_vertex,2,o.FLOAT,!1,0,0),o.uniform4fv(i.u_color,jO),o.drawArrays(o.TRIANGLES,0,6*e.length),o.disable(o.BLEND);o.enable(o.CULL_FACE),o.enable(o.DEPTH_TEST)}},{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.texCoordBuffer),e.deleteTexture(this.emptyTexture),this.shader.destroy(),this.selectedShader.destroy()}}]),e}();function WO(e){return(WO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zO(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=HO(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function HO(e,t){if(e){if("string"==typeof e)return VO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VO(e,t):void 0}}function VO(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $O(e,t,r){return t&&qO(e.prototype,t),r&&qO(e,r),e}function KO(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YO(e,t)}function YO(e,t){return(YO=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XO(e){var t=QO();return function(){var r,n=eT(e);if(t){var o=eT(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ZO(this,r)}}function ZO(e,t){return!t||"object"!==WO(t)&&"function"!=typeof t?JO(e):t}function JO(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QO(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function eT(e){return(eT=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rT=500,nT=40;function oT(e,t,r){var n=i.create(),o=i.create();return i.set(n,t,r),i.transformMat2d(o,n,e),{x:o[0],y:o[1]}}function iT(e,t){var r=n.create();return n.multiply(r,t,e.matrix),{p1:oT(r,e.x,e.y),p2:oT(r,e.x+e.width,e.y),p3:oT(r,e.x,e.y+e.height),p4:oT(r,e.x+e.width,e.y+e.height)}}var aT=function(e){KO(r,e);var t=XO(r);function r(e,n){var o;return GO(this,r),tT(JO(o=t.call(this,e,n)),"_transform",void 0),tT(JO(o),"_lastActionTick",void 0),o._lastActionTick=0,o}return $O(r,[{key:"componentDidUpdate",value:function(e){lf()(e.selectedResult,this.props.selectedResult)||(this._lastActionTick=this.props.selectedResult?Cw.lastTick:0)}},{key:"isAnimating",value:function(e){return e-rT<this._lastActionTick}},{key:"draw",value:function(e,t){var r=cO(t,this.props.pageType),n=this.getViewportCTM().matrix;if(e.save(),this.selectedResult){e.fillStyle="rgba(255, 255, 0, 0.5)";var o,i=zO(this.selectedResult);try{for(i.s();!(o=i.n()).done;){var a=o.value,s=a.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(s[0],s[1],s[2],s[3],s[4],s[5]),e.fillRect(a.x,a.y,a.width,a.height)}}catch(e){i.e(e)}finally{i.f()}}var u,c=zO(this.results);try{for(c.s();!(u=c.n()).done;){var l,f=zO(u.value);try{for(f.s();!(l=f.n()).done;){var p=l.value;e.beginPath(),e.setTransform(1,0,0,1,0,0),e.rect(r.x,r.y,r.width,r.height);var d=p.matrix;e.setTransform(n[0],n[1],n[2],n[3],n[4],n[5]),e.transform(d[0],d[1],d[2],d[3],d[4],d[5]),e.rect(p.x,p.y,p.width,p.height),e.clip("evenodd")}}catch(e){f.e(e)}finally{f.f()}}}catch(e){c.e(e)}finally{c.f()}e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0.3)",e.fillRect(r.x,r.y,r.width,r.height),e.restore()}},{key:"appendWebglOps",value:function(e,t,r){var n,o,i=cO(t,this.props.pageType),a=this.getViewportCTM().matrix,s=this.transform.matrix,u=(null===(n=this.model)||void 0===n?void 0:n.pageNumber)||0,c=[],l=zO(this.results);try{for(l.s();!(o=l.n()).done;){var f,p=zO(o.value);try{for(p.s();!(f=p.n()).done;){var d=f.value;c.push(iT(d,a))}}catch(e){p.e(e)}finally{p.f()}}}catch(e){l.e(e)}finally{l.f()}var h=this.selectedResult,v=[],y=[];if(h){var m,g=zO(h);try{for(g.s();!(m=g.n()).done;){var _=m.value,b=iT(_,a),w=DO(b);if(v.push(b),this.isAnimating(Cw.lastTick)){var E=DO(iT(_,s)),O=null;if(E.max.x-E.min.x>=1&&E.max.y-E.min.y>=1){var T=(w.max.x-w.min.x+nT)/(E.max.x-E.min.x);O=this.props.renderManager.generateSurfacesUncached([T,0,0,T,E.min.x*T*-1,E.min.y*T*-1],(E.max.x-E.min.x)*T,(E.max.y-E.min.y)*T,u)}y.push(O)}}}catch(e){g.e(e)}finally{g.f()}}if(e.push({type:"highlight-operation",args:[i,c]}),v.length){var x=v.reduce((function(e,t){var r=DO(t);return e.left=Math.min(r.min.x,e.left),e.top=Math.min(r.min.y,e.top),e.right=Math.max(r.max.x,e.right),e.bottom=Math.max(r.max.y,e.bottom),e}),{left:1/0,top:1/0,right:-1/0,bottom:-1/0}),k=Math.max(x.right-x.left,x.bottom-x.top),S=(Cw.lastTick-this._lastActionTick)/rT,P=S<.5?(k+vO(0,nT,2*S))/k:(k+hO(nT,0,2*(S-.5)))/k,C={x:(x.left+x.right)/2,y:(x.top+x.bottom)/2};e.push({type:"highlight-flash-operation",args:[v,y,C,P]})}}},{key:"afterDraw",value:function(e){this.isAnimating(Cw.lastTick)&&this.requestRedraw()}},{key:"isVisible",get:function(){return!!this.model&&wi(this.root.__store__.getState())}},{key:"width",get:function(){return this.model?this.model.width:0}},{key:"height",get:function(){return this.model?this.model.height:0}},{key:"results",get:function(){return this.props.results}},{key:"selectedResult",get:function(){return this.props.selectedResult}},{key:"model",get:function(){return this.props.model}},{key:"transform",get:function(){return this._transform||(this._transform=new nw),this.width&&this.height&&this.parent&&this._transform.mSet(this.parent.width/this.width,0,0,this.parent.height/this.height,0,0),this._transform}}]),r}(Cw);function sT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cT(e,t,r){return t&&uT(e.prototype,t),r&&uT(e,r),e}function lT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fT={_pool:[],get:function(){return this._pool.length?this._pool.pop():document.createElement("canvas")},release:function(e){this._pool.push(e)}},pT=/Chrom(e|ium)/.test(navigator.userAgent),dT=function(){function e(t,r){sT(this,e),lT(this,"hintMaxWidth",void 0),lT(this,"hintMaxHeight",void 0),this.hintMaxWidth=t,this.hintMaxHeight=r}return cT(e,[{key:"_initState",value:function(e,t,r,n){var o=e?e.ctx:null;if(!o||o.canvas.width!==t||o.canvas.height!==r){var i=o?o.canvas:fT.get();i.width=t,i.height=r,o=i.getContext("2d",{alpha:!n})}return{ctx:o}}},{key:"draw",value:regeneratorRuntime.mark((function e(t,r,n,o,i,a){var s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=this._initState(t,o,i,a),e.delegateYield(Object(No.e)(s.ctx,n,r,pT),"t0",2);case 2:return e.abrupt("return",s);case 3:case"end":return e.stop()}}),e,this)}))},{key:"drawImage",value:function(e,t,r,n){var o=this._initState(e,r,n,!0);return o.ctx.drawImage(t,0,0,r,n),o}},{key:"release",value:function(e){var t=e.ctx.canvas,r=function(){t.width=0,t.height=0,fT.release(t)};pT?r():$().rIC(r)}},{key:"getSurface",value:function(e){return e.ctx.canvas}}]),e}(),hT=function(){function e(t){sT(this,e),lT(this,"gl",void 0),lT(this,"maxTextureSize",void 0),this.gl=t,this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE)}return cT(e,[{key:"draw",value:function(e,t,r,n){var o=this.gl,i=t.width,a=t.height;if(i>this.maxTextureSize||a>this.maxTextureSize)throw new Error("Requested creation of too large texture of size ".concat(i,"x").concat(a,". maxTextureSize: ").concat(this.maxTextureSize));var s=e?e.texture:o.createTexture();return o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!0),o.bindTexture(o.TEXTURE_2D,s),e&&e.width===i&&e.height===a||o.texImage2D(o.TEXTURE_2D,0,o.RGBA,i,a,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texSubImage2D(o.TEXTURE_2D,0,0,0,o.RGBA,o.UNSIGNED_BYTE,t),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.bindTexture(o.TEXTURE_2D,null),{texture:s,width:i,height:a,imgWidth:r,imgHeight:n}}},{key:"release",value:function(e){var t=this.gl,r=e.texture;$().rIC((function(){t.deleteTexture(r)}))}},{key:"getSurface",value:function(e){return e}}]),e}();function vT(e){return new Promise((function(t,r){if(!e||"None"===e.split("/").reverse()[0])return r(new TypeError("url incorrect"));var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){"function"==typeof createImageBitmap?createImageBitmap(n).then((function(e){return t(e)})):t(n)},n.onerror=function(){return r(new TypeError("Could not load image"))},n.src=e}))}function yT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gT(e,t,r){return t&&mT(e.prototype,t),r&&mT(e,r),e}function _T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bT(e){return(bT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wT=6,ET=0;function OT(e,t){return e.layersInfo&&"object"===bT(e.layersInfo)?Object(No.d)({url:e.layersInfo.uri,pageNumber:e.pageNumber,version:e.layersInfo.version,loadStatsTracker:t}):Object(No.c)({url:e.imageUri,pageNumber:e.pageNumber,width:e.width,height:e.height,loadStatsTracker:t})}function TT(e,t){return OT(e,t).catch((function(r){if(e.layersInfo)return r&&r.skipTracking||t.onLoaderError(),t.onLayersImageFallback(),e.layersInfo=void 0,TT(e,t);throw r}))}function xT(e,t,r){switch(t.state){case"NOT_LOADED":return ET<wT&&(ET++,t.state="LOADING",TT(e,r).then((function(e){t.state="LOADED",t.data=e,ET--}),(function(){ET--}))),null;case"LOADING":return null;case"LOADED":var n=t.data;return(null==n?void 0:n.images.some((function(e){return 0===e.width||0===e.height})))?(delete t.data,t.state="NOT_LOADED",xT(e,t,r)):t.data||null;default:return Gc(t.state)}}function kT(e,t){if("NOT_LOADED"===t.state){t.state="LOADING";var r,n=e.inlineData;if(n)vT((null===(r=n.thumbnail)||void 0===r?void 0:r.startsWith("http"))||"new-links"===ze()?n.thumbnail:"https://".concat(n.thumbnail)).then((function(e){t.state="LOADED",t.data=e}),(function(){}))}return t.data}var ST=function(){function e(t,r){yT(this,e),_T(this,"pageModels",void 0),_T(this,"loadStatsTracker",void 0),_T(this,"pageDatas",void 0),_T(this,"videoDatas",{}),this.pageModels=t,this.loadStatsTracker=r,this.pageDatas=new Array(t.length)}return gT(e,[{key:"_getPageData",value:function(e){return this.pageDatas[e-1]||(this.pageDatas[e-1]={state:"NOT_LOADED"}),this.pageDatas[e-1]}},{key:"getPageModel",value:function(e){return this.pageModels[e-1]}},{key:"getPageLayers",value:function(e){return xT(this.getPageModel(e),this._getPageData(e),this.loadStatsTracker)}},{key:"isPageReady",value:function(e){return"LOADED"===this._getPageData(e).state}},{key:"_getVideoData",value:function(e){var t="".concat(e.page.pageNumber,"_").concat(e.id);return this.videoDatas[t]||(this.videoDatas[t]={state:"NOT_LOADED"}),this.videoDatas[t]}},{key:"getVideoThumb",value:function(e){return kT(e,this._getVideoData(e))}},{key:"getVideoThumbs",value:function(e){var t=this;this.getPageModel(e).links.forEach((function(e){Jw(e)&&t.getVideoThumb(e)}))}},{key:"setActivePages",value:function(e,t){var r=this;e.forEach((function(e){r.getPageLayers(e),r.getVideoThumbs(e)}));for(var n=[],o="SINGLE_PAGE_SPREAD"===t?1:2,i=e[0]-o,a=e[e.length-1]+o;a>=i;a--)a>0&&a<=this.pageModels.length&&(this.getPageLayers(a),this.getVideoThumbs(a),n.push(a));return this.pageDatas.forEach((function(e,t){e&&"LOADED"===e.state&&!n.includes(t+1)&&(delete e.data,e.state="NOT_LOADED")})),Object.keys(this.videoDatas).forEach((function(e){var t=r.videoDatas[e],o=parseInt(e,10);"LOADED"!==t.state||n.includes(o)||(delete t.data,t.state="NOT_LOADED")})),n}}]),e}();function PT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AT(e,t,r){return t&&CT(e.prototype,t),r&&CT(e,r),e}function RT(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jT=10,IT=50,DT=3,MT=0,LT=1,NT=2,BT=3;function FT(e,t,r){var n=Math.round(e[0]*r.width),o=Math.round(t[0]*r.width),i=Math.round(e[3]*r.height),a=Math.round(t[3]*r.height);return n-o==0&&i-a==0}function UT(e,t,r){return e[4]===t[4]&&e[5]===t[5]&&FT(e,t,r)}function WT(e,t){return e.map((function(e,r){var n=t[r],o="src_px"in e&&(e.src_px.x<0||e.src_px.width<=0||e.src_px.x+e.src_px.width>n.width_px),i="src_px"in e&&(e.src_px.y<0||e.src_px.height<=0||e.src_px.y+e.src_px.height>n.height_px),a=e.dest_px.width<=0,s=e.dest_px.height<=0;return o||i||a||s})).filter((function(e){return!!e}))}var zT=function(){function e(t){var r=t.useWebGL,n=t.ctx,o=t.hintMaxWidth,i=t.hintMaxHeight,a=t.pageModels,s=t.loadStatsTracker,u=t.renderManager;PT(this,e),RT(this,"draw2D",void 0),RT(this,"drawWebGL",void 0),RT(this,"loadingManager",void 0),RT(this,"loadStatsTracker",void 0),RT(this,"resources",[]),r&&n&&(this.drawWebGL=new hT(n)),this.draw2D=new dT(o,i),this.loadStatsTracker=s,u?(this.loadingManager=u.loadingManager,this.loadingManager.pageModels=a,this._reuseData(u)):(this.loadingManager=new ST(a,s),this.resources=new Array(a.length))}return AT(e,[{key:"_getResource",value:function(e){return this.resources[e-1]||(this.resources[e-1]={hires:void 0,preview:void 0,videoThumbs:[]}),this.resources[e-1]}},{key:"generateSurfacesUncached",value:function(e,t,r,n){var o=this.loadingManager.getPageLayers(n);if(!o)return null;var i=this.loadingManager.getPageModel(n);e[0]*=i.width/o.width,e[3]*=i.height/o.height;var a={generator:this.draw2D.draw(null,o,e,t,r,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:t,height_px:r};return this._traditionalRendering(a,this.loadStatsTracker.uncachedFontRenderingTracker()),a.stateWebGL||a.state2D}},{key:"generateSurfaces",value:function(e,t,r,n,o,i,a,s){var u=this.loadingManager.getPageLayers(i);if(!u)return{done:!1,ops:[]};var c=this.loadingManager.getPageModel(i);return e[0]*=c.width/u.width,e[3]*=c.height/u.height,a?this.generateAnimatingSurfaces(e,t,n,o,i,u,s):this.generateStaticSurfaces(e,t,r,n,o,i,u,s)}},{key:"generateStaticSurfaces",value:function(e,t,r,n,o,i,a,s){var u=this._getResource(i),c=[],l=u.preview,f=u.hires,p=r.width,d=r.height;if(l||(l=this._generatePreview(n,o,a),u.preview=l),!f||f.width_px!==p||f.height_px!==d||!UT(e,f.matrix,a)){f&&this._releaseWebGLTexture(f);var h=f?f.state2D:null;(f={generator:this.draw2D.draw(h,a,e,p,d,!0),state2D:null,stateWebGL:null,skipCount:0,matrix:e,width_px:p,height_px:d}).generator.next(),u.hires=f}this._traditionalRendering(f,this.loadStatsTracker.hiresFontRenderingTracker()),this._incrementalRendering(l,!1,s);var v=this._getSurface(l),y=this._generateHiresSurface(f);if(y)c.push(y);else{var m=this._generatePreviewSurface(l,t.width,t.height);m&&c.push(m)}return{done:!(!y||!v),ops:c}}},{key:"generateAnimatingSurfaces",value:function(e,t,r,n,o,i,a){var s=this._getResource(o),u=[],c=[],l=s.preview,f=s.hires,p=t.width,d=t.height;l||(l=this._generatePreview(r,n,i),s.preview=l),this._incrementalRendering(l,!0,a);var h=this._generatePreviewSurface(l,p,d);if(h&&(u.push(h),c.push(l)),f&&FT(f.matrix,e,i)){var v=this._generateHiresSurface(f);v&&(u.push(v),c.push(f))}var y=WT(u,c);return y.length&&this.loadStatsTracker.onOpsValidationError(y.length),{done:!!h,ops:u}}},{key:"_reuseData",value:function(e){this.resources=e.resources,this.drawWebGL||e.resources.forEach((function(t){t&&(t.hires&&e._releaseWebGLTexture(t.hires),t.preview&&e._releaseWebGLTexture(t.preview),t.videoThumbs.forEach((function(t){e._releaseWebGLTexture(t)})))}))}},{key:"isPageReady",value:function(e){return this.loadingManager.isPageReady(e)}},{key:"generateVideoThumbSurfaces",value:function(e,t,r){var n=this,o=this._getResource(e),i=this.loadingManager.getPageModel(e),a=t.width/i.width,s=t.height/i.height,u={ops:[],done:!0};return i.links.forEach((function(e){if(Jw(e)&&!Qw(e)){var t=e,i=n.loadingManager.getVideoThumb(t);if(!i)return void(u.done=!1);var c=o.videoThumbs.find((function(t){return t.id===e.id}));c||(c={width_px:i.width,id:e.id,height_px:i.height,state2D:null,stateWebGL:null},o.videoThumbs.push(c));var l=n._generateVideoThumbSurface(c,i,r);if(!l)return void(u.done=!1);var f=c.width_px/(e.width*a),p=c.height_px/(e.height*s);if("youtube"===t.videoService){var d=Math.min(f,p),h=d*e.width*a,v=d*e.height*s;u.ops.push({surface:l,type:NT,src_px:{x:(c.width_px-h)/2,y:(c.height_px-v)/2,width:h,height:v},dest_px:{x:e.x*a,y:e.y*s,width:e.width*a,height:e.height*s}})}else if("vimeo"===t.videoService){var y=Math.max(f,p),m=c.width_px/y,g=c.height_px/y;u.ops.push({type:BT,dest_px:{x:e.x*a,y:e.y*s,width:e.width*a,height:e.height*s}},{surface:l,type:NT,src_px:{x:0,y:0,width:c.width_px,height:c.height_px},dest_px:{x:e.x*a+(e.width*a-m)/2,y:e.y*s+(e.height*s-g)/2,width:m,height:g}})}}})),u}},{key:"_generateVideoThumbSurface",value:function(e,t,r){var n=e.width_px,o=e.height_px,i=e.state2D;if(!i){if(r+jT-q()()<0)return null;i=this.draw2D.drawImage(null,t,n,o),e.state2D=i}var a=this.draw2D.getSurface(i),s=this.drawWebGL;if(s){var u=e.stateWebGL;return u||(u=s.draw(null,a,n,o),e.stateWebGL=u),s.getSurface(u)}return a}},{key:"_getSurface",value:function(e){return this.drawWebGL&&e.stateWebGL?this.drawWebGL.getSurface(e.stateWebGL):!this.drawWebGL&&e.state2D?this.draw2D.getSurface(e.state2D):null}},{key:"_traditionalRendering",value:function(e,t){if(e){if(!e.state2D){t.start();for(var r=e.generator.next(IT);!r.done;)r=e.generator.next(IT);e.state2D=r.value,t.end()}if(this.drawWebGL&&!e.stateWebGL&&e.state2D){var n=this.drawWebGL,o=this.draw2D.getSurface(e.state2D),i=o.width,a=o.height;e.stateWebGL=n.draw(e.stateWebGL,o,i,a)}}}},{key:"_incrementalRendering",value:function(e,t,r){if(e){var n=e.skipCount<DT,o=r+(t&&n?jT:IT)-q()();if(o<0&&n)e.skipCount++;else if(e.skipCount=0,e.state2D){if(this.drawWebGL&&!e.stateWebGL){var i=this.drawWebGL,a=this.draw2D.getSurface(e.state2D),s=a.width,u=a.height;e.stateWebGL=i.draw(e.stateWebGL,a,s,u)}}else{var c=e.generator.next(o);c.done&&(e.state2D=c.value)}}}},{key:"_generateHiresSurface",value:function(e){if(!e)return null;var t=e.width_px,r=e.height_px,n=this._getSurface(e);return t>0&&r>0&&n?{surface:n,type:MT,src_px:{x:0,y:0,width:t,height:r},dest_px:{x:-e.matrix[4],y:-e.matrix[5],width:t,height:r}}:null}},{key:"_generatePreviewSurface",value:function(e,t,r){if(!e)return null;var n=this._getSurface(e);return n?{surface:n,type:LT,src_px:{x:0,y:0,width:e.width_px,height:e.height_px},dest_px:{x:0,y:0,width:t,height:r}}:null}},{key:"_generatePreview",value:function(e,t,r){var n=[e/r.width,0,0,t/r.height,0,0],o={generator:this.draw2D.draw(null,r,n,e,t,!1),state2D:null,stateWebGL:null,skipCount:0,matrix:n,width_px:e,height_px:t};return o.generator.next(),o}},{key:"setActivePages",value:function(e,t){var r=this,n=this.loadingManager.setActivePages(e,t);this.resources.forEach((function(e,t){e&&!n.includes(t+1)&&r._releaseResource(e)}))}},{key:"_releaseWebGLTexture",value:function(e){this.drawWebGL&&e.stateWebGL&&(this.drawWebGL.release(e.stateWebGL),e.stateWebGL=null)}},{key:"_releaseResource",value:function(e){var t=this,r=e.hires,n=e.preview;r&&(r.state2D&&this.draw2D.release(r.state2D),this._releaseWebGLTexture(r)),n&&(n.state2D&&this.draw2D.release(n.state2D),this._releaseWebGLTexture(n)),e.hires=void 0,e.preview=void 0,e.videoThumbs.forEach((function(e){e.state2D&&t.draw2D.release(e.state2D),t._releaseWebGLTexture(e)})),e.videoThumbs.length=0}},{key:"release",value:function(){var e=this;this.resources.forEach((function(t){t&&e._releaseResource(t)})),this.resources=[]}}]),e}();function HT(e){return(HT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VT(Object(r),!0).forEach((function(t){lx(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function qT(e){return XT(e)||YT(e)||KT(e)||$T()}function $T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function KT(e,t){if(e){if("string"==typeof e)return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ZT(e,t):void 0}}function YT(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function XT(e){if(Array.isArray(e))return ZT(e)}function ZT(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ex(e,t,r){return t&&QT(e.prototype,t),r&&QT(e,r),e}function tx(e,t,r){return(tx="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=rx(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function rx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cx(e)););return e}function nx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ox(e,t)}function ox(e,t){return(ox=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ix(e){var t=ux();return function(){var r,n=cx(e);if(t){var o=cx(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ax(this,r)}}function ax(e,t){return!t||"object"!==HT(t)&&"function"!=typeof t?sx(e):t}function sx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ux(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function cx(e){return(cx=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fx=function(e){nx(r,e);var t=ix(r);function r(){var e;JT(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return lx(sx(e=t.call.apply(t,[this].concat(o))),"position",{x:0,y:0,width:0,height:0}),lx(sx(e),"unzoomedWidthInHWPx",0),lx(sx(e),"unzoomedHeightInHWPx",0),lx(sx(e),"onDoubleTap",(function(t,r){return e.props.onDoubleTap(t,r,sx(e))})),e}return ex(r,[{key:"componentDidMount",value:function(){this.updateUnzoomedSizes()}},{key:"componentDidUpdate",value:function(e){this.props.transform.isEqualWith(e.transform)||this.updateUnzoomedSizes()}},{key:"updateUnzoomedSizes",value:function(){var e=this.transform.transformRect(Cw.RectPool.get(0,0,this.width,this.height));this.unzoomedWidthInHWPx=Math.floor(e.width),this.unzoomedHeightInHWPx=Math.floor(e.height),Cw.RectPool.release(e)}},{key:"shouldRenderVideoThumb",value:function(){return this.model.links.some((function(e){return Jw(e)}))}},{key:"getChildrenToTraverse",value:function(){if(!this.props.mayRenderLinks){var e=tx(cx(r.prototype),"getChildrenToTraverse",this).call(this);return e?e.filter((function(e){return!(e instanceof iO)})):[]}return tx(cx(r.prototype),"getChildrenToTraverse",this).call(this)}},{key:"getChildTree",value:function(){var e=this;return[Cw.createElement(aT,{model:this.props.isPaywalled?null:this.model.textInfoPage,results:this.props.isPaywalled?[]:this.model.findResults,selectedResult:this.props.isPaywalled?null:this.model.selectedFindResult,renderManager:this.props.renderManager,pageType:this.pageType})].concat(this.model.links.map((function(t){return Cw.createElement(iO,{arrivedAtSpreadTick:e.props.mayRenderLinks?e.props.arrivedAtSpreadTick:0,dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,hideLinkToolTip:e.props.hideLinkToolTip,isToggledOn:e.props.isLinksToggledOn,model:t,showLinkToolTip:e.props.showLinkToolTip})})))}},{key:"getOperations",value:function(e,t,r){var n=cO(e,this.pageType),o=uO(n,t,r);if(this.updatePagePosition(n),0===o.width||0===o.height)return{done:!0,ops:[]};var i=[n.width/this.props.model.width,0,0,n.height/this.props.model.height,Math.min(0,n.x),Math.min(0,n.y)];try{var a=this.props.renderManager.generateSurfaces(i,n,o,this.unzoomedWidthInHWPx,this.unzoomedHeightInHWPx,this.pageNumber,this.inAnimation,Cw.lastTick);if(this.shouldRenderVideoThumb()){var s,u=this.props.renderManager.generateVideoThumbSurfaces(this.pageNumber,n,Cw.lastTick);if(0!==a.ops.length)(s=a.ops).push.apply(s,qT(u.ops)),a.done=a.done&&u.done}return a}catch(e){var c={matrix:i,cappedWidth:o.width,cappedHeight:o.height,unzoomedWidthInHWPx:this.unzoomedWidthInHWPx,unzoomedHeightInHWPx:this.unzoomedHeightInHWPx,pageNumber:this.pageNumber,inAnimation:this.inAnimation};throw e.sentry_extra=GT(GT({},e.sentry_extra),{},{renderOps:c}),e}}},{key:"draw",value:function(e,t){var r=cO(t,this.pageType),n=this.getOperations(t,e.canvas.width,e.canvas.height),o=n.ops,i=n.done;o.forEach((function(t){if(t.type===BT)return e.fillStyle="black",void e.fillRect(t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height);if(!(t.src_px.width<=0||t.src_px.height<=0))try{e.drawImage(t.surface,t.src_px.x,t.src_px.y,t.src_px.width,t.src_px.height,t.dest_px.x+r.x,t.dest_px.y+r.y,t.dest_px.width,t.dest_px.height)}catch(e){var n={src_px:t.src_px,dest_px:t.dest_px,width:t.surface.width,height:t.surface.height};throw e.sentry_extra=GT(GT({},e.sentry_extra),{},{renderImage:n}),e}})),i||0!==o.length||(e.fillStyle="#f2f2f2",e.fillRect(t.x,t.y,t.width,t.height),AE.draw(e,t.x+t.width/2,t.y+t.height/2,Cw.lastTick)),i||this.requestRedraw()}},{key:"updatePagePosition",value:function(e){this.position.x=e.x,this.position.y=e.y,this.position.width=e.width,this.position.height=e.height}},{key:"displayName",get:function(){return"Page"}},{key:"width",get:function(){return this.props.model.width}},{key:"height",get:function(){return this.props.model.height}},{key:"model",get:function(){return this.props.model}},{key:"pageType",get:function(){return this.props.pageType}},{key:"pageNumber",get:function(){return this.props.model.pageNumber}},{key:"transform",get:function(){return this.props.transform}}]),r}(Cw);function px(e){return(px="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dx(e){return yx(e)||vx(e)||bx(e)||hx()}function hx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vx(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function yx(e){if(Array.isArray(e))return wx(e)}function mx(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=bx(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function gx(e,t){return Ox(e)||Ex(e,t)||bx(e,t)||_x()}function _x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bx(e,t){if(e){if("string"==typeof e)return wx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wx(e,t):void 0}}function wx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ex(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function Ox(e){if(Array.isArray(e))return e}function Tx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kx(e,t,r){return t&&xx(e.prototype,t),r&&xx(e,r),e}function Sx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Px(e,t)}function Px(e,t){return(Px=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Cx(e){var t=jx();return function(){var r,n=Ix(e);if(t){var o=Ix(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ax(this,r)}}function Ax(e,t){return!t||"object"!==px(t)&&"function"!=typeof t?Rx(e):t}function Rx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jx(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function Ix(e){return(Ix=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mx=function(e){Sx(r,e);var t=Cx(r);function r(){var e;Tx(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return Dx(Rx(e=t.call.apply(t,[this].concat(o))),"borders",void 0),Dx(Rx(e),"_arrivedAtTick",0),Dx(Rx(e),"spreadSnapFunction",(function(t,r,n){var o;if(!e.borders)throw new Error("borders should be defined");if(n>1){var i,a=e.width/n,s=e.height/n;i=e.borders.right-e.borders.left<a?e.borders.left-(a-(e.borders.right-e.borders.left))/2:Math.max(Math.min(r,e.borders.right-a),e.borders.left),o={top:e.borders.bottom-e.borders.top<s?e.borders.top-(s-(e.borders.bottom-e.borders.top))/2:Math.max(Math.min(t,e.borders.bottom-s),e.borders.top),left:i,zoom:n}}else o={top:0,left:0,zoom:1};return o})),Dx(Rx(e),"onPageDoubleTap",(function(t,n,o){var i=e.props.smartnavAsset;if(r.scroller.zoom>1||!i)return!1;var a=gx(o.getViewportCTM().inverse().transformPoint(t,n),2),s=a[0],u=a[1],c=o.getViewportCTM().matrix[0],l=is*c/window.devicePixelRatio,f=Ft(i,{width:e.props.viewportWidth/window.devicePixelRatio,height:e.props.viewportHeight/window.devicePixelRatio,minEffectiveFontSize:6,maxEffectiveFontSize:100,maxZoom:l,verticalSnapThreshold:0,padding:{top:36,right:36,bottom:36,left:36}},(function(e){var t=e.x,r=e.y,n=gx((new nw).mScale(1/window.devicePixelRatio).multiply(o.getViewportCTM()).transformPoint(t,r),2);return{x:n[0],y:n[1]}}),o.props.model.pageNumber,{x:s,y:u});if(f){e.props.dispatch(Ih());var p=gx(o.transform.transformPoint(f.semiBox.left,f.semiBox.top),2),d=p[0],h=p[1],v=gx(o.transform.transformPoint(f.semiBox.right,f.semiBox.top),1)[0],y=e.props,m=y.xMargin,g=y.yMargin,_=y.viewportWidth/(v-d),b=Cw.lastTick;return r.scroller.scrollTo(h+g/_,d+m/_,_,b).then((function(){e.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!0,action:"ZOOM_IN"}),e.props.dispatch(Mh())})),e.requestRedraw(),!0}return!1})),e}return kx(r,[{key:"componentWillUpdate",value:function(e){(!this.props.isCurrentSpread&&e.isCurrentSpread||this.props.isCurrentSpread&&0===this._arrivedAtTick)&&(this._arrivedAtTick=this.isAllPagesLoaded()&&e.isSnapped?Cw.lastTick:0),e.isCurrentSpread||(this._arrivedAtTick=0)}},{key:"componentDidMount",value:function(){this.props.isCurrentSpread&&(r.scroller.resize(r.scroller.top,r.scroller.left,r.scroller.zoom,this.width,this.height,this.width,this.height),r.scroller.setSnap(!0,this.spreadSnapFunction,!1))}},{key:"componentDidUpdate",value:function(e){if(this.props.width!==e.width||this.props.height!==e.height){var t=this.getCenter(),n=r.scroller.zoom,o=t.x*this.width,i=t.y*this.height,a=o-this.width/r.scroller.zoom/2,s=i-this.height/r.scroller.zoom/2;r.scroller.resize(s,a,n,this.width,this.height,this.width,this.height)}this.props.isCurrentSpread&&!e.isCurrentSpread&&r.scroller.setSnap(!0,this.spreadSnapFunction,!1)}},{key:"onGestureStart",value:function(e,t,n,o){return r.scroller.touchStart(e,t,o),r._zoomBeforeStart=r.scroller.zoom,r._positionBeforeStart={left:r.scroller.left,top:r.scroller.top},r.scroller.zoom>1}},{key:"onGestureChange",value:function(e,t,n,o,i,a){return(1===r.scroller.zoom&&"ZOOM_IN"===a||r.scroller.zoom>1)&&(r.scroller.touchMove(e,t,o,i),this.requestRedraw(),!0)}},{key:"onGestureEnd",value:function(e){return r.scroller.touchEnd(e,Cw.lastTick),r.scroller.isMoving&&this.requestRedraw(),r.scroller.zoom!==r._zoomBeforeStart?(this.props.trackOnceMixpanel("reader3_interaction_finger_zoom",{action:r.scroller.zoom>r._zoomBeforeStart?"ZOOM_IN":"ZOOM_OUT"}),this.props.featureTracker.usage(av.GESTURE_PINCH_ZOOM)):r.scroller.top===r._positionBeforeStart.top&&r.scroller.left===r._positionBeforeStart.left||this.props.trackOnceMixpanel("reader3_interaction_pan"),r.scroller.zoom>1}},{key:"onDoubleTap",value:function(e,t){var n=this;this.props.dispatch(Ih());var o=Cw.lastTick;if(r.scroller.zoom>1)r.scroller.scrollTo(0,0,1,o).then((function(){n.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!1,action:"ZOOM_OUT"}),n.props.dispatch(Mh())}));else{this.props.featureTracker.usage(av.DOUBLE_TAP_ZOOM);var i=this.getViewportCTM().inverse().transformPoint(e,t),a=i[0]-r.scroller.width/4,s=i[1]-r.scroller.height/4;r.scroller.scrollTo(s,a,2,o).then((function(){n.props.trackOnceMixpanel("reader3_interaction_double_tap",{smartzoom:!1,action:"ZOOM_IN"}),n.props.dispatch(Mh())}))}return this.requestRedraw(),!0}},{key:"setZoom",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=r.scroller.top+r.scroller.height/r.scroller.zoom/2,o=r.scroller.left+r.scroller.width/r.scroller.zoom/2,i=n-r.scroller.height/e/2,a=o-r.scroller.width/e/2;t?r.scroller.scrollTo(i,a,e,Cw.lastTick):r.scroller.jumpTo(i,a,e),this.requestRedraw()}},{key:"getZoom",value:function(){return r.scroller.zoom}},{key:"getCenter",value:function(){var e=r.scroller.left+r.scroller.width/r.scroller.zoom/2,t=r.scroller.top+r.scroller.height/r.scroller.zoom/2;return{x:e/r.scroller.width,y:t/r.scroller.height}}},{key:"setCenter",value:function(e){var t=e.y-this.height/r.scroller.zoom/2,n=e.x-this.width/r.scroller.zoom/2,o=r.scroller.zoom,i=r.scroller.snapFunction(t,n,o);r.scroller.top=i.top,r.scroller.left=i.left}},{key:"isAllPagesLoaded",value:function(){var e,t=mx(this.props.pageModels);try{for(t.s();!(e=t.n()).done;){var r=e.value;if(!this.props.renderManager.isPageReady(r.pageNumber))return!1}}catch(e){t.e(e)}finally{t.f()}return!0}},{key:"getChildTree",value:function(){var e=this.props.pageModels,t=this.props.width,r=this.props.height,n=e.map((function(e){return e.width})).reduce((function(e,t){return e+t}),0),o=Math.max.apply(Math,dx(e.map((function(e){return e.height})))),i=aw(1===e.length&&"DOUBLE_PAGE_SPREAD"===this.props.readMode?e[0].width:n,o,t,r),a=t/i,s=r/i,u=(a-n)/2,c=(s-o)/2;this.borders={top:c*i,right:t-u*i,bottom:r-c*i,left:u*i};var l=u,f=(s-e[0].height)/2,p=(new nw).mScale(i).mTranslate(l,f),d=Cw.createElement(fx,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[0],mayRenderLinks:this.props.mayRenderLinks,model:e[0],pageType:aO,showLinkToolTip:this.props.showLinkToolTip,transform:p,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap});if(2===e.length){l=u+e[0].width,f=(s-e[1].height)/2;var h=(new nw).mScale(i).mTranslate(l,f);return[d,Cw.createElement(fx,{arrivedAtSpreadTick:this._arrivedAtTick,dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,hideLinkToolTip:this.props.hideLinkToolTip,isLinksToggledOn:this.props.isLinksToggledOn,isPaywalled:this.props.paywalledPageStatus[1],mayRenderLinks:this.props.mayRenderLinks,model:e[1],pageType:sO,showLinkToolTip:this.props.showLinkToolTip,transform:h,renderManager:this.props.renderManager,onDoubleTap:this.onPageDoubleTap})]}return[d]}},{key:"afterDraw",value:function(e){var t=r.scroller.isAnimating||r.scroller.isDragging||r.scroller.isMoving;r.scroller.update(Cw.lastTick),(r.scroller.isAnimating||r.scroller.isDragging||r.scroller.isMoving||t)&&this.requestRedraw(),this.props.isCurrentSpread&&!this._arrivedAtTick&&this.isAllPagesLoaded()&&this.forceUpdate(),r._lastZoom!==r.scroller.zoom&&(r._lastZoom=r.scroller.zoom,this.props.dispatch(Pc(r.scroller.zoom,r.scroller.isDragging)))}},{key:"zOrder",get:function(){return this.props.isCurrentSpread?1:0}},{key:"displayName",get:function(){return"Spread"}},{key:"transform",get:function(){return r._transform.mSetMatrix(this.props.transform.matrix).mScale(r.scroller.zoom).mTranslate(-r.scroller.left,-r.scroller.top),r._transform}},{key:"inAnimation",get:function(){return!!r.scroller.isMoving||!!this.parent&&this.parent.inAnimation}},{key:"unzoomedBBox",get:function(){return this.props.transform.transformRect(Cw.RectPool.get(0,0,this.width,this.height))}}]),r}(Cw);function Lx(e){return(Lx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nx(e){return Ux(e)||Fx(e)||zx(e)||Bx()}function Bx(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fx(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Ux(e){if(Array.isArray(e))return Hx(e)}function Wx(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=zx(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function zx(e,t){if(e){if("string"==typeof e)return Hx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hx(e,t):void 0}}function Hx(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gx(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qx(e,t,r){return t&&Gx(e.prototype,t),r&&Gx(e,r),e}function $x(e,t,r){return($x="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Kx(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(r):o.value}})(e,t,r||e)}function Kx(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=tk(e)););return e}function Yx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xx(e,t)}function Xx(e,t){return(Xx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Zx(e){var t=ek();return function(){var r,n=tk(e);if(t){var o=tk(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Jx(this,r)}}function Jx(e,t){return!t||"object"!==Lx(t)&&"function"!=typeof t?Qx(e):t}function Qx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ek(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function tk(e){return(tk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Dx(Mx,"_transform",new nw),Dx(Mx,"scroller",new PE(0,0,1,1,1,1,1)),Dx(Mx,"_lastZoom",1),Dx(Mx,"_zoomBeforeStart",1),Dx(Mx,"_positionBeforeStart",{top:0,left:0});var nk=function(e){Yx(r,e);var t=Zx(r);function r(e,n){var o;return Vx(this,r),rk(Qx(o=t.call(this,e,n)),"_lastCenterSpreadIndex",-1),rk(Qx(o),"_isSnapped",!0),rk(Qx(o),"_scrollerMovedLastFrame",!1),rk(Qx(o),"_lastVisiblePages",""),rk(Qx(o),"_lastPositionInPercent",0),rk(Qx(o),"_spreadIndexBeforeGestureStart",0),rk(Qx(o),"scroller",void 0),rk(Qx(o),"snapFunction",(function(e,t,r){var n=o.clampChildrenIndex(o.getSpreadIndexAt(t+o.props.viewportWidth/2)),i=o.children[n];if(!i)return{left:t,top:0,zoom:1};var a=i.unzoomedBBox,s=a.x-o.xMargin;return Cw.RectPool.release(a),{left:s,top:0,zoom:1}})),o.scroller=new PE(0,0,1,o.props.viewportWidth,o.props.viewportHeight,o.width,o.height),o}return qx(r,[{key:"componentDidMount",value:function(){this.scroller.resize(0,0,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),this.scroller.setSnap(!0,this.snapFunction,!1);var e=this.clampChildrenIndex(this.props.currentSpreadIndex),t=this.children[e].unzoomedBBox;this.scroller.jumpTo(0,t.x-this.xMargin,1),Cw.RectPool.release(t),this.props.featureTracker.opportunity(av.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(av.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(av.GESTURE_DRAG_PAGES)}},{key:"componentDidUpdate",value:function(e){if(this.props.viewportWidth!==e.viewportWidth||this.props.viewportHeight!==e.viewportHeight){var t=this.children[this.props.currentSpreadIndex].unzoomedBBox,r=t.x-this.xMargin;this.scroller.resize(0,r,1,this.props.viewportWidth,this.props.viewportHeight,this.width,this.height),Cw.RectPool.release(t)}}},{key:"getChildrenToTraverse",value:function(){var e=this.getSpreadIndexAt(this.scroller.left),t=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1);return this.children.slice(Math.max(e,0),Math.min(t,this.children.length-1)+1)}},{key:"clampChildrenIndex",value:function(e){return Math.max(Math.min(e,this.children.length-1),0)}},{key:"onGestureStart",value:function(e,t,r,n){return this._spreadIndexBeforeGestureStart=this.props.currentSpreadIndex,this.scroller.touchStart(e,t,n),1===r.length}},{key:"onGestureChange",value:function(e,t,r,n,o,i){return("SWIPE_LEFT"===i||"SWIPE_RIGHT"===i)&&1===r.length&&(this.scroller.touchMove(e,t,n,o),this.requestRedraw(),!0)}},{key:"onGestureEnd",value:function(e){return this.scroller.touchEnd(e,Cw.lastTick),this.props.currentSpreadIndex!==this._spreadIndexBeforeGestureStart&&this.props.featureTracker.usage(av.GESTURE_DRAG_PAGES),this.scroller.isMoving&&this.requestRedraw(),!0}},{key:"onSingleTapConfirmed",value:function(e,t,r){var n=this.getCurrentSpread(),o=n.children[0].viewportBBox;if(n.children.length>1){var i=n.children[1].viewportBBox;o.width+=i.width,o.height=Math.max(o.height,i.height),o.y=Math.min(o.y,i.y)}if(t>o.y&&t<o.y+o.height){var a=this.children.indexOf(n);if(e<o.x)return this.goToSpread(a-1),!0;if(e>o.x+o.width)return this.goToSpread(a+1),!0}return!1}},{key:"getCurrentSpreadIndex",value:function(){return this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth/2)}},{key:"getCurrentSpread",value:function(){return this.children[this.getCurrentSpreadIndex()]}},{key:"getVisiblePageNumbers",value:function(){for(var e=[],t=Math.max(this.getSpreadIndexAt(this.scroller.left),0),r=this.getSpreadIndexAt(this.scroller.left+this.props.viewportWidth-1),n=Cw.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),o=t;o<=r;o++){var i,a=Wx(this.children[o].children);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=s.viewportBBox;ow(n,u)&&e.push(s.model.pageNumber),Cw.RectPool.release(u)}}catch(e){a.e(e)}finally{a.f()}}return Cw.RectPool.release(n),e}},{key:"setSnapping",value:function(e){this.scroller.setSnap(e,null,!0,Cw.lastTick),this.requestRedraw()}},{key:"jumpToPositionByPercent",value:function(e){this.getCurrentSpread().setZoom(1),this.scroller.jumpTo(0,e*(this.width-this.props.viewportWidth)/100),this.requestRedraw()}},{key:"goToSpread",value:function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.scrollTo(0,r.x-this.xMargin,1,Cw.lastTick),Cw.RectPool.release(r),this.requestRedraw()}}},{key:"jumpToSpread",value:function(e){if(this.getCurrentSpreadIndex()!==e){this.getCurrentSpread().setZoom(1);var t=this.clampChildrenIndex(e),r=this.children[t].unzoomedBBox;this.scroller.jumpTo(0,r.x-this.xMargin,1),Cw.RectPool.release(r),this.requestRedraw()}}},{key:"getSpreadIndexAt",value:function(e){var t=Math.floor((e-this.xMargin)/(this.props.viewportWidth-this.xMargin-this.xOverlap));return Math.min(Math.max(t,0),this.children.length-1)}},{key:"getChildTree",value:function(){var e=this;return this.props.documentPageSpreadList.map((function(t,r){var n=(e.props.viewportWidth-e.xMargin-e.xOverlap)*r+e.xMargin,o=new nw;return o.mTranslate(n,e.yMargin),Cw.createElement(Mx,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*e.yMargin,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:r===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks,trackOnceMixpanel:e.props.trackOnceMixpanel,pageModels:t.pages,paywalledPageStatus:t.pages.map((function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)})),readMode:e.props.readMode,showLinkToolTip:e.props.showLinkToolTip,transform:o,width:e.props.viewportWidth-2*e.xMargin,renderManager:e.props.renderManager,smartnavAsset:e.props.smartnavAsset,xMargin:e.xMargin,yMargin:e.yMargin,viewportWidth:e.props.viewportWidth,viewportHeight:e.props.viewportHeight})}))}},{key:"afterDraw",value:function(e){var t=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;this.scroller.update(Cw.lastTick);var r=this.scroller.isDragging||this.scroller.isAnimating||this.scroller.isMoving;(r||t)&&(this._isSnapped?(this._isSnapped=!1,this.forceUpdate()):this.requestRedraw()),r||!this.scroller.isSnapped()||this._isSnapped?this._isSnapped||this.requestRedraw():(this._isSnapped=!0,this.forceUpdate()),!this._scrollerMovedLastFrame&&r?this.props.onAnimationStart():this._scrollerMovedLastFrame&&!r&&this.props.onAnimationEnd(),this._scrollerMovedLastFrame=r;var n=this.getCurrentSpreadIndex();n!==this.props.currentSpreadIndex&&this.props.onSpreadChange(n);var o=this.getVisiblePageNumbers(),i=o.join()!==this._lastVisiblePages;this._lastVisiblePages=o.join();var a=-1===this._lastCenterSpreadIndex,s=this._lastCenterSpreadIndex!==n&&!a,u=this.children[n].children.map((function(e){return e.model.pageNumber})),c=this.props.currentPageNumber;if(s)c=u[0];else if(!o.includes(c)){var l=o.find((function(e){return u.includes(e)}));"number"==typeof l&&(c=l)}this._lastCenterSpreadIndex=n;var f=this.scroller.getHorizontalPositionInPercent(),p=f!==this._lastPositionInPercent;this._lastPositionInPercent=f;var d=this.scroller.isDragging;if((p||s||i)&&this.props.dispatch(Fo(o,n,c,u,f,p,s,i,d)),s||a){var h=Array.from(new Set([].concat(Nx(o),Nx(u))));this.props.renderManager.setActivePages(h,this.props.readMode)}}},{key:"width",get:function(){var e=this.children?this.children.length:0;return this.props.viewportWidth*e-(this.xMargin+this.xOverlap)*(e-1)}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"transform",get:function(){return this._transform||(this._transform=new nw),this._transform.mReset().mTranslate(-this.scroller.left,-this.scroller.top),this._transform}},{key:"inAnimation",get:function(){return!!this.scroller.isMoving||$x(tk(r.prototype),"inAnimation",this)}},{key:"xMargin",get:function(){var e="DOUBLE_PAGE_SPREAD"===this.props.readMode?us:fs;return aa()*e}},{key:"yMargin",get:function(){var e=0;return e="DOUBLE_PAGE_SPREAD"===this.props.readMode?this.props.allowUIToOverlayCover?cs:ls:this.props.allowUIToOverlayCover?ps:ds,aa()*e}},{key:"xOverlap",get:function(){return 0}}]),r}(Cw);function ok(e){return!!(window.WebGLRenderingContext&&e instanceof WebGLRenderingContext)||!(!e||!e.hasOwnProperty("drawingBufferWidth"))}function ik(e){var t={failIfMajorPerformanceCaveat:!0,stencil:!0};try{var r=e.getContext("webgl",t);if(r)return r}catch(e){}try{var n=e.getContext("experimental-webgl",t);if(n)return n}catch(e){}return null}function ak(e){return(ak="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ck(e,t,r){return t&&uk(e.prototype,t),r&&uk(e,r),e}function lk(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fk(e,t)}function fk(e,t){return(fk=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pk(e){var t=vk();return function(){var r,n=yk(e);if(t){var o=yk(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return dk(this,r)}}function dk(e,t){return!t||"object"!==ak(t)&&"function"!=typeof t?hk(e):t}function hk(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vk(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function yk(e){return(yk=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gk=15,_k=12,bk=20,wk="'Open Sans', Helvetica, Arial, Tahoma, Sans-serif",Ek=12,Ok="#4c4c4c",Tk="#ffffff",xk=function(e){lk(r,e);var t=pk(r);function r(e,n){var o;return sk(this,r),mk(hk(o=t.call(this,e,n)),"_renderedText",""),mk(hk(o),"_textWidth",0),mk(hk(o),"gl",void 0),mk(hk(o),"_texture",null),mk(hk(o),"_alphaCanvas",void 0),ok(o.root.props.ctx)&&(o.gl=o.root.props.ctx,o.initializeTexture()),o}return ck(r,[{key:"componentWillUnmount",value:function(){this.gl&&this._texture&&this.gl.deleteTexture(this._texture)}},{key:"initializeTexture",value:function(){if(this.gl){var e=this.gl;this._texture=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this._texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}}},{key:"drawRoundRect",value:function(e,t,r,n,o,i){e.beginPath(),e.moveTo(t+i,r),e.lineTo(t+n-i,r),e.quadraticCurveTo(t+n,r,t+n,r+i),e.lineTo(t+n,r+o-i),e.quadraticCurveTo(t+n,r+o,t+n-i,r+o),e.lineTo(t+i,r+o),e.quadraticCurveTo(t,r+o,t,r+o-i),e.lineTo(t,r+i),e.quadraticCurveTo(t,r,t+i,r),e.closePath(),e.fill(),e.stroke()}},{key:"updateOffscreenCanvases",value:function(){var e=this._alphaCanvas||document.createElement("canvas"),t=e.getContext("2d",{alpha:!1});t.font="".concat(Ek,"px ").concat(wk);var r=Math.ceil(t.measureText(this.text).width+_k),n=aa(),o=r*n,i=bk*n,a=4*n,s=3.5*n;e.width=o,e.height=i,t.fillStyle=Ok,t.strokeStyle=Ok,t.clearRect(0,0,o,i),this.drawRoundRect(t,0,0,o,i,a),t.fillStyle=Tk,t.textBaseline="alphabetic",t.textAlign="center",t.font="".concat(n*Ek,"px ").concat(wk),t.fillText(this.text,o/2,i/2+s),this._textWidth=r,this._renderedText=this.text,this._alphaCanvas=e}},{key:"updateTexture",value:function(){if(this.gl&&this._alphaCanvas){var e=this.gl,t=this._alphaCanvas;e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!1),e.bindTexture(e.TEXTURE_2D,this._texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t)}}},{key:"appendWebglOps",value:function(e,t,r){this._renderedText!==this.text&&(this.updateOffscreenCanvases(),this.updateTexture());var n=aa(),o=this._textWidth*n,i=bk*n,a=gk*n,s=this.props.link.viewportBBox,u={x:s.x+s.width/2-o/2,y:s.y+s.height+(a-i/2),width:o,height:i};e.push({type:"tooltip-operation",args:[this._texture,u,{x:0,y:0,width:1,height:1}]})}},{key:"draw",value:function(e,t){this._renderedText!==this.text&&this.updateOffscreenCanvases();var r=aa(),n=this._textWidth*r,o=bk*r,i=gk*r,a=this.props.link.viewportBBox,s=Math.round(a.x+a.width/2-n/2),u=Math.round(a.y+a.height+i-o/2);this._alphaCanvas&&e.drawImage(this._alphaCanvas,s,u,n,o)}},{key:"displayName",get:function(){return"LinkTooltip"}},{key:"width",get:function(){return this.props.link?this.props.link.width:0}},{key:"height",get:function(){return this.props.link?20:0}},{key:"isVisible",get:function(){return this.props.link&&this.props.link.isVisible}},{key:"model",get:function(){return this.props.link.model}},{key:"text",get:function(){return"gotoPage"===this.model.type?"Navigate to page ".concat(this.model.gotoPageNumber):"openUrl"===this.model.type?"".concat(this.model.url):""}}]),r}(Cw);r(352),r(354),r(355),r(357);function kk(e){var t=Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z);e.x/=t,e.y/=t,e.z/=t}function Sk(e,t,r,n,o,i,a){a.x+=i*t-o*r,a.y+=n*r-i*e,a.z+=o*e-n*t}function Pk(e,t,r,n,o){e<r-1&&o.push(n[t+0+3*r]-n[t+0],n[t+1+3*r]-n[t+1],n[t+2+3*r]-n[t+2])}function Ck(e,t,r,n,o){e>0&&o.push(n[t+0-3*r]-n[t+0],n[t+1-3*r]-n[t+1],n[t+2-3*r]-n[t+2])}function Ak(e,t,r,n,o){e>0&&o.push(n[t+0-3]-n[t+0],n[t+1-3]-n[t+1],n[t+2-3]-n[t+2])}function Rk(e,t,r,n,o){e<r-1&&o.push(n[t+0+3]-n[t+0],n[t+1+3]-n[t+1],n[t+2+3]-n[t+2])}function jk(e,t,r,n,o,i,a){t===n-1?(Ak(e,r,0,o,i),Ck(t,r,n,o,i),Rk(e,r,n,o,i)):0===e?(Ck(t,r,n,o,i),Rk(e,r,n,o,i),Pk(t,r,n,o,i)):0===t?(Rk(e,r,n,o,i),Pk(t,r,n,o,i),Ak(e,r,0,o,i)):e===n-1?(Pk(t,r,n,o,i),Ak(e,r,0,o,i),Ck(t,r,n,o,i)):(Pk(t,r,n,o,i),Ak(e,r,0,o,i),Ck(t,r,n,o,i),Rk(e,r,n,o,i));for(var s=i.length/3,u=0;u<s-1;u++)Sk(i[3*u+0],i[3*u+1],i[3*u+2],i[3*(u+1)+0],i[3*(u+1)+1],i[3*(u+1)+2],a)}var Ik={x:0,y:0,z:0},Dk=[];function Mk(e,t,r,n){for(var o=Ik,i=Dk,a=0;a<e;a++)for(var s=0;s<e;s++){o.x=0,o.y=0,o.z=0,i.length=0;var u=a*e*3+3*s;jk(s,a,u,e,t,i,o),kk(o),r[u+0]=o.x,r[u+1]=o.y,r[u+2]=o.z,n[u+0]=-o.x,n[u+1]=-o.y,n[u+2]=-o.z}}function Lk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nk(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bk(e,t,r){return t&&Nk(e.prototype,t),r&&Nk(e,r),e}function Fk(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uk(e,t,r){var n=Math.sin(t),o=Math.cos(t),i=e.y-r,a=Math.sqrt(e.x*e.x+i*i),s=Math.asin(e.x/a)/n,u=a*n,c=Math.sin(s),l=Math.cos(s);e.x=u*c,e.y=a+r-u*(1-l)*n,e.z=u*(1-l)*o}function Wk(e,t,r){var n=Math.sqrt(1+(1-r)*(1-r))*Math.sin(t),o=e.x/n;e.x=n*Math.sin(o),e.z=n-n*Math.cos(o)}var zk={x:0,y:0,z:0},Hk={x:0,y:0,z:0};function Vk(e,t,r,n){zk.x=e.x,zk.y=e.y,zk.z=e.z,Hk.x=e.x,Hk.y=e.y,Hk.z=e.z;var o=zk,i=Hk;n>0&&(o.y=1-o.y),Uk(o,t,r),n>0&&(o.y=1-o.y),Wk(i,t,r);var a=Math.abs(n);e.x=a*o.x+(1-a)*i.x,e.y=a*o.y+(1-a)*i.y,e.z=a*o.z+(1-a)*i.z}function Gk(e,t){var r=Math.sin(t),n=Math.cos(t),o=e.x*n-e.z*r,i=e.x*r+e.z*n;e.x=o,e.z=i}function qk(e){return dO(0,1,e)*Math.PI}function $k(e){return pO(.5,.082,e)*Math.PI}function Kk(e){var t=.98,r=-8.1;return(e=Math.max(Math.min(e,1),0))<t?-6.8*Math.pow(e/t,20)-1.3:-391.9*Math.pow((e-t)/(1-t),6)+r}var Yk=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Lk(this,e),Fk(this,"size",void 0),Fk(this,"minDepth",void 0),Fk(this,"indices",void 0),Fk(this,"vertices",void 0),Fk(this,"normals",void 0),Fk(this,"perspectiveCorrections",void 0),Fk(this,"textureCoords",void 0),Fk(this,"backFacingIndices",void 0),Fk(this,"backFacingNormals",void 0),Fk(this,"backFacingTextureCoords",void 0),Fk(this,"_point",{x:0,y:0,z:0}),t<2)throw new Error("size must be at least 2");this.minDepth=r;for(var n=[],o=[],i=[],a=[],s=[],u=[],c=[],l=[],f=0;f<t;f++)for(var p=f/(t-1),d=0;d<t;d++){var h=d/(t-1),v=this._tweakDepth(0);n.push(h,p,v),o.push(0,0,1),a.push(this._getPerspectiveCorrection(v)),s.push(h,p),u.push(0,0,-1),l.push(1-h,p)}for(var y=0;y<t-1;y++)for(var m=(y+0)*t,g=(y+1)*t,_=0;_<t-1;_++){var b=m+_,w=g+_;i.push(w,b,w+1),i.push(b,b+1,w+1),c.push(w+1,b+1,w),c.push(b+1,b,w)}this.size=t,this.indices=new Uint16Array(i),this.vertices=new Float32Array(n),this.normals=new Float32Array(o),this.perspectiveCorrections=new Float32Array(a),this.textureCoords=new Float32Array(s),this.backFacingIndices=new Uint16Array(c),this.backFacingNormals=new Float32Array(u),this.backFacingTextureCoords=new Float32Array(l)}return Bk(e,[{key:"_tweakDepth",value:function(e){return.8*Math.max(e,this.minDepth)}},{key:"_getPerspectiveCorrection",value:function(e){return 1+e/.8*-.2}},{key:"_bendPoint",value:function(e,t,r,n,o,i){Vk(e,t,r,o),Gk(e,n),e.x*=i?-1:1,e.z=this._tweakDepth(e.z)}},{key:"bend",value:function(e,t){for(var r=1/e<0,n=Math.abs(e),o=qk(n),i=$k(n),a=Kk(n),s=this._point,u=0;u<this.size;u++)for(var c=0;c<this.size;c++){s.x=c/(this.size-1),s.y=u/(this.size-1),s.z=0,this._bendPoint(s,i,a,o,t,r);var l=u*this.size*3+3*c;this.vertices[l+0]=s.x,this.vertices[l+1]=s.y,this.vertices[l+2]=s.z,this.perspectiveCorrections[u*this.size+c]=this._getPerspectiveCorrection(s.z)}Mk(this.size,this.vertices,this.normals,this.backFacingNormals)}},{key:"calculateProgress",value:function(e,t,r,n,o){var i=e<t;if(i){if(r<=e)return-0;if(r>=t)return-1}else{if(r>=e)return 0;if(r<=t)return 1}for(var a=this._point,s=i?-.5:.5,u=0;u<16;u++){var c=Math.abs(s),l=qk(c),f=$k(c),p=Kk(c);a.x=1,a.y=(o+1)/2,a.z=0,this._bendPoint(a,f,p,l,o,i);var d=a.x/this._getPerspectiveCorrection(a.z),h=n.x+n.width*d;if(Math.abs(h-r)<1)break;s+=Math.sign(h-r)/Math.pow(2,u+2)}return Math.max(Math.min(s,1),-1)}}]),e}();function Xk(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[0],flat:null,bbox:r,edge:r.x+r.width},end:{bending:null,flat:t[0],bbox:n,edge:n.x}}}function Zk(e,t){var r=e[0].viewportBBox,n=t[0].viewportBBox;return{start:{bending:null,flat:e[0],bbox:r,edge:r.x},end:{bending:t[0],flat:null,bbox:n,edge:n.x+n.width}}}function Jk(e,t){var r=e[e.length-1].viewportBBox,n=t[0].viewportBBox;return{start:{bending:e[e.length-1],flat:e.length>1?e[0]:null,bbox:r,edge:r.x+r.width},end:{bending:t[0],flat:t.length>1?t[t.length-1]:null,bbox:Object.assign({},n,{x:n.x+n.width}),edge:n.x}}}function Qk(e,t){var r=e[0].viewportBBox,n=t[t.length-1].viewportBBox;return{start:{bending:e[0],flat:e.length>1?e[e.length-1]:null,bbox:Object.assign({},r,{x:r.x+r.width}),edge:r.x},end:{bending:t[t.length-1],flat:t.length>1?t[0]:null,bbox:n,edge:n.x+n.width}}}function eS(e,t,r,n){return"SINGLE_PAGE_SPREAD"===r?n?Zk(e,t):Xk(e,t):n?Qk(e,t):Jk(e,t)}function tS(e){return(tS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rS(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=iS(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function nS(e){return sS(e)||aS(e)||iS(e)||oS()}function oS(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function iS(e,t){if(e){if("string"==typeof e)return uS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uS(e,t):void 0}}function aS(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function sS(e){if(Array.isArray(e))return uS(e)}function uS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fS(e,t,r){return t&&lS(e.prototype,t),r&&lS(e,r),e}function pS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dS(e,t)}function dS(e,t){return(dS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hS(e){var t=mS();return function(){var r,n=gS(e);if(t){var o=gS(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return vS(this,r)}}function vS(e,t){return!t||"object"!==tS(t)&&"function"!=typeof t?yS(e):t}function yS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function gS(e){return(gS=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bS=.36,wS=0,ES=1e-4,OS=.001;function TS(e){return"SINGLE_PAGE_SPREAD"===e?200:400}function xS(e){var t=Math.abs(e);return t<.1?pO(0,1,10*t):t>.9?pO(0,1,10*(1-t)):1}var kS=function(e){pS(r,e);var t=hS(r);function r(e,n){var o;cS(this,r),_S(yS(o=t.call(this,e,n)),"animation",void 0),_S(yS(o),"_targetSpreadIndex",void 0),_S(yS(o),"_gesture",{startX:0,startY:0,endX:0,endY:0,velocity:0,timeStamp:0}),_S(yS(o),"_bendingMesh",new Yk(25,OS)),_S(yS(o),"_flatMesh",new Yk(2,wS)),_S(yS(o),"_isSnapped",!0),_S(yS(o),"_wasAnimatingLastFrame",!1),_S(yS(o),"_lastSpreadIndex",-1),_S(yS(o),"_lastPositionInPercent",0),_S(yS(o),"_lastVisiblePages",""),_S(yS(o),"_pendingTargetSpreadIndex",NaN),_S(yS(o),"_lightRatioEasing",xS),_S(yS(o),"_progressEasing",(function(e){return o.animation.value(e)})),_S(yS(o),"_justStartedAnimation",!1),o._targetSpreadIndex=o.props.currentSpreadIndex;var i="material"===e.experiment?{easing:NE.MATERIAL}:"cubic"===e.experiment?{easing:NE.EASE_IN_OUT_CUBIC}:void 0;return o.animation=new NE(Number.MAX_VALUE,TS(o.props.readMode),i),o}return fS(r,[{key:"componentDidMount",value:function(){this.props.featureTracker.opportunity(av.DOUBLE_TAP_ZOOM),this.props.featureTracker.opportunity(av.GESTURE_PINCH_ZOOM),this.props.canChangePages&&this.props.featureTracker.opportunity(av.GESTURE_DRAG_PAGES)}},{key:"onGestureStart",value:function(e,t,r,n){return!this.props.disableGestures&&(this.animation.isRunning(Cw.lastTick)&&this.jumpToSpread(this._targetSpreadIndex),this._gesture={startX:e,startY:t,endX:e,endY:t,velocity:0,timeStamp:n},!0)}},{key:"onGestureChange",value:function(e,t,r,n,o,i){if(this.props.disableGestures)return!1;if(("SWIPE_LEFT"===i||"SWIPE_RIGHT"===i)&&1===r.length){var a=-(e-this._gesture.endX)/Math.max(1,n-this._gesture.timeStamp)*.6+.4*this._gesture.velocity;this._gesture.endX=e,this._gesture.endY=t,this._gesture.timeStamp=n,this._gesture.velocity=a;var s=this.getCurrentSpreadIndex(),u=this._getValidSpreadIndex(s+("SWIPE_LEFT"===i?1:-1));return s!==u&&this._tweakAnimation({duration:Number.MAX_VALUE,targetSpreadIndex:u}),!0}return!1}},{key:"onGestureEnd",value:function(e){if(this.props.disableGestures)return!1;if(this._isDraggingManually()){var t=this._getPageSetupForFlip(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=this._getProgressBasedOnFingerPosition(t.start.edge,t.end.edge),n=this._targetSpreadIndex>this.getCurrentSpreadIndex()?this._gesture.velocity>0:this._gesture.velocity<0,o=Math.abs(this._gesture.velocity),i=n&&(r>.6||o>bS),a=TS(this.props.readMode)*(.95-Math.atan(o)/Math.PI);return this._tweakAnimation({duration:a,startTime:Cw.lastTick-a*(i?r:1-r),reverse:!i}),i&&this.props.featureTracker.usage(av.GESTURE_DRAG_PAGES),!0}return!1}},{key:"onSingleTapConfirmed",value:function(e,t,r){var n=this.getCurrentSpread(),o=n.children[0].viewportBBox;if(n.children.length>1){var i=n.children[1].viewportBBox;o.width+=i.width,o.height=Math.max(o.height,i.height),o.y=Math.min(o.y,i.y)}if(t>o.y&&t<o.y+o.height){var a=this.children.indexOf(n);if(e<o.x)return this.props.disableGestures?this.jumpToSpread(Math.max(a-1,0)):this.goToSpread(Math.max(a-1,0)),!0;if(e>o.x+o.width)return this.props.disableGestures?this.jumpToSpread(Math.min(a+1,this.children.length-1)):this.goToSpread(Math.min(a+1,this.children.length-1)),!0}return!1}},{key:"getCurrentSpreadIndex",value:function(){return this.props.currentSpreadIndex}},{key:"getCurrentSpread",value:function(){return this.children[this.getCurrentSpreadIndex()]}},{key:"getVisiblePageNumbers",value:function(){var e=[];if(this.getCurrentSpreadIndex()!==this._targetSpreadIndex){var t=Math.min(this.getCurrentSpreadIndex(),this._targetSpreadIndex),r=Math.max(this.getCurrentSpreadIndex(),this._targetSpreadIndex);e.push.apply(e,nS(this.children[t].children.map((function(e){return e.model.pageNumber})))),e.push.apply(e,nS(this.children[r].children.map((function(e){return e.model.pageNumber}))))}else{var n,o=Cw.RectPool.get(0,0,this.props.viewportWidth,this.props.viewportHeight),i=rS(this.getCurrentSpread().children);try{for(i.s();!(n=i.n()).done;){var a=n.value,s=a.viewportBBox;ow(o,s)&&e.push(a.model.pageNumber),Cw.RectPool.release(s)}}catch(e){i.e(e)}finally{i.f()}Cw.RectPool.release(o)}return e}},{key:"setSnapping",value:function(e){}},{key:"jumpToPositionByPercent",value:function(e){this.getCurrentSpread().setZoom(1),this.jumpToSpread(Math.round(e/100*(this.children.length-1)))}},{key:"goToSpread",value:function(e){var t=Cw.lastTick;this.animation.isRunning(t)?this._pendingTargetSpreadIndex=e:this._animateToSpread(e,t,TS(this.props.readMode))}},{key:"jumpToSpread",value:function(e){this._animateToSpread(e,Cw.lastTick,0)}},{key:"_getValidSpreadIndex",value:function(e){return Math.max(0,Math.min(this.children.length-1,e))}},{key:"_animateToSpread",value:function(e,t,r){this._targetSpreadIndex=this._getValidSpreadIndex(e),this.getCurrentSpreadIndex()!==this._targetSpreadIndex&&(this.getCurrentSpread().setZoom(1),this._tweakAnimation({startTime:t,duration:r}))}},{key:"_tweakAnimation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.animation.duration="number"==typeof e.duration?e.duration:TS(this.props.readMode),this._targetSpreadIndex=this._getValidSpreadIndex("number"==typeof e.targetSpreadIndex?e.targetSpreadIndex:this._targetSpreadIndex),this.animation.reset(e.startTime||0),this.animation.options.reverse=!!e.reverse,this._justStartedAnimation=!0,this.requestRedraw()}},{key:"getChildrenToTraverse",value:function(){var e=this.getCurrentSpreadIndex();return this.children.slice(e,e+1)}},{key:"getChildTree",value:function(){var e=this,t=this.xMargin,r=this.yMargin,n=new nw;return n.mTranslate(t,r),this.props.documentPageSpreadList.map((function(o,i){return Cw.createElement(Mx,{dispatch:e.props.dispatch,featureTracker:e.props.featureTracker,height:e.props.viewportHeight-2*r,hideLinkToolTip:e.props.hideLinkToolTip,isCurrentSpread:i===e.props.currentSpreadIndex,isLinksToggledOn:e.props.isLinksToggledOn,isSnapped:e._isSnapped,mayRenderLinks:e.props.mayRenderLinks&&e._isSnapped,trackOnceMixpanel:e.props.trackOnceMixpanel,pageModels:o.pages,paywalledPageStatus:o.pages.map((function(t){return e.props.paywalledPageNumbers.includes(t.pageNumber)})),readMode:e.props.readMode,renderManager:e.props.renderManager,showLinkToolTip:e.props.showLinkToolTip,transform:n,width:e.props.viewportWidth-2*t,smartnavAsset:e.props.smartnavAsset,xMargin:e.xMargin,yMargin:e.yMargin,viewportWidth:e.props.viewportWidth,viewportHeight:e.props.viewportHeight})}))}},{key:"beforeDraw",value:function(e){!this._wasAnimatingLastFrame&&this.animation.isRunning(Cw.lastTick)&&this.props.onAnimationStart(),(!this.animation.isRunning(Cw.lastTick)&&(this._wasAnimatingLastFrame||this._justStartedAnimation)||0===this.animation.duration)&&(this.animation.options.reverse&&(this._targetSpreadIndex=this.getCurrentSpreadIndex()),this._targetSpreadIndex!==this.getCurrentSpreadIndex()&&this.props.onSpreadChange(this._targetSpreadIndex),isNaN(this._pendingTargetSpreadIndex)||(this.goToSpread(this._pendingTargetSpreadIndex),this._pendingTargetSpreadIndex=NaN))}},{key:"appendWebglOps",value:function(e,t,r){this.animation.isRunning(Cw.lastTick)?this._appendWebglOpsForFlipping(e,this.getCurrentSpreadIndex(),this._targetSpreadIndex,r):this._appendWebglOpsForPages(e,r),this._justStartedAnimation=!1}},{key:"afterDraw",value:function(e){this._wasAnimatingLastFrame&&!this.animation.isRunning(Cw.lastTick)&&this.props.onAnimationEnd();var t=this._isDraggingManually();this._wasAnimatingLastFrame=this.animation.isRunning(Cw.lastTick),this._wasAnimatingLastFrame&&!t&&this.requestRedraw();var r=this.getVisiblePageNumbers(),n=this.getCurrentSpreadIndex(),o=this.getCurrentSpread().children.map((function(e){return e.model.pageNumber})),i=n/Math.max(this.children.length-1,1)*100,a=this._lastPositionInPercent!==i,s=-1===this._lastSpreadIndex,u=this._lastSpreadIndex!==n&&!s,c=r.join()!==this._lastVisiblePages,l=this.props.currentPageNumber;if(u)l=o[0];else if(!r.includes(l)){var f=r.find((function(e){return o.includes(e)}));"number"==typeof f&&(l=f)}if(this._lastPositionInPercent=i,this._lastSpreadIndex=n,this._lastVisiblePages=r.join(),(a||u||c)&&this.props.dispatch(Fo(r,n,l,o,i,a,u,c,t)),this._wasAnimatingLastFrame===this._isSnapped&&(this._isSnapped=!this._wasAnimatingLastFrame,this._isSnapped||this.props.hideLinkToolTip(),this.forceUpdate()),u||s){var p=Array.from(new Set([].concat(nS(r),nS(o))));this.props.renderManager.setActivePages(p,this.props.readMode)}}},{key:"_appendWebglOpsForFlipping",value:function(e,t,r,n){var o=this,i=this._getPageSetupForFlip(t,r),a=r<t,s=this._getConicContribution(),u=this._getProgressBasedOnFingerPosition(i.start.edge,i.end.edge),c=cO(this._transformBBox(i.start.bbox,i.end.bbox,u),sO),l=this._bendingMesh.calculateProgress(i.start.edge,i.end.edge,this._getFingerPosition(i.start.edge,i.end.edge),c,s);this._bendingMesh.bend(l,s);var f=this._lightRatioEasing(u),p=i.start.bending?this._loadPreviewTextureInfos(i.start.bending,c,n).ops:[],d=i.end.bending?this._loadPreviewTextureInfos(i.end.bending,c,n).ops:[];if(p.some((function(e){return e&&(e.type===MT||e.type===LT)}))||(p=[null]),d.some((function(e){return e&&(e.type===MT||e.type===LT)}))||(d=[null]),p.forEach((function(t){t&&t.type===BT?e.push({type:"fill-bending-page-operation",args:[o._bendingMesh,t,c,f,a,!!i.start.bending,Cw.lastTick]}):e.push({type:"bending-page-operation",args:[o._bendingMesh,t,c,f,a,!!i.start.bending,Cw.lastTick]})})),d.forEach((function(t){t&&t.type===BT?e.push({type:"fill-bending-page-operation",args:[o._bendingMesh,t,c,f,!a,!!i.end.bending,Cw.lastTick]}):e.push({type:"bending-page-operation",args:[o._bendingMesh,t,c,f,!a,!!i.end.bending,Cw.lastTick]})})),e.push({type:"depth-map-operation",args:[this._bendingMesh,c]}),i.start.flat&&i.end.bending){var h=this._transformBBox(i.start.flat.viewportBBox,i.end.bending.viewportBBox,u);this._appendWebglOpsForPage(e,i.start.flat,h,n),e.push({type:"shadow-operation",args:[h,ES]})}if(i.start.bending&&i.end.flat){var v=this._transformBBox(i.start.bending.viewportBBox,i.end.flat.viewportBBox,u);this._appendWebglOpsForPage(e,i.end.flat,v,n),e.push({type:"shadow-operation",args:[v,ES]})}}},{key:"_transformBBox",value:function(e,t,r){var n=Math.abs(r);return{x:fO(e.x,t.x,n),y:fO(e.y,t.y,n),width:fO(e.width,t.width,n),height:fO(e.height,t.height,n)}}},{key:"_isDraggingManually",value:function(){return!(this.animation.duration!==Number.MAX_VALUE||!this._gesture)}},{key:"_getConicContribution",value:function(){if(this.animation.duration!==TS(this.props.readMode)&&this._gesture){var e=(this._gesture.endY-this._gesture.startY)/(this.height-this._gesture.startY);return Math.min(1,Math.max(-1,e))}return-.5}},{key:"_getFingerPosition",value:function(e,t){return this._isDraggingManually()?this._gesture.endX-this._gesture.startX+e:e+(t-e)*this._progressEasing(Cw.lastTick)}},{key:"_getProgressBasedOnFingerPosition",value:function(e,t){var r=this._getFingerPosition(e,t);return Math.min(1,Math.max(0,(r-e)/(t-e)))}},{key:"_getPageSetupForFlip",value:function(e,t){var r=t<e;return eS(this.children[e].children,this.children[t].children,this.props.readMode,r)}},{key:"_appendWebglOpsForPages",value:function(e,t){var r=this;this.getCurrentSpread().children.forEach((function(n){r._appendWebglOpsForPage(e,n,n.viewportBBox,t)}))}},{key:"_appendWebglOpsForPage",value:function(e,t,r,n){var o=this;if(this.overlaps(r)){var i=cO(r,t.pageType),a=this._lightRatioEasing(0),s=this._loadTextureInfos(t,r,n),u=s.done,c=s.ops;c.forEach((function(t){t.type===BT?e.push({type:"fill-bending-page-operation",args:[o._flatMesh,t,i,a,!1,!0,Cw.lastTick]}):e.push({type:"bending-page-operation",args:[o._flatMesh,t,i,a,!1,!0,Cw.lastTick]})})),u||0!==c.length||e.push({type:"bending-page-operation",args:[this._flatMesh,null,i,a,!1,!0,Cw.lastTick]}),u||this.requestRedraw()}}},{key:"_loadPreviewTextureInfos",value:function(e,t,r){var n=this._loadTextureInfos(e,t,r);return n.ops=n.ops.filter((function(e){return e.type!==MT})),n}},{key:"_loadTextureInfos",value:function(e,t,r){return e.getOperations(t,r.width,r.height)}},{key:"width",get:function(){return this.props.viewportWidth}},{key:"height",get:function(){return this.props.viewportHeight}},{key:"xMargin",get:function(){var e=us;return aa()*e}},{key:"yMargin",get:function(){var e=this.props.allowUIToOverlayCover?cs:ls;return aa()*e}}]),r}(Cw);function SS(e){return(SS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PS(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=CS(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function CS(e,t){if(e){if("string"==typeof e)return AS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AS(e,t):void 0}}function AS(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function IS(e,t,r){return t&&jS(e.prototype,t),r&&jS(e,r),e}function DS(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&MS(e,t)}function MS(e,t){return(MS=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function LS(e){var t=FS();return function(){var r,n=US(e);if(t){var o=US(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return NS(this,r)}}function NS(e,t){return!t||"object"!==SS(t)&&"function"!=typeof t?BS(e):t}function BS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FS(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function US(e){return(US=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var zS=function(e){DS(r,e);var t=LS(r);function r(e,n){var o;return RS(this,r),WS(BS(o=t.call(this,e,n)),"_currentSpreadIndex",void 0),WS(BS(o),"spreadAnimator",void 0),WS(BS(o),"_isLinkToggledOn",!1),WS(BS(o),"_showTooltip",null),WS(BS(o),"_frameCountAtAnimationStart",-1),WS(BS(o),"_interactionStartTime",-1),WS(BS(o),"_inAnimation",!1),WS(BS(o),"onSpreadChange",(function(e){o._currentSpreadIndex=e,o._isLinkToggledOn=!1,o.forceUpdate()})),WS(BS(o),"onAnimationStart",(function(){o._frameCountAtAnimationStart=o.frameCount,o._interactionStartTime=Cw.lastTick,o._inAnimation=!0})),WS(BS(o),"onAnimationEnd",(function(){if(o._inAnimation=!1,o._frameCountAtAnimationStart>=0&&o._interactionStartTime>=0){var e=Cw.lastTick-o._interactionStartTime,t=e/(1e3/60)-(o.frameCount-o._frameCountAtAnimationStart);t>0&&o.props.metrics.onFrameDrop({droppedFrames:t,duration:e,webgl:o.props.usePageFlip})}})),WS(BS(o),"showLinkToolTip",(function(e){o._showTooltip!==e&&(o._showTooltip=e,o.forceUpdate())})),WS(BS(o),"hideLinkToolTip",(function(){o._showTooltip&&(o._showTooltip=null,o.forceUpdate())})),o.__store__=e.store,o._currentSpreadIndex=Go(e.readMode,e.currentPageNumber),o}return IS(r,[{key:"componentDidMount",value:function(){var e=this;this.spreadAnimator=this.children[0];var t={getVisibleComponents:function(){return e.getVisibleDescendants()},getRenderedViews:function(t){return e.getRenderedViews(t)},getReadMode:function(){return e.props.readMode},getPageComponent:function(t){var r,n=Go(e.props.readMode,t),o=null===(r=e.spreadAnimator)||void 0===r?void 0:r.children[n];return o.children[0].pageNumber===t?o.children[0]:o.children[1]},goToPage:function(e){t.goToSpread(Go(t.getReadMode(),e))},goToSpread:function(t){if(e.props.findIsVisible&&e.spreadAnimator)e.spreadAnimator.jumpToSpread(t);else{var r=e.owner;e.props.usePageFlip||e.props.dispatch(Vw()),setTimeout((function(){r.canvasObjectTree&&r.canvasObjectTree.spreadAnimator.goToSpread(t)}),0)}},jumpToPage:function(e){t.jumpToSpread(Go(t.getReadMode(),e))},jumpToSpread:function(t){var r;return null===(r=e.spreadAnimator)||void 0===r?void 0:r.jumpToSpread(t)},setSnapping:function(t){var r;return null===(r=e.spreadAnimator)||void 0===r?void 0:r.setSnapping(t)},jumpToPositionByPercent:function(t){var r;return null===(r=e.spreadAnimator)||void 0===r?void 0:r.jumpToPositionByPercent(t)},zoomCurrentView:function(t){var r,n;return null===(r=e.spreadAnimator)||void 0===r||null===(n=r.getCurrentSpread())||void 0===n?void 0:n.setZoom(t,!1)},getPosition:function(){return e.getPosition()},setPosition:function(t){return e.setPosition(t)}};this.props.dispatch(Rw(t))}},{key:"componentDidUpdate",value:function(e){!e.browserTabIsVisible&&this.props.browserTabIsVisible&&(this._interactionStartTime=-1,this._frameCountAtAnimationStart=-1)}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Iw())}},{key:"getChildTree",value:function(){var e={allowUIToOverlayCover:this.props.allowUIToOverlayCover,canChangePages:this.props.documentPageSpreadList.length>1,currentSpreadIndex:this._currentSpreadIndex,currentPageNumber:this.props.currentPageNumber,disableGestures:this.props.findIsVisible,dispatch:this.props.dispatch,documentPageSpreadList:this.props.documentPageSpreadList,featureTracker:this.props.featureTracker,hideLinkToolTip:this.hideLinkToolTip,isLinksToggledOn:this._isLinkToggledOn,mayRenderLinks:this.props.mayRenderLinks,trackOnceMixpanel:this.props.trackOnceMixpanel,paywalledPageNumbers:this.props.paywalledPageNumbers,onAnimationEnd:this.onAnimationEnd,onAnimationStart:this.onAnimationStart,onSpreadChange:this.onSpreadChange,readMode:this.props.readMode,showLinkToolTip:this.showLinkToolTip,viewportHeight:this.props.height,viewportWidth:this.props.width,renderManager:this.props.renderManager,smartnavAsset:this.props.smartnavAsset,experiment:this.props.experiment},t=this.props.usePageFlip?Cw.createElement(kS,e):Cw.createElement(nk,e);return[t,Cw.createElement(xk,{link:this._showTooltip})]}},{key:"onSingleTapConfirmed",value:function(e,t,r){return this._isLinkToggledOn=!this._isLinkToggledOn,this.forceUpdate(),!0}},{key:"getPosition",value:function(){var e,t,r=this,n=null===(e=this.spreadAnimator)||void 0===e?void 0:e.getCurrentSpread(),o=n.children,i=this.props.activeVideoLink;if(o.length<2?t=o[0]:i&&(t=o.find((function(e){return e.model.pageNumber===i.page.pageNumber}))),!t){var a=Cw.RectPool.get(0,0,this.width,this.height),s=o[0].viewportBBox,u=o[1].viewportBBox,c=ow(a,s)-ow(a,u);t=c>0?o[0]:c<0?o[1]:o.find((function(e){return e.model.pageNumber===r.props.currentPageNumber})),Cw.RectPool.release(a)}if(!t)return null;var l=n.getCenter(),f=t.transform.inverse().transformPoint(l.x*n.width,l.y*n.height);return{x:f[0]/t.width,y:f[1]/t.height,zoom:n.getZoom(),pageNumber:t.pageNumber}}},{key:"setPosition",value:function(e){var t,r=Go(this.props.readMode,e.pageNumber),n=null===(t=this.spreadAnimator)||void 0===t?void 0:t.children[r],o=n.children.find((function(t){return t.pageNumber===e.pageNumber}));if(Mx.scroller.zoom=e.zoom,o){var i,a=o.transform.transformPoint(e.x*o.width,e.y*o.height);n.setCenter({x:a[0],y:a[1]}),null===(i=this.spreadAnimator)||void 0===i||i.jumpToSpread(r),this.requestRedraw()}}},{key:"getRenderedViews",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={},r={x:0,y:0,width:this.width,height:this.height};return Cw.traverse(this,(function(n,o,i,a){if(!ow(r,o))return!1;if(e&&!n.isVisible)return!0;t.hasOwnProperty(n.displayName)||(t[n.displayName]=[]);var s,u={},c=PS(Object.keys(n).concat(Object.getOwnPropertyNames(Object.getPrototypeOf(n))));try{for(c.s();!(s=c.n()).done;){var l=s.value,f=n[l];"number"!=typeof f&&"string"!=typeof f&&"boolean"!=typeof f||(u[l]=f)}}catch(e){c.e(e)}finally{c.f()}var p=n.model||{};return t[n.displayName].push(Object.assign(n.viewportBBox,{model:p,view:u})),!0})),JSON.parse(JSON.stringify(t))}},{key:"frameCount",get:function(){return this.owner.frameCount}},{key:"inAnimation",get:function(){return this._inAnimation}}]),r}(Cw),HS=Cw.connect(zS,(function(e){return{allowUIToOverlayCover:Ns(e)||e.features.allowUIToOverlayCover,browserTabIsVisible:!e.visibility.isHidden,activeVideoLink:e.inlineVideo.activeVideoLink,currentPageNumber:e.reader.currentPageNumber,currentSpreadIndex:e.reader.currentSpreadIndex,documentPageSpreadList:Cs(e),findIsVisible:wi(e),featureTracker:e.featureTracker,mayRenderLinks:tE(e),paywalledPageNumbers:es(e),smartnavAsset:e.smartnav.pages,experiment:e.experiment.identifier}})),VS=r(103),GS=r.n(VS);function qS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KS(e,t,r){return t&&$S(e.prototype,t),r&&$S(e,r),e}function YS(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var XS={YOUTUBE_ERROR_INVALID_PARAMETER:2,YOUTUBE_ERROR_HTML5_PLAYER:5,YOUTUBE_ERROR_NOT_FOUND:100,YOUTUBE_ERROR_FORBIDDEN:101,YOUTUBE_ERROR_FORBIDDEN_IN_DISGUISE:150};function ZS(){return new Promise((function(e){var t=document.createElement("script");t.id="yt-api",t.src="https://web.archive.org/web/20220221113829/https://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode&&(r.parentNode.insertBefore(t,r),window.onYouTubeIframeAPIReady=e)}))}var JS=function(){function e(t,r){var n=this;qS(this,e),YS(this,"_player",void 0),YS(this,"id",void 0),YS(this,"_isFullscreen",!1),YS(this,"_maxReloadRetries",3),YS(this,"fullscreenCallback",void 0),YS(this,"playStatusCallback",void 0),YS(this,"_onFullscreenChange",(function(){var e=document.getElementById(n.id);n._isFullscreen=!!e&&e.contains(cu()),n.fullscreenCallback&&n.fullscreenCallback()})),YS(this,"_onStateChange",(function(){n.playStatusCallback&&n.playStatusCallback()})),this._player=r,this.id=t,au(this._onFullscreenChange)}return KS(e,[{key:"play",value:function(){return this._player.playVideo(),Promise.resolve()}},{key:"pause",value:function(){this._player.pauseVideo()}},{key:"destroy",value:function(){su(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.destroy()}},{key:"isPlaying",value:function(){return this._player.getPlayerState()===window.YT.PlayerState.PLAYING}},{key:"isFullscreen",value:function(){return this._isFullscreen}},{key:"isReady",value:function(){return this._player.getDuration()>0}}]),e}();function QS(e,t,r,n){return new Promise((function(o){var i=new JS(t,new window.YT.Player(t,{videoId:e,playerVars:{showinfo:0,autoplay:0,rel:0},events:{onReady:function(){r&&i._player.mute(),o(i)},onError:function(t){t.data===XS.YOUTUBE_ERROR_HTML5_PLAYER&&i._maxReloadRetries>0?(i._maxReloadRetries--,i._player.loadVideoById(e)):n()},onStateChange:function(){return i._onStateChange()}}}))}))}var eP=r(269);function tP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nP(e,t,r){return t&&rP(e.prototype,t),r&&rP(e,r),e}function oP(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iP=function(){function e(t,r){var n=this;tP(this,e),oP(this,"_player",void 0),oP(this,"id",void 0),oP(this,"_isPlaying",!1),oP(this,"_isFullscreen",!1),oP(this,"fullscreenCallback",void 0),oP(this,"playStatusCallback",void 0),oP(this,"_onPlay",(function(){n._isPlaying=!0,n._invokePlayStatusCallback()})),oP(this,"_onPause",(function(){n._isPlaying=!1,n._invokePlayStatusCallback()})),oP(this,"_onEnded",(function(){n._isPlaying=!1,n._invokePlayStatusCallback()})),oP(this,"_onFullscreenChange",(function(){var e=document.getElementById(n.id);n._isFullscreen=!!e&&e.contains(cu()),n.fullscreenCallback&&n.fullscreenCallback()})),this._player=r,this.id=t,this._player.on("play",this._onPlay),this._player.on("pause",this._onPause),this._player.on("ended",this._onEnded),au(this._onFullscreenChange)}return nP(e,[{key:"play",value:function(){return this._player.play()}},{key:"pause",value:function(){this._player.pause()}},{key:"destroy",value:function(){su(this._onFullscreenChange),this.fullscreenCallback=void 0,this.playStatusCallback=void 0,this._player.unload()}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isFullscreen",value:function(){return this._isFullscreen}},{key:"isReady",value:function(){return!0}},{key:"_invokePlayStatusCallback",value:function(){this.playStatusCallback&&this.playStatusCallback()}}]),e}();function aP(e,t,r){var n=new eP.a(t,{id:e,muted:r,autoplay:!1,autopause:!1,title:!1,portrait:!1,byline:!1,transparent:!1});return n.on("error",(function(t){n.loadVideo(e)})),n.ready().then((function(){return Promise.resolve(new iP(t,n))}))}var sP='\n    <svg width="60%" height="60%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g fill="#FFFFFF">\n                <path d="M16.4456672,18.0003762 L10.3219784,24.1243529 C9.89267388,24.5536776 9.89267388,25.249654 10.3219784,25.6787588 C10.5365207,25.8933112 10.8178877,26.0008073 11.0990349,26.0008073 C11.3804019,26.0008073 11.6617688,25.8933112 11.8763112,25.6787588 L18,19.5547821 L24.1236888,25.6787588 C24.3382312,25.8933112 24.6195981,26.0008073 24.9009651,26.0008073 C25.1821123,26.0008073 25.4634793,25.8933112 25.6780216,25.6787588 C26.1073261,25.249654 26.1073261,24.5536776 25.6780216,24.1243529 L19.5543328,18.0003762 L25.6780216,11.8763994 C26.1073261,11.4472946 26.1073261,10.7510983 25.6780216,10.3219935 C25.2487172,9.89266883 24.5529933,9.89266883 24.1236888,10.3219935 L18,16.4459703 L11.8763112,10.3219935 C11.4470067,9.89266883 10.7512828,9.89266883 10.3219784,10.3219935 C9.89267388,10.7510983 9.89267388,11.4472946 10.3219784,11.8763994 L16.4456672,18.0003762 Z"></path>\n            </g>\n        </g>\n    </svg>\n';function uP(){return(uP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function cP(e,t){if(null==e)return{};var r,n,o=lP(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function lP(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var fP=function(e){var t=e.color,r=e.size,n=cP(e,["color","size"]);return l.a.createElement("svg",uP({xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),l.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))};fP.defaultProps={color:"currentColor",size:"24"};var pP=fP;function dP(){return(dP=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hP(e,t){if(null==e)return{};var r,n,o=vP(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function vP(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var yP=function(e){var t=e.color,r=e.size,n=hP(e,["color","size"]);return l.a.createElement("svg",dP({xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:t,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},n),l.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),l.a.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),l.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"16"}))};yP.defaultProps={color:"currentColor",size:"24"};var mP=yP;function gP(e){return(gP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wP(e,t,r){return t&&bP(e.prototype,t),r&&bP(e,r),e}function EP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OP(e,t)}function OP(e,t){return(OP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function TP(e){var t=SP();return function(){var r,n=PP(e);if(t){var o=PP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xP(this,r)}}function xP(e,t){return!t||"object"!==gP(t)&&"function"!=typeof t?kP(e):t}function kP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function PP(e){return(PP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var CP={ERROR:"error",WARNING:"warning",INFO:"info"},AP=function(e){EP(r,e);var t=TP(r);function r(){return _P(this,r),t.apply(this,arguments)}return wP(r,[{key:"_getIcon",value:function(){switch(this.props.boxType){case CP.ERROR:return c.createElement(pP,{className:"msgbox-Icon msgbox-error-icon"});case CP.WARNING:return c.createElement(mP,{className:"msgbox-Icon msgbox-warning-icon"});case CP.INFO:return c.createElement("span",{className:"msgbox-Icon msgbox-info-icon"},"i");default:throw new Error("Wrong Message Box type!")}}},{key:"render",value:function(){var e=Wf()("msgbox-Root",{"msgbox-Root-error":this.props.boxType===CP.ERROR,"msgbox-Root-warning":this.props.boxType===CP.WARNING,"msgbox-Root-info":this.props.boxType===CP.INFO,"msgbox-Root__noheader":!this.props.header,"msgbox-Root__noclosebutton":!this.props.onClose},this.props.className);return c.createElement("div",{className:e},this._getIcon(),this.props.header&&c.createElement("p",{className:"msgbox-Header"},this.props.header),c.createElement("p",{className:"msgbox-Text"},this.props.text),c.createElement("div",{className:"msgbox-Actions"},this.props.linkText&&c.createElement("a",{className:"msgbox-Link",href:this.props.linkUrl,target:"_blank"},this.props.linkText),c.createElement("button",{className:"msgbox-Button",onClick:this.props.onSubmit},this.props.buttonText)),this.props.onClose&&c.createElement(tp,{className:"svg-btn msgbox-close-button",content:sP,onClick:this.props.onClose}))}}]),r}(c.Component);function RP(e){return(RP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DP(e,t,r){return t&&IP(e.prototype,t),r&&IP(e,r),e}function MP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&LP(e,t)}function LP(e,t){return(LP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function NP(e){var t=UP();return function(){var r,n=WP(e);if(t){var o=WP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return BP(this,r)}}function BP(e,t){return!t||"object"!==RP(t)&&"function"!=typeof t?FP(e):t}function FP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function WP(e){return(WP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zP=function(e){MP(r,e);var t=NP(r);function r(){return jP(this,r),t.apply(this,arguments)}return DP(r,[{key:"render",value:function(){return c.createElement(AP,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"We were unable to open this video.",text:"This video is hosted on ".concat(this.props.service,". You can try and view it there"),buttonText:"Open in ".concat(this.props.service),boxType:"error"})}}]),r}(c.Component);function HP(e){return(HP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function VP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qP(e,t,r){return t&&GP(e.prototype,t),r&&GP(e,r),e}function $P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&KP(e,t)}function KP(e,t){return(KP=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function YP(e){var t=JP();return function(){var r,n=QP(e);if(t){var o=QP(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return XP(this,r)}}function XP(e,t){return!t||"object"!==HP(t)&&"function"!=typeof t?ZP(e):t}function ZP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JP(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function QP(e){return(QP=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eC=function(e){$P(r,e);var t=YP(r);function r(){return VP(this,r),t.apply(this,arguments)}return qP(r,[{key:"render",value:function(){return c.createElement(AP,{onClose:this.props.onClose,onSubmit:this.props.onSubmit,header:"Video marked as explicit.",text:"You can still view this video on ".concat(this.props.service,"."),buttonText:"Open in ".concat(this.props.service),boxType:"warning"})}}]),r}(c.Component),tC='\n<svg width="36px" height="36px" viewBox="0 0 36 36" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g stroke-width="2" stroke="#F2F2F2" fill="#F2F2F2">\n            <path d="M12.3408714,10.0141234 C12.4387046,9.9874359 12.5458435,9.99787995 12.6384534,10.0513483 L25.7231942,17.6058269 C25.7441713,17.6179381 25.7635499,17.6317943 25.7812762,17.6471132 C25.8505849,17.6811974 25.9106579,17.7350136 25.9510292,17.8049388 C26.0614195,17.9961404 25.9953885,18.2409294 25.8085954,18.3487745 L12.645177,25.9486776 C12.5764657,25.9883481 12.5002354,26.0040755 12.4258831,25.9991127 C12.4172304,25.9996948 12.4085186,25.9999904 12.3997586,25.9999904 C12.178978,25.9999904 12,25.8204113 12,25.6047213 L12,10.404915 C12,10.2069041 12.152566,10.0428998 12.3408714,10.0141234 L12.3408714,10.0141234 Z">\n            </path>\n        </g>\n    </g>\n</svg>\n';function rC(e){return(rC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iC(e,t,r){return t&&oC(e.prototype,t),r&&oC(e,r),e}function aC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&sC(e,t)}function sC(e,t){return(sC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function uC(e){var t=fC();return function(){var r,n=pC(e);if(t){var o=pC(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return cC(this,r)}}function cC(e,t){return!t||"object"!==rC(t)&&"function"!=typeof t?lC(e):t}function lC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function pC(e){return(pC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var hC=[{width:210,height:120},{width:120,height:210}],vC={x:0,y:0,width:1,height:1},yC=function(e){aC(r,e);var t=uC(r);function r(){var e;nC(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return dC(lC(e=t.call.apply(t,[this].concat(o))),"_played",!1),dC(lC(e),"_playerInitialized",!1),dC(lC(e),"_trackingFlag",{videoImpressed:!1,videoWatched:!1,videoWentWrong:!1}),dC(lC(e),"state",{inlinePlayer:null,errorOccurred:!1}),dC(lC(e),"_playStatusCallback",(function(){e._played=e._played||e._isPlaying(),e.props.interactionCallback(e.props.inlineVideo,e._isPlaying(),e._isFullscreen()),e._shouldVideoBeRendered()&&e._trackOpportunity(),e._played&&e._trackUsage()})),dC(lC(e),"_fullscreenCallback",(function(){e.props.interactionCallback(e.props.inlineVideo,e._isPlaying(),e._isFullscreen())})),e}return iC(r,[{key:"componentDidMount",value:function(){this.props.shouldBeLoaded&&!this.props.isExplicit&&this._createPlayer()}},{key:"shouldComponentUpdate",value:function(e,t){return!GS()(this.props,e)||!GS()(this.state,t)}},{key:"componentDidUpdate",value:function(e){this.props.shouldBeLoaded&&!this.props.isExplicit?this._createPlayer():this._destroyPlayer();var t=this.state.inlinePlayer;if(t){t.fullscreenCallback=this._fullscreenCallback,t.playStatusCallback=this._playStatusCallback;var r=this.props,n=r.hidden,o=r.shouldBePaused,i=r.shouldAutoplay;this._isPlaying()&&(n||o)&&t.pause(),this._shouldVideoBeRendered()&&!n&&i&&!this._played&&t.play()}}},{key:"_createPlayer",value:function(){var e=this;if(!this._playerInitialized){var t,r=this.props.inlineVideo.link,n=(null===(t=r.inlineData)||void 0===t?void 0:t.autoplay)||!1,o=this._getVideoContainerId();"youtube"===r.videoService?QS(r.videoId,o,n,(function(){return e._trackError()})).then((function(t){return e.setState({inlinePlayer:t})})):"vimeo"===r.videoService&&aP(r.videoId,o,n).then((function(t){return e.setState({inlinePlayer:t})})).catch((function(t){return e._trackError()})),this._playerInitialized=!0}}},{key:"_getVideoContainerId",value:function(){var e=this.props.inlineVideo.link,t=e.videoService,r=e.id;return"videoplayer_".concat(t,"_").concat(r)}},{key:"_destroyPlayer",value:function(){var e=this;$().rIC((function(){var t=e.state.inlinePlayer;!t||e.props.shouldBeLoaded&&!e.state.errorOccurred||(t.fullscreenCallback=void 0,t.playStatusCallback=void 0,t.destroy(),e.setState({inlinePlayer:null}),e._playerInitialized=!1,e._played=!1)}))}},{key:"_isPlaying",value:function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isPlaying()}},{key:"_isFullscreen",value:function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isFullscreen()}},{key:"_isReady",value:function(){return!!this.state.inlinePlayer&&this.state.inlinePlayer.isReady()}},{key:"_playerSizeOk",value:function(e){var t=this.props.inlineVideo,r=t.link,n=t.pageWidth,o=t.pageHeight,i=aa();return hC.some((function(t){return e.width/i*(r.width/n)>t.width&&e.height/i*(r.height/o)>t.height}))}},{key:"_shouldVideoBeRendered",value:function(){var e=this.props.pageViewportBBox;return!!e&&(!(!this._isPlaying()&&!this._isFullscreen())||this._playerSizeOk(e)&&!!this.state.inlinePlayer&&!this.state.errorOccurred)}},{key:"_shouldIconBeRendered",value:function(){var e=this.props.pageViewportBBox;return!!e&&(!this._isPlaying()&&!this._isFullscreen()&&!this._playerSizeOk(e))}},{key:"_trackOpportunity",value:function(){this._isReady()&&(this._trackingFlag.videoImpressed||(this._trackingFlag.videoImpressed=!0,this.props.featureTracker.opportunity(av.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-opportunity",{view:1,service:this.props.inlineVideo.link.videoService})))}},{key:"_trackUsage",value:function(){this._trackingFlag.videoWatched||(this._trackingFlag.videoWatched=!0,this.props.featureTracker.usage(av.PUBLICATION_INLINE_VIDEO_LINK),this.props.metrics.monitor("reader3-inpub-video-view",{view:1,service:this.props.inlineVideo.link.videoService}))}},{key:"_trackError",value:function(){this._trackingFlag.videoWentWrong||(this._trackingFlag.videoWentWrong=!0,this.props.metrics.monitor("reader3-inpub-video-error",{failure:1,service:this.props.inlineVideo.link.videoService}),this._destroyPlayer(),this.setState({errorOccurred:!0}))}},{key:"_adjustAlignment",value:function(e,t){var r=e.top,n=e.left,o=r+e.height,i=n+e.width;Math.abs(r-t.top)<=4&&(r=t.top),Math.abs(n-t.left)<=4&&(n=t.left),Math.abs(o-(t.top+t.height))<=4&&(o=t.top+t.height),Math.abs(i-(t.left+t.width))<=4&&(i=t.left+t.width),e.top=Math.floor(r),e.left=Math.floor(n),e.height=Math.ceil(o)-e.top,e.width=Math.ceil(i)-e.left}},{key:"renderPlayer",value:function(){var e=this._shouldVideoBeRendered();e&&this._trackOpportunity();var t={display:e?"block":"none"};return c.createElement("div",{className:"inline-video__player",style:t},c.createElement("div",{id:this._getVideoContainerId()}))}},{key:"renderArrow",value:function(){var e={display:this._shouldIconBeRendered()?"block":"none"};return c.createElement("div",{className:"inline-video__cta",style:e,dangerouslySetInnerHTML:{__html:tC}})}},{key:"renderMessage",value:function(){var e=this.props,t=e.pageViewportBBox,r=e.inlineVideo.link,n=r.videoService,o=r.url,i={display:!!t&&this._playerSizeOk(t)?"block":"none"};return this.props.isExplicit?c.createElement("div",{className:"inline-video__message",style:i},c.createElement(eC,{onSubmit:function(){return window.open(o,"_blank")},service:n})):this.state.errorOccurred?c.createElement("div",{className:"inline-video__message",style:i},c.createElement(zP,{onSubmit:function(){return window.open(o,"_blank")},service:n})):null}},{key:"render",value:function(){var e=this.props.inlineVideo,t=e.link,r=e.pageWidth,n=e.pageHeight,o=this.props.pageViewportBBox||vC,i=aa(),a={top:o.y/i,left:o.x/i,width:o.width/i,height:o.height/i},s=a.width/r,u=a.height/n,l={top:t.y*u+a.top,left:t.x*s+a.left,width:t.width*s,height:t.height*u};return this._adjustAlignment(l,a),c.createElement("div",{className:"inline-video__container",style:l},this.renderPlayer(),this.renderArrow(),this.renderMessage())}}]),r}(c.Component),mC="youtube_api_ready",gC="set_active_video_link";function _C(){return{type:mC}}function bC(e){return{type:gC,videoLink:e}}function wC(e){return(wC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function EC(e){return kC(e)||xC(e)||TC(e)||OC()}function OC(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function TC(e,t){if(e){if("string"==typeof e)return SC(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?SC(e,t):void 0}}function xC(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function kC(e){if(Array.isArray(e))return SC(e)}function SC(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AC(e,t,r){return t&&CC(e.prototype,t),r&&CC(e,r),e}function RC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jC(e,t)}function jC(e,t){return(jC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IC(e){var t=LC();return function(){var r,n=NC(e);if(t){var o=NC(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return DC(this,r)}}function DC(e,t){return!t||"object"!==wC(t)&&"function"!=typeof t?MC(e):t}function MC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function NC(e){return(NC=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BC(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FC=2,UC=function(e){RC(r,e);var t=IC(r);function r(){var e;PC(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return BC(MC(e=t.call.apply(t,[this].concat(o))),"_youtubeCheck",!1),BC(MC(e),"_interactionCallback",(function(t,r,n){if(n||r)e.props.dispatch(bC(t.link));else{var o=e.props.activeVideoLink,i=t.link.id;o&&o.id===i&&!r&&e.props.dispatch(bC(null))}})),e}return AC(r,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.activeVideoLink;if(t){var r=t.page.pageNumber;e.pageViewportBBoxes.hasOwnProperty(r)||this.props.dispatch(bC(null))}}},{key:"shouldComponentUpdate",value:function(e){return!GS()(this.props,e)}},{key:"componentDidUpdate",value:function(){var e=this,t=this.props,r=t.inlineYoutubeVideos,n=t.youtubeApiReady;this._youtubeCheck||0===r.length||n||(this._youtubeCheck=!0,ZS().then((function(){return e.props.dispatch(_C())})))}},{key:"_getVideoPlayers",value:function(e,t){var r=this,n=Math.min.apply(Math,EC(t))-FC,o=Math.max.apply(Math,EC(t))+FC,i=this.props.activeVideoLink,a=!1;return e.map((function(e){var s=e.link,u=s.id,l=s.inlineData,f=s.page.pageNumber,p=r.props.pageViewportBBoxes[f],d=!!l&&l.isExplicit,h=!!i&&i.id!==u,v=!a&&t.includes(f)&&!h&&!!l&&l.autoplay;return v&&(a=!0),c.createElement(yC,{featureTracker:r.props.featureTracker,hidden:r.props.hidden,inlineVideo:e,interactionCallback:r._interactionCallback,key:"".concat(u),pageViewportBBox:p,shouldAutoplay:v,shouldBeLoaded:n<=f&&f<=o,shouldBePaused:h,isExplicit:d,metrics:r.props.metrics})}))}},{key:"render",value:function(){var e=this.props.pageViewportBBoxes,t=Object.keys(e).map((function(e){return parseInt(e,10)})),r=[];return this.props.youtubeApiReady&&r.push.apply(r,EC(this.props.inlineYoutubeVideos)),this.props.vimeoApiReady&&r.push.apply(r,EC(this.props.inlineVimeoVideos)),this._getVideoPlayers(r,t)}}]),r}(c.Component),WC=Zn((function(e){return{activeVideoLink:e.inlineVideo.activeVideoLink,inlineYoutubeVideos:oE(e),inlineVimeoVideos:iE(e),youtubeApiReady:e.inlineVideo.youtubeApiReady,vimeoApiReady:e.inlineVideo.vimeoApiReady,featureTracker:e.featureTracker}}),null,null,{pure:!1})(UC);function zC(e){return(zC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function VC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HC(Object(r),!0).forEach((function(t){tA(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HC(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function GC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qC(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $C(e,t,r){return t&&qC(e.prototype,t),r&&qC(e,r),e}function KC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&YC(e,t)}function YC(e,t){return(YC=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function XC(e){var t=QC();return function(){var r,n=eA(e);if(t){var o=eA(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ZC(this,r)}}function ZC(e,t){return!t||"object"!==zC(t)&&"function"!=typeof t?JC(e):t}function JC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QC(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function eA(e){return(eA=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rA=function(e){KC(r,e);var t=XC(r);function r(){var e;GC(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return tA(JC(e=t.call.apply(t,[this].concat(o))),"state",{pageViewportBBoxes:{},hidden:!0}),e}return $C(r,[{key:"shouldComponentUpdate",value:function(e,t){return!GS()(this.state,t)}},{key:"updatePagePositions",value:function(e){var t=this,r={};this.props.currentPageNumbers.forEach((function(e){var n=t.props.getPageComponent(e);n&&(t.props.visiblePageNumbers.includes(e)?r[e]=VC({},n.position):r[e]=VC({},n.viewportBBox))})),this.setState({pageViewportBBoxes:r,hidden:e})}},{key:"render",value:function(){var e={display:this.state.hidden?"none":"block"};return c.createElement("div",{className:"dynamic-content__container",style:e},c.createElement(WC,{pageViewportBBoxes:this.state.pageViewportBBoxes,hidden:this.state.hidden,metrics:this.props.metrics}))}}]),r}(c.Component);tA(rA,"displayName","InPubContent");var nA=Zn((function(e){return{getPageComponent:e.canvasApi?e.canvasApi.getPageComponent:function(){return null},visiblePageNumbers:e.reader.visiblePageNumbers,currentPageNumbers:Ss(e)}}),null,null,{forwardRef:!0,pure:!1})(rA),oA=r(270),iA=r.n(oA),aA=r(271),sA=r.n(aA);function uA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lA(e,t,r){return t&&cA(e.prototype,t),r&&cA(e,r),e}function fA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pA=512,dA=function(){function e(t){uA(this,e),fA(this,"gl",void 0),fA(this,"verticeBuffer",void 0),fA(this,"indiceBuffer",void 0),fA(this,"depthMapTexture",void 0),fA(this,"depthMapFrameBuffer",void 0),fA(this,"shader",void 0),fA(this,"matrix",o.create()),fA(this,"projection",o.create()),this.gl=t,this.shader=_O(t,sA.a,iA.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.depthMapTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.depthMapTexture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,pA,pA,0,t.RGBA,t.UNSIGNED_BYTE,null),this.depthMapFrameBuffer=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.depthMapFrameBuffer),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.depthMapTexture,0),t.bindFramebuffer(t.FRAMEBUFFER,null)}return lA(e,[{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.indiceBuffer),e.deleteTexture(this.depthMapTexture),e.deleteFramebuffer(this.depthMapFrameBuffer),this.shader.destroy()}},{key:"_calculateMatrix",value:function(e,t){var r=t.x,n=e.drawingBufferHeight-t.y-t.height,i=t.width,a=t.height;o.set(this.matrix,i,0,0,0,a,0,r,n,1),o.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),o.multiply(this.matrix,this.projection,this.matrix)}},{key:"computeDepthMap",value:function(e,t){var r=this.gl,n=this.shader;r.disable(r.DEPTH_TEST),r.enable(r.BLEND),r.blendFunc(r.ONE,r.ZERO),r.blendEquation(r.FUNC_ADD),r.disable(r.CULL_FACE),r.bindFramebuffer(r.FRAMEBUFFER,this.depthMapFrameBuffer),r.viewport(0,0,pA,pA),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),n.bind(),this._calculateMatrix(r,t),r.uniformMatrix3fv(n.u_matrix,!1,this.matrix),r.bindBuffer(r.ARRAY_BUFFER,this.verticeBuffer),r.bufferSubData(r.ARRAY_BUFFER,0,e.vertices),r.vertexAttribPointer(n.vertex,3,r.FLOAT,!1,0,0),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),r.bufferSubData(r.ELEMENT_ARRAY_BUFFER,0,e.indices),r.drawElements(r.TRIANGLES,6*(e.size-1)*(e.size-1),r.UNSIGNED_SHORT,0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,r.drawingBufferWidth,r.drawingBufferHeight)}}]),e}(),hA=r(272),vA=r.n(hA),yA=r(273),mA=r.n(yA);function gA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bA(e,t,r){return t&&_A(e.prototype,t),r&&_A(e,r),e}function wA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EA=function(){function e(t){gA(this,e),wA(this,"gl",void 0),wA(this,"shader",void 0),wA(this,"verticeBuffer",void 0),this.gl=t,this.shader=_O(t,mA.a,vA.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,72,t.DYNAMIC_DRAW)}return bA(e,[{key:"draw",value:function(e,t,r){var n=this.gl,o=this.shader;n.enable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),o.bind();var i=n.canvas.width,a=n.canvas.height,s=(t.x-i/2)/(i/2),u=(0-t.y+a/2)/(a/2),c=(t.x+t.width-i/2)/(i/2),l=(0-(t.y+t.height)+a/2)/(a/2),f=new Float32Array([s,u,r,s,l,r,c,u,r,c,u,r,s,l,r,c,l,r]);n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.uniform1i(o.depthMapTexture,0),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.bufferSubData(n.ARRAY_BUFFER,0,f),n.vertexAttribPointer(o.vertex,3,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLES,0,6)}},{key:"destroy",value:function(){this.gl.deleteBuffer(this.verticeBuffer),this.shader.destroy()}}]),e}(),OA=r(274),TA=r.n(OA),xA=r(275),kA=r.n(xA);function SA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CA(e,t,r){return t&&PA(e.prototype,t),r&&PA(e,r),e}function AA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RA=function(){function e(t){SA(this,e),AA(this,"gl",void 0),AA(this,"verticeBuffer",void 0),AA(this,"shader",void 0),this.gl=t,this.shader=_O(t,kA.a,TA.a);var r=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,r),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=r}return CA(e,[{key:"destroy",value:function(){var e=this.gl;e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteBuffer(this.verticeBuffer),this.shader.destroy()}},{key:"draw",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,width:1,height:1},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=this.gl,i=this.shader;i.bind(),o.disable(o.DEPTH_TEST),o.uniform2f(i.viewport,o.drawingBufferWidth,o.drawingBufferHeight),o.uniform4f(i.bbox,t.x,t.y,t.width,t.height),o.uniform4f(i.texCoords,r.x,r.y,r.width,r.height),o.uniform1f(i.opacity,n),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e),o.uniform1i(i.texture,0),o.bindBuffer(o.ARRAY_BUFFER,this.verticeBuffer),o.vertexAttribPointer(i.vertex,2,o.FLOAT,!1,0,0),o.drawArrays(o.TRIANGLE_STRIP,0,4)}}]),e}(),jA=r(276),IA=r.n(jA),DA=r(277),MA=r.n(DA),LA=r(278),NA=r.n(LA),BA=r(279),FA=r.n(BA);function UA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zA(e,t,r){return t&&WA(e.prototype,t),r&&WA(e,r),e}function HA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VA=!1,GA=function(){function e(t){UA(this,e),HA(this,"gl",void 0),HA(this,"normalShader",null),HA(this,"shader",void 0),HA(this,"verticeBuffer",void 0),HA(this,"normalsBuffer",void 0),HA(this,"textureCoordsBuffer",void 0),HA(this,"perspectiveCorrectionsBuffer",void 0),HA(this,"indiceBuffer",void 0),HA(this,"normalLinesBuffer",null),HA(this,"whitePaperTexture",void 0),HA(this,"blackPaperTexture",void 0),HA(this,"matrix",o.create()),HA(this,"projection",o.create()),HA(this,"texMatrix",o.create()),HA(this,"clipRect",new Float32Array([0,1,0,1])),this.gl=t,this.shader=_O(t,MA.a,IA.a);this.verticeBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.verticeBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.normalsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalsBuffer),t.bufferData(t.ARRAY_BUFFER,7500,t.DYNAMIC_DRAW),this.textureCoordsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.textureCoordsBuffer),t.bufferData(t.ARRAY_BUFFER,5e3,t.DYNAMIC_DRAW),this.perspectiveCorrectionsBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),t.bufferData(t.ARRAY_BUFFER,2500,t.DYNAMIC_DRAW);this.indiceBuffer=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),t.bufferData(t.ELEMENT_ARRAY_BUFFER,6912,t.DYNAMIC_DRAW),this.whitePaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.whitePaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([255,255,255,255])),t.bindTexture(t.TEXTURE_2D,null),this.blackPaperTexture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.blackPaperTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),t.bindTexture(t.TEXTURE_2D,null),VA&&(this.normalShader=_O(t,NA.a,FA.a),this.normalLinesBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.normalLinesBuffer),t.bufferData(t.ARRAY_BUFFER,15e3,t.DYNAMIC_DRAW))}return zA(e,[{key:"destroy",value:function(){var e,t=this.gl;(t.deleteBuffer(this.verticeBuffer),t.deleteBuffer(this.normalsBuffer),t.deleteBuffer(this.textureCoordsBuffer),t.deleteBuffer(this.perspectiveCorrectionsBuffer),t.deleteBuffer(this.indiceBuffer),t.deleteTexture(this.whitePaperTexture),t.deleteTexture(this.blackPaperTexture),this.shader.destroy(),VA)&&(t.deleteBuffer(this.normalLinesBuffer),null===(e=this.normalShader)||void 0===e||e.destroy())}},{key:"_calculateMatrix",value:function(e,t,r){var n=t&&"src_px"in t?t.src_px.x:0,i=t&&"src_px"in t?t.src_px.y:0,a=t&&"src_px"in t?t.src_px.width:r.width,s=t&&"src_px"in t?t.src_px.height:r.height,u=t&&"surface"in t?t.surface.width:r.width,c=t&&"surface"in t?t.surface.height:r.height,l=t&&"surface"in t&&"imgWidth"in t.surface?t.surface.imgWidth:r.width,f=t&&"surface"in t&&"imgHeight"in t.surface?t.surface.imgHeight:r.height,p=t?t.dest_px.x:0,d=t?t.dest_px.y:0,h=t?t.dest_px.width:r.width,v=t?t.dest_px.height:r.height,y=e.drawingBufferHeight-r.y-r.height;i=f-i-s,d=r.height-d-v,o.set(this.matrix,r.width,0,0,0,r.height,0,r.x,y,1),o.set(this.projection,2/e.drawingBufferWidth,0,0,0,2/e.drawingBufferHeight,0,-1,-1,1),o.multiply(this.matrix,this.projection,this.matrix);var m=Math.max(0,(1-a/h)/2),g=Math.max(0,(1-s/v)/2),_=(a-2*m)/u/(h/r.width),b=(s-2*g)/c/(v/r.height),w=-p/r.width*_+(n+m)/u,E=-d/r.height*b+(i+g)/c;o.set(this.texMatrix,_,0,0,0,b,0,w,E,1),this.clipRect.set([(n+m)/l,(n+a-m)/l,(i+g)/f,(i+s-g)/f])}},{key:"fill",value:function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;this.draw(e,{surface:{texture:this.blackPaperTexture,width:1,height:1,imgWidth:1,imgHeight:1},type:NT,src_px:{x:0,y:0,width:1,height:1},dest_px:t.dest_px},r,n,o,i,a)}},{key:"draw",value:function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=this.gl,u=this.shader,c=aa();s.enable(s.DEPTH_TEST),s.depthFunc(s.LEQUAL),s.enable(s.BLEND),s.blendFunc(s.ONE,s.ONE_MINUS_SRC_ALPHA),s.enable(s.CULL_FACE),s.cullFace(s.BACK),u.bind(),this._calculateMatrix(s,t,r),s.uniformMatrix3fv(u.u_matrix,!1,this.matrix),s.uniformMatrix3fv(u.u_texMatrix,!1,this.texMatrix);var l=s.canvas.width,f=s.canvas.height,p=r.x/l*2-1,d=r.y/f*2-1,h=r.width/l*2,v=r.height/f*2;if(s.uniform1f(u.lightRatio,n),s.uniform1f(u.tick,a),s.uniform1f(u.spinnerSize,22*c),s.uniform1i(u.showSpinner,!t&&i?1:0),s.uniform4f(u.bbox,p,d,h,v),s.uniform4fv(u.clipRect,this.clipRect),s.uniform2f(u.viewport,s.drawingBufferWidth,s.drawingBufferHeight),s.activeTexture(s.TEXTURE0),s.bindTexture(s.TEXTURE_2D,t&&"surface"in t&&"texture"in t.surface?t.surface.texture:this.whitePaperTexture),s.uniform1i(u.texture,0),s.bindBuffer(s.ARRAY_BUFFER,this.verticeBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.vertices),s.vertexAttribPointer(u.vertex,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.normalsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,o?e.backFacingNormals:e.normals),s.vertexAttribPointer(u.normal,3,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.textureCoordsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,o?e.backFacingTextureCoords:e.textureCoords),s.vertexAttribPointer(u.textureCoord,2,s.FLOAT,!1,0,0),s.bindBuffer(s.ARRAY_BUFFER,this.perspectiveCorrectionsBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,e.perspectiveCorrections),s.vertexAttribPointer(u.perspectiveCorrection,1,s.FLOAT,!1,0,0),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,this.indiceBuffer),s.bufferSubData(s.ELEMENT_ARRAY_BUFFER,0,o?e.backFacingIndices:e.indices),s.drawElements(s.TRIANGLES,6*(e.size-1)*(e.size-1),s.UNSIGNED_SHORT,0),VA){var y,m,g;null===(y=this.normalShader)||void 0===y||y.bind(),s.uniformMatrix3fv((null===(m=this.normalShader)||void 0===m?void 0:m.u_matrix)||null,!1,this.matrix),s.uniform1i((null===(g=this.normalShader)||void 0===g?void 0:g.backFacing)||null,o?1:0);for(var _=[],b=o?e.backFacingNormals:e.normals,w=0;w<e.vertices.length;w+=3){var E=e.vertices[w+0],O=e.vertices[w+1],T=e.vertices[w+2],x=b[w+0],k=b[w+1],S=b[w+2];_.push(E,O,T,E+x,O+k,T+S)}s.bindBuffer(s.ARRAY_BUFFER,this.normalLinesBuffer),s.bufferSubData(s.ARRAY_BUFFER,0,new Float32Array(_)),this.normalShader&&s.vertexAttribPointer(this.normalShader.vertex||0,3,s.FLOAT,!1,0,0),s.drawArrays(s.LINES,0,_.length/3)}}}]),e}(),qA=(r(370),r(280)),$A=r.n(qA),KA=r(281),YA=r.n(KA);function XA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JA(e,t,r){return t&&ZA(e.prototype,t),r&&ZA(e,r),e}function QA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eR(e){return 1<<1+Math.floor(Math.log2(e))}var tR=function(){function e(t,r){XA(this,e),QA(this,"gl",void 0),QA(this,"texture",void 0),QA(this,"textureSize",void 0),QA(this,"shader",void 0),QA(this,"imagePrimitive",void 0),QA(this,"verticeBuffer",void 0),QA(this,"barycentricBuffer",void 0),this.gl=t,this.shader=_O(t,YA.a,$A.a),this.imagePrimitive=r;var n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.verticeBuffer=n;var o=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,new Float32Array([1,1,0,0,1,0,0,1,0,1,1,0,0,0,1,1]),t.STATIC_DRAW),this.barycentricBuffer=o,this.textureSize=this.getTextureSize(),this.texture=this.getTexture()}return JA(e,[{key:"destroy",value:function(){var e=this.gl;e.deleteBuffer(this.verticeBuffer),e.deleteBuffer(this.barycentricBuffer),e.deleteTexture(this.texture),this.shader.destroy()}},{key:"_iconRadius",value:function(){return 20*aa()}},{key:"getTextureSize",value:function(){return eR(2*(2*this._iconRadius()))}},{key:"getTexture",value:function(){var e=this.gl,t=document.createElement("canvas");t.width=this.textureSize,t.height=this.textureSize;var r=2*this._iconRadius(),n=t.getContext("2d");n.fillStyle="rgba(0, 1, 0, 0.0)",n.fillRect(0,0,t.width,t.height),n.fillStyle="rgba(0, 0, 0, 0.7)",WE.draw(n,r/2,r/2,this._iconRadius()),FE.draw(n,r+r/2,r/2,this._iconRadius()),this.texture&&e.deleteTexture(this.texture);var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),o}},{key:"draw",value:function(e,t,r){var n=this.gl,o=this.shader;if(n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE),n.blendEquation(n.FUNC_ADD),o.bind(),n.uniform2f(o.viewport,n.drawingBufferWidth,n.drawingBufferHeight),n.uniform4f(o.bbox,r.x,r.y,r.width,r.height),n.uniform1f(o.opacity,t),n.uniform1f(o.strokeWidth,1),n.bindBuffer(n.ARRAY_BUFFER,this.verticeBuffer),n.vertexAttribPointer(o.vertex,2,n.FLOAT,!1,0,0),n.bindBuffer(n.ARRAY_BUFFER,this.barycentricBuffer),n.vertexAttribPointer(o.barycentric,4,n.FLOAT,!1,0,0),n.drawArrays(n.TRIANGLE_STRIP,0,4),(Zw(e)||eE(e))&&r.width>50&&r.height>50){var i={x:r.x+r.width/2-this._iconRadius(),y:r.y+r.height/2-this._iconRadius(),width:2*this._iconRadius(),height:2*this._iconRadius()},a={x:0,y:0,width:2*this._iconRadius()/this.textureSize,height:2*this._iconRadius()/this.textureSize};Zw(e)&&this.imagePrimitive.draw(this.texture,i,a,t),eE(e)&&(a.x+=a.width,this.imagePrimitive.draw(this.texture,i,a,t))}}}]),e}();function rR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oR(e,t,r){return t&&nR(e.prototype,t),r&&nR(e,r),e}function iR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var aR=function(){function e(t,r){rR(this,e),iR(this,"gl",void 0),iR(this,"imagePrimitive",void 0),this.gl=t,this.imagePrimitive=r}return oR(e,[{key:"destroy",value:function(){}},{key:"draw",value:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=this.gl;o.disable(o.DEPTH_TEST),o.enable(o.BLEND),o.blendFuncSeparate(o.SRC_ALPHA,o.ONE_MINUS_SRC_ALPHA,o.ONE,o.ONE_MINUS_SRC_ALPHA),o.blendEquation(o.FUNC_ADD),this.imagePrimitive.draw(e,t,r,n)}}]),e}();function sR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cR(e,t,r){return t&&uR(e.prototype,t),r&&uR(e,r),e}function lR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fR=function(){function e(t){sR(this,e),lR(this,"gl",void 0),lR(this,"shadow",void 0),lR(this,"shadowDraw",void 0),lR(this,"bendingPage",void 0),lR(this,"imagePrimitive",void 0),lR(this,"link",void 0),lR(this,"linkTooltip",void 0),lR(this,"highlights",void 0),this.gl=t,this.shadow=new dA(t),this.shadowDraw=new EA(t),this.bendingPage=new GA(t),this.imagePrimitive=new RA(t),this.link=new tR(t,this.imagePrimitive),this.linkTooltip=new aR(t,this.imagePrimitive),this.highlights=new UO(t)}return cR(e,[{key:"destroy",value:function(){this.shadow.destroy(),this.shadowDraw.destroy(),this.bendingPage.destroy(),this.imagePrimitive.destroy(),this.link.destroy(),this.linkTooltip.destroy(),this.highlights.destroy(),this.gl=null}}]),e}();function pR(e){return(pR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dR(){return(dR=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function hR(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=vR(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function vR(e,t){if(e){if("string"==typeof e)return yR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yR(e,t):void 0}}function yR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _R(e,t,r){return t&&gR(e.prototype,t),r&&gR(e,r),e}function bR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wR(e,t)}function wR(e,t){return(wR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ER(e){var t=xR();return function(){var r,n=kR(e);if(t){var o=kR(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return OR(this,r)}}function OR(e,t){return!t||"object"!==pR(t)&&"function"!=typeof t?TR(e):t}function TR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function kR(e){return(kR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PR(e){for(var t={x:0,y:0},r=0;r<e.length;r++)t.x+=e[r].x,t.y+=e[r].y;return{x:t.x/e.length,y:t.y/e.length}}function CR(e,t){for(var r=e.length-1;r>=0;r--){var n=e[r];if(t(n))return n}}var AR=function(e){bR(r,e);var t=ER(r);function r(e){var n;return mR(this,r),SR(TR(n=t.call(this,e)),"_singleTapWasHandled",!1),SR(TR(n),"_lastMoveHitlist",[]),SR(TR(n),"_handlersOfCurrentGesture",[]),SR(TR(n),"_glExtOesStandardDerivatives",null),SR(TR(n),"frameCount",0),SR(TR(n),"canvas",void 0),SR(TR(n),"inputHandler",void 0),SR(TR(n),"previousPosition",null),SR(TR(n),"canvasObjectTree",null),SR(TR(n),"ctx",null),SR(TR(n),"glManager",null),SR(TR(n),"renderManager",null),SR(TR(n),"inPubContentRef",void 0),SR(TR(n),"canvasContainer",void 0),SR(TR(n),"onFallbackTo2D",(function(){n.inputHandler&&n.inputHandler.reset(),n.props.metrics.monitor("reader3-fallback-to-2d",{fallback:1})})),SR(TR(n),"getCustomCursor",(function(){for(var e=n._lastMoveHitlist.length-1;e>=0;e--)if(n._lastMoveHitlist[e].getCustomCursor&&n._lastMoveHitlist[e].getCustomCursor())return n._lastMoveHitlist[e].getCustomCursor();return"default"})),SR(TR(n),"createRenderManager",(function(){var e=n.renderManager;n.renderManager=new zT({useWebGL:n.props.usePageFlip,ctx:ok(n.ctx)?n.ctx:null,hintMaxWidth:n.props.width,hintMaxHeight:n.props.height,pageModels:n.props.documentPages,loadStatsTracker:n.props.loadStatsTracker,renderManager:e})})),SR(TR(n),"createContextAndInitializeCanvas",(function(){var e,t,r=document.createElement("canvas");(r.className="document-canvas",r.style.width=r.style.height="100%",r.width=n.props.width,r.height=n.props.height,n.glManager&&(n.glManager.destroy(),n.glManager=null),n.canvas)?(n._glExtOesStandardDerivatives=null,n.canvas.removeEventListener("webglcontextlost",n.handleContextLost,!1),n.canvas.removeEventListener("webglcontextrestored",n.handleContextRestored,!1),null===(e=n.canvasContainer.current)||void 0===e||e.replaceChild(r,n.canvas)):null===(t=n.canvasContainer.current)||void 0===t||t.appendChild(r);if(n.canvas=r,n.props.usePageFlip){var o=ik(n.canvas);n.ctx=o,o?(n._glExtOesStandardDerivatives=o.getExtension("OES_standard_derivatives"),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),n.glManager=new fR(o),n.canvas.addEventListener("webglcontextlost",n.handleContextLost,!1),n.canvas.addEventListener("webglcontextrestored",n.handleContextRestored,!1)):n.handleWebGLError()}else n.ctx=n.canvas.getContext("2d")})),SR(TR(n),"findComponentsAtPoint",(function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=[];return n.canvasObjectTree&&Cw.traverse(n.canvasObjectTree,(function(n,i,a,s){return!(r&&!n.isVisible)&&(!!iw(e,t,i)&&(o.push(n),!0))})),o})),SR(TR(n),"bubbleEvent",(function(e,t,r){for(var o=arguments.length,i=new Array(o>3?o-3:0),a=3;a<o;a++)i[a-3]=arguments[a];var s,u={handled:!1,possibleHandlers:[]},c=hR(n.findComponentsAtPoint(t,r));try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e(l);f&&u.possibleHandlers.push(l)}}catch(e){c.e(e)}finally{c.f()}return CR(u.possibleHandlers,(function(n){var o=e(n);return!(!o||!o.call.apply(o,[n,t,r].concat(i)))&&(u.handled=!0,!0)})),u})),SR(TR(n),"updateMouseHitlist",(function(e,t,r){var o=n.findComponentsAtPoint(e,t,!1),i=o[o.length-1],a=n._lastMoveHitlist[n._lastMoveHitlist.length-1];i!==a&&(a&&a.onMouseLeave&&a.onMouseLeave(r),i&&i.onMouseEnter&&i.onMouseEnter(r)),n._lastMoveHitlist=o,CR(o,(function(n){return!!n.onMouseMove&&(n.onMouseMove(e,t,r),!0)}))})),SR(TR(n),"releaseMouseHitlist",(function(e){var t=n._lastMoveHitlist[n._lastMoveHitlist.length-1];t&&t.onMouseLeave&&t.onMouseLeave(e),n._lastMoveHitlist=[]})),SR(TR(n),"fallbackTo2DIfViewportExceedGPULimit",(function(){if(n.ctx&&ok(n.ctx)){var e=n.props.width-n.ctx.drawingBufferWidth>1,t=n.props.height-n.ctx.drawingBufferHeight>1;(e||t)&&(e&&n.props.dispatch(qw(n.ctx.drawingBufferWidth)),t&&n.props.dispatch($w(n.ctx.drawingBufferHeight)),n.onFallbackTo2D())}})),SR(TR(n),"handleWebGLError",(function(e){e&&Co(e,{extra:{"fallback-to-2d":!0}}),n.onFallbackTo2D(),n.props.dispatch(Hw())})),SR(TR(n),"buildCanvasObjectTree",(function(e){if(n.props.visible&&!(!n.ctx||ok(n.ctx)&&n.ctx.isContextLost())){try{n.canvasObjectTree&&!e||n.createRenderManager(),n.canvasObjectTree=Cw.buildTree(Cw.createElement(HS,{ctx:n.ctx,height:n.props.height,loadStatsTracker:n.props.loadStatsTracker,trackOnceMixpanel:n.props.trackOnceMixpanel,readMode:n.props.readMode,renderManager:n.renderManager,store:n.props.store,usePageFlip:n.props.usePageFlip,width:n.props.width,metrics:n.props.metrics}),n.canvasObjectTree,TR(n))}catch(e){if(!ok(n.ctx))throw e;n.handleWebGLError(e)}n.canvasObjectTree&&n.previousPosition&&(n.canvasObjectTree.setPosition(n.previousPosition),n.previousPosition=null)}})),SR(TR(n),"drawCanvasObjectTree",(function(){var e=n.canvasObjectTree,t=n.glManager;if(n.ctx&&n.props.visible&&e&&(!ok(n.ctx)||!n.ctx.isContextLost())){try{var r={x:0,y:0,width:n.props.width,height:n.props.height};ok(n.ctx)?t&&Cw.drawWebgl(e,t,r):Cw.draw2d(e,n.ctx,r)}catch(e){if(!ok(n.ctx))throw e;n.handleWebGLError(e)}var o=n.getCustomCursor();"string"==typeof o&&n.canvasContainer.current&&n.canvasContainer.current.style.cursor!==o&&(n.canvasContainer.current.style.cursor=o),n.frameCount+=1}})),SR(TR(n),"handleContextLost",(function(e){e.preventDefault(),n.props.metrics.monitor("reader3-webgl-context-lost"),n.props.dispatch(Gw())})),SR(TR(n),"handleContextRestored",(function(e){n.props.metrics.monitor("reader3-webgl-context-restored"),n.buildCanvasObjectTree(),n.canvasObjectTree&&n.canvasObjectTree.requestRedraw()})),n.inPubContentRef=c.createRef(),n.canvasContainer=c.createRef(),n}return _R(r,[{key:"componentDidMount",value:function(){var e=this;this._singleTapWasHandled=!1,this._lastMoveHitlist=[],this._handlersOfCurrentGesture=[],this.frameCount=0,this.createContextAndInitializeCanvas(),this.fallbackTo2DIfViewportExceedGPULimit(),this.buildCanvasObjectTree(),this.canvasObjectTree?this.canvasObjectTree.requestRedraw():this.props.dispatch(Iw()),window.ISSUU_READER_DOCUMENTCANVAS=this;var t=this.canvasContainer.current;this.inputHandler=new Nd(t,{getScalingFactor:function(){return aa()},catchWheelEvent:function(){return e.props.fullscreenEnabled},onSingleTap:function(t,r){var n;e._singleTapWasHandled=e.bubbleEvent((function(e){return e.onSingleTap}),t,r).handled,null===(n=e.inputHandler)||void 0===n||n.requestToIntercept()},onSingleTapConfirmed:function(t,r){e.bubbleEvent((function(e){return e.onSingleTapConfirmed}),t,r,e._singleTapWasHandled),e._singleTapWasHandled=!1,e.props.dispatch(Lh())},onDoubleTap:function(t,r){e.bubbleEvent((function(e){return e.onDoubleTap}),t,r),e.props.dispatch(Nh())},onGestureStart:function(t,r){e.props.usePageFlip||e.props.dispatch(Vw());var n=PR(t),o=n.x,i=n.y;e.bubbleEvent((function(e){return e.onGestureStart}),o,i,t,r).possibleHandlers.forEach((function(t){e._handlersOfCurrentGesture.push(t)})),e.props.dispatch(Ih())},onGestureChange:function(t,r,n,o){e.releaseMouseHitlist(r);var i=PR(t),a=i.x,s=i.y;CR(e._handlersOfCurrentGesture,(function(i){var u;return!(!i.onGestureChange||!i.onGestureChange(a,s,t,r,n,o))&&(null===(u=e.inputHandler)||void 0===u||u.requestToIntercept(),!0)})),e.props.dispatch(Dh())},onGestureEnd:function(t){CR(e._handlersOfCurrentGesture,(function(e){return e.onGestureEnd&&e.onGestureEnd(t),!1})),e._handlersOfCurrentGesture.length=0,e.props.dispatch(Mh())},onMouseEnter:function(t){e.props.usePageFlip||e.props.dispatch(Vw())},onMouseMove:function(t,r,n){e.updateMouseHitlist(t,r,n)},onMouseLeave:function(t){e.releaseMouseHitlist(t)}});requestAnimationFrame((function t(r){if(e.canvas){Cw.lastTick=r;var n=aa(),o=e.canvas.clientWidth*n,i=e.canvas.clientHeight*n;o!==e.props.width||i!==e.props.height?(e.props.dispatch(yl(o,i)),e.props.dispatch(Bh())):e.canvasObjectTree&&e.canvasObjectTree.hasPendingRedraw&&e.drawCanvasObjectTree(),e.updateInPubContent(),requestAnimationFrame(t)}}))}},{key:"componentWillReceiveProps",value:function(e){var t=this,r=this.props;this.props=e;var n=r.readMode!==this.props.readMode||r.usePageFlip!==this.props.usePageFlip||r.visible!==this.props.visible||r.linksLoaded!==this.props.linksLoaded;if(this.canvasObjectTree&&n){var o=this.canvasObjectTree;this.previousPosition=o.getPosition(),Cw.unmountTree(o),this.canvasObjectTree=null}r.usePageFlip!==this.props.usePageFlip&&this.createContextAndInitializeCanvas();var i,a,s=r.width!==this.props.width||r.height!==this.props.height;(s&&this.canvas&&(this.canvas.width=this.props.width,this.canvas.height=this.props.height,this.fallbackTo2DIfViewportExceedGPULimit()),this.props.usePageFlip&&(s&&this.ctx&&ok(this.ctx)&&this.ctx.viewport(0,0,this.ctx.drawingBufferWidth,this.ctx.drawingBufferHeight),/(iPad|iPhone|iPod).*(AppleWebKit\/).*(Version\/9\.).*(Mobile\/).*(Safari\/)/i.test(navigator.userAgent)&&this.canvas&&(r.visible&&!this.props.visible&&(this.canvas.style.display=""),!r.visible&&this.props.visible&&(this.canvas.style.display="none",setTimeout((function(){t.canvas&&(t.canvas.style.display="")}),250)))),this.buildCanvasObjectTree(s),this.canvasObjectTree&&this.canvasObjectTree.requestRedraw(),1===this.props.zoomLevel)?null===(i=this.inputHandler)||void 0===i||i.enableBrowserHandlingOfVerticalPanningGestures():null===(a=this.inputHandler)||void 0===a||a.disableBrowserHandlingOfAllPanningGestures()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"componentWillUnmount",value:function(){var e,t;this.inputHandler&&this.inputHandler.destroy(),this.renderManager&&this.renderManager.release(),this.glManager&&(this.glManager.destroy(),this.glManager=null),this.ctx=null,this._glExtOesStandardDerivatives=null,null===(e=this.canvas)||void 0===e||e.removeEventListener("webglcontextlost",this.handleContextLost,!1),null===(t=this.canvas)||void 0===t||t.removeEventListener("webglcontextrestored",this.handleContextRestored,!1)}},{key:"updateInPubContent",value:function(){var e=this.inPubContentRef.current,t=!!this.canvasObjectTree&&this.canvasObjectTree.inAnimation;null==e||e.updatePagePositions(t)}},{key:"render",value:function(){return c.createElement("div",null,c.createElement("div",{ref:this.canvasContainer,style:{width:"100%",height:"100%",position:"absolute"}}),c.createElement(nA,{ref:this.inPubContentRef,metrics:this.props.metrics}))}}]),r}(c.Component);SR(AR,"displayName","Canvas");var RR=function(e){return{height:e.size.height,width:e.size.width,readMode:Ps(e),visible:!e.visibility.supported||!e.visibility.isHidden,usePageFlip:Xw(e),fullscreenEnabled:Ts(e),documentPages:Xa(e),dropdownOpen:Gs(e),linksLoaded:nE(e),zoomLevel:e.reader.zoomLevel,isIdle:e.reader.isIdle}},jR=function(e){return c.createElement(nn.Consumer,null,(function(t){return c.createElement(AR,dR({},e,{store:t.store}))}))},IR=Zn(RR,null,null,{pure:!1})(jR),DR='\n    <svg width="100%" height="100%" viewBox="-4 -4 30 52">\n        <defs>\n        </defs>\n        <g fill="none" class="navigation-arrow__shadow" stroke="#000" stroke-width="4" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n        <g fill="white" class="navigation-arrow__path" transform="translate(9 22)">\n            <path d="M2.65002234,43.5538147 C1.78774217,42.6020596 1.78774217,41.0560678 2.65002234,40.1030925 L17.6687127,23.4986273 L2.64671013,6.89660245 C1.78442996,5.94362719 1.78442996,4.39885551 2.64671013,3.44588025 C3.5089903,2.49290499 4.90674535,2.49290499 5.76902553,3.44588025 L22.3532899,21.7732662 C23.21557,22.7250212 23.21557,24.2697929 22.3532899,25.2239884 L5.77233774,43.5538147 C5.34174969,44.0309124 4.77646487,44.2688512 4.21118004,44.2688512 C3.64589522,44.2688512 3.08171447,44.0309124 2.65002234,43.5538147 Z" transform="translate(-10.5, -23.5)"/>\n        </g>\n    </svg>\n';function MR(e){return(MR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function BR(e,t,r){return t&&NR(e.prototype,t),r&&NR(e,r),e}function FR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&UR(e,t)}function UR(e,t){return(UR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function WR(e){var t=VR();return function(){var r,n=GR(e);if(t){var o=GR(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return zR(this,r)}}function zR(e,t){return!t||"object"!==MR(t)&&"function"!=typeof t?HR(e):t}function HR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VR(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function GR(e){return(GR=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qR(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $R=function(e){FR(r,e);var t=WR(r);function r(){return LR(this,r),t.apply(this,arguments)}return BR(r,[{key:"render",value:function(){return c.createElement("div",null,c.createElement(tp,{className:"navigation-arrow navigation-arrow--left",onClick:this.props.onClickLeftArrow,isHidden:!this.props.leftArrowVisible,id:"ird3-button-previous",labelProps:{"aria-label":"previous page"},content:DR}),c.createElement(tp,{className:"navigation-arrow navigation-arrow--right",onClick:this.props.onClickRightArrow,isHidden:!this.props.rightArrowVisible,id:"ird3-button-next",labelProps:{"aria-label":"next page"},content:DR}))}}]),r}(c.Component);function KR(e){return(KR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ZR(e,t,r){return t&&XR(e.prototype,t),r&&XR(e,r),e}function JR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&QR(e,t)}function QR(e,t){return(QR=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ej(e){var t=nj();return function(){var r,n=oj(e);if(t){var o=oj(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tj(this,r)}}function tj(e,t){return!t||"object"!==KR(t)&&"function"!=typeof t?rj(e):t}function rj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function oj(e){return(oj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ij(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}qR($R,"displayName","NavigationArrows");var aj=function(e){JR(r,e);var t=ej(r);function r(e){var n;return YR(this,r),ij(rj(n=t.call(this,e)),"inputHandler",void 0),ij(rj(n),"buttonContainer",void 0),ij(rj(n),"onClickHandler",(function(){n.props.featureTracker.usage(av.BUTTON_CTA_OVERLAY),n.props.dispatch(Sh()),n.props.trackOnceMixpanel("reader3_interaction_fullscreen_from_embed"),n.props.toggleFullscreen()})),ij(rj(n),"trackOpportunities",(function(){n.props.visible&&n.props.featureTracker.opportunity(av.BUTTON_CTA_OVERLAY)})),n.buttonContainer=c.createRef(),n}return ZR(r,[{key:"componentDidMount",value:function(){var e=this,t=this.buttonContainer.current;this.inputHandler=new Nd(t,{onMouseEnter:function(t){e.props.visible&&e.props.dispatch(Tc(!0))},onMouseLeave:function(t){e.props.dispatch(Tc(!1))}}),this.trackOpportunities()}},{key:"componentDidUpdate",value:function(){this.trackOpportunities()}},{key:"render",value:function(){var e=this.props.fullscreenEnabled?kv:Rv,t=this.props.fullscreenEnabled?"Exit":"Fullscreen",r="cta-overlay ".concat(this.props.visible?"":"cta-overlay--hidden");return c.createElement("div",{ref:this.buttonContainer,className:r,"data-tooltip":t,onClick:this.onClickHandler},c.createElement(tp,{id:"ird3-button-fullscreen",className:"svg-btn cta-overlay__button",content:e}))}}]),r}(c.Component);function sj(e){return(sj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lj(e,t,r){return t&&cj(e.prototype,t),r&&cj(e,r),e}function fj(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pj(e,t)}function pj(e,t){return(pj=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dj(e){var t=yj();return function(){var r,n=mj(e);if(t){var o=mj(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return hj(this,r)}}function hj(e,t){return!t||"object"!==sj(t)&&"function"!=typeof t?vj(e):t}function vj(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yj(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function mj(e){return(mj=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ij(aj,"displayName","CTAOverlay");var _j=function(e){fj(r,e);var t=dj(r);function r(){var e;uj(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return gj(vj(e=t.call.apply(t,[this].concat(o))),"onCloseButtonClick",(function(){e.props.dispatch(Tg()),e.props.dispatch(Sh())})),gj(vj(e),"onBackgroundClick",(function(){e.props.dispatch(Tg())})),e}return lj(r,[{key:"render",value:function(){return c.createElement("div",{className:Wf()("more-content-container",{"more-content-container--hidden":!this.props.visible,"more-content-container--overlay":this.props.showAsOverlay})},this.props.children,c.createElement("button",{type:"button",className:Wf()("more-content-container__close-button",{"more-content-container__close-button--left":ia.isMobile()}),onClick:this.onCloseButtonClick,dangerouslySetInnerHTML:{__html:sP}}),!this.props.showAsOverlay&&c.createElement("div",{className:"more-content-container__clickable-background",onClick:this.onBackgroundClick}))}}]),r}(c.Component);gj(_j,"displayName","MoreContentContainer");r(142);var bj,wj=r(282),Ej=r.n(wj);function Oj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.thousandsSeparator,n=void 0===r?"":r,o=t.precision,i=void 0===o?2:o,a=t.decimalSeparator,s=void 0===a?".":a,u=t.currencySymbol,c=void 0===u?"$":u,l=t.suffix,f=void 0===l?"USD":l,p=t.showExact,d=void 0!==p&&p,h=t.showShort,v=void 0!==h&&h,y=t.hideCurrency,m=void 0!==y&&y,g=e;!isNaN(parseInt(String(e),10))&&e||(g=0);var _=i+1,b=Ej()("".concat(g),_,"0"),w=b.slice(b.length-i),E=0!==parseInt(w,10),O=i&&(d||!d&&E),T=b.slice(0,b.length-i).split("").reduce((function(e,t,r,o){var i=o.length-r-1;return 0!==i&&i%3==0?"".concat(e).concat(t).concat(n):"".concat(e).concat(t)}),""),x=v&&!m?c:"",k=v||m?"":" ".concat(f);return"".concat(x).concat(T).concat(O?s:"").concat(O?w:"").trim()+"".concat(k)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tj(Object(r),!0).forEach((function(t){kj(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function kj(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}!function(e){e[e.USD=0]="USD",e[e.EUR=1]="EUR",e[e.DKK=2]="DKK",e[e.AUD=3]="AUD",e[e.CAD=4]="CAD",e[e.GBP=5]="GBP"}(bj||(bj={}));var Sj={USD:{symbol:"$",precision:2},EUR:{symbol:"€",precision:2},DKK:{symbol:"kr",precision:2},AUD:{symbol:"$",precision:2},CAD:{symbol:"$",precision:2},GBP:{symbol:"£",precision:2}},Pj=function(e){return-1!==Object.keys(bj).indexOf(e)},Cj=function(e){var t=e&&Pj(e)?e:"USD";return xj(xj({},Sj[t]||Sj.USD),{},{name:t})};function Aj(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Cj(t.currency);return Oj(e,{currencySymbol:r.symbol,precision:r.precision,suffix:r.name,showExact:t.showExact,showShort:t.showShort,hideCurrency:t.hideCurrency})}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function jj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rj(Object(r),!0).forEach((function(t){Ij(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ij(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dj(e,t){if(null==e)return{};var r,n,o=Mj(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Mj(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var Lj=function(e){var t=e.children;return c.createElement("div",{className:"po-Overlay ixu-cascading-fluid-typography"},c.createElement("div",{className:"po-Overlay-content"},t))},Nj=function(e){var t=e.children;return c.createElement("div",{className:"po-Content"},t)},Bj=function(e){var t=["po-Button"];e.isOutlined&&t.push(" po-Button--outline");var r=t.join(" ");return"href"in e&&e.href?c.createElement("a",Object.assign({},e,{className:r}),e.children):c.createElement("button",Object.assign({},e,{className:r}),e.children)},Fj=function(e){var t=e.children;return c.createElement("div",{className:"po-ButtonGroup"},t)},Uj=function(e){var t=e.url,r=e.title;return c.createElement("div",{className:"po-Cover"},c.createElement("div",{className:"po-Cover-wrapper"},c.createElement("img",{src:t,alt:"Cover of ".concat(r)})))},Wj=function(e){var t=e.avatarUrl,r=e.displayName,n=e.profileUrl;return c.createElement("div",{className:"po-Publisher"},c.createElement("div",{className:"po-Publisher-image"},c.createElement("img",{src:t,alt:"Avatar of ".concat(r)})),c.createElement("div",{className:"po-Publisher-name"},"Published by ",c.createElement("br",null),c.createElement("strong",null,c.createElement(Vj,{out:!0,href:n},r))))},zj=function(e){var t=e.children;return c.createElement("div",{className:"po-Heading"},t)},Hj=function(e){var t=e.children;return c.createElement("div",{className:"po-Paragraph"},t)},Vj=function(e){var t=e.children,r=e.out,n=e.href,o=jj({},Dj(e,["children","out","href"]));return r&&(o=jj(jj({},o),{},{target:"_blank",rel:"noopener noreferrer"})),c.createElement("a",Object.assign({className:"po-Link",href:n},o),t)},Gj=function(e){var t,r,n=e.hostName,o=e.priceAmount,i=e.priceCurrency,a=e.publicationName,s=e.publisherName,u=e.isNotAvailable,l=e.referrer,f=void 0===l?"reader.button":l;return t=u?"Not available":o?"Buy ".concat(Aj(o,{currency:i})):"Buy",r=u?"":a?"https://".concat(n,"/store/publishers/").concat(s,"/issues/").concat(a,"?r=").concat(f):"#",c.createElement(Bj,{href:r,target:a?"_blank":"",disabled:!!u},t)},qj=Gj,$j=function(e){var t=e.hostName,r=e.isNotAvailable,n=e.onKeepReading,o=e.priceAmount,i=e.priceCurrency,a=e.publicationCoverUrl,s=e.publicationName,u=e.publicationTitle,l=e.publisherDisplayName,f=e.publisherName,p=e.publisherProfileImageUrl,d=e.publisherProfileUrl,h=e.showKeepReading;return c.createElement(Lj,null,c.createElement(Uj,{url:a,title:u}),c.createElement(Nj,null,c.createElement(zj,null,!r&&c.createElement("div",null,"Unlock full access ",c.createElement("span",{className:"po-Publication-title-adverb"},"to")),c.createElement("strong",{className:"po-Publication-title"},u)),r&&c.createElement(Hj,null,c.createElement("span",null,"This publication is currently")," ",c.createElement("span",null,"not available for purchase.")),c.createElement(Fj,null,c.createElement(qj,{hostName:t,publisherName:f,publicationName:s,priceAmount:o,priceCurrency:i,isNotAvailable:r,referrer:"reader.overlay"}),h&&c.createElement(Bj,{onClick:n,isOutlined:!0},"Keep reading")),c.createElement(Wj,{avatarUrl:p,displayName:l,profileUrl:d}),c.createElement(Hj,null,c.createElement("span",null,"Already bought this?")," ",c.createElement(Vj,{out:!0,href:"https://".concat(t,"/home/purchases")},"Go to your purchases"))))},Kj=$j,Yj=function(e){var t=e.hostName,r=e.publicationCoverUrl,n=e.publicationTitle,o=e.readPurchasedPath;return c.createElement(Lj,null,c.createElement(Uj,{url:r,title:n}),c.createElement(Nj,null,c.createElement(zj,null,"You already own a copy of ",c.createElement("br",null),c.createElement("strong",null,n)),c.createElement(Fj,null,c.createElement(Bj,{href:"https://".concat(t).concat(o),target:"_top"},"Read Full Edition")),c.createElement(Hj,null,c.createElement("span",null,"See all your purchases on")," ",c.createElement(Vj,{out:!0,href:"https://".concat(t,"/home/purchases")},"your Purchases Page"))))},Xj=Yj;function Zj(e){var t=e.isNotAvailable,r=e.isOverlayVisible,n=e.isPreview,o=e.isPurchased,i=e.hostName,a=e.onKeepReading,s=e.paywallDataLoaded,u=e.priceAmount,c=e.priceCurrency,f=e.publicationCoverUrl,p=e.publicationName,d=e.publicationTitle,h=e.publisherDisplayName,v=e.publisherName,y=e.publisherProfileImageUrl,m=e.publisherProfileUrl,g=e.readPurchasedPath,_=e.showKeepReading;return o&&"string"==typeof g?l.a.createElement("div",{className:"paywall-read-purchased"},l.a.createElement(Xj,{hostName:i,publicationCoverUrl:f,publicationTitle:d,readPurchasedPath:g})):n?l.a.createElement("div",null,!r&&s&&l.a.createElement("div",{className:"paywall-btn--header"},l.a.createElement(qj,{hostName:i,isNotAvailable:t,priceAmount:u,priceCurrency:c,publicationName:p,publisherName:v})),l.a.createElement("div",{className:Wf()("paywall-overlay",{"is-hidden":!r})},l.a.createElement(Kj,{hostName:i,isNotAvailable:t,onKeepReading:a,priceAmount:u,priceCurrency:c,publicationCoverUrl:f,publicationName:p,publicationTitle:d,publisherDisplayName:h,publisherName:v,publisherProfileImageUrl:y,publisherProfileUrl:m,showKeepReading:_}))):null}var Jj=["LOADED","ERROR"],Qj=function(e){var t=Ja(e),r=e.paywall,n=Ho(e);return{isNotAvailable:r.isNotAvailable,isOverlayVisible:Qs(e),isPreview:t&&!r.isPaid,isPurchased:t&&r.isPaid,hostName:Py(e).main.replace(/^(?:https?:)?\/\/(.*)/,"$1"),paywallDataLoaded:Jj.includes(r.status),priceAmount:r.publicationPriceAmount,priceCurrency:r.publicationPriceCurrency,publicationCoverUrl:n.coverUri,publicationName:n.documentName,publicationTitle:n.title,publisherDisplayName:n.userDisplayName,publisherName:n.username,publisherProfileImageUrl:n.userProfileImageUri,publisherProfileUrl:n.userProfileUri,readPurchasedPath:r.readPurchasedPath,showKeepReading:Zs(e)>0}},eI=function(e){return{onKeepReading:Zr(Sc,e)}},tI=Zn(Qj,eI)(Zj),rI='\n<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M6.446 8L.322 14.124c-.43.43-.43 1.126 0 1.555.215.213.496.32.777.32.28 0 .562-.107.776-.32L8 9.554l6.124 6.124c.214.213.496.32.777.32.282 0 .563-.107.778-.32.43-.43.43-1.126 0-1.556L9.554 8l6.124-6.124c.43-.43.43-1.125 0-1.554-.43-.43-1.125-.43-1.554 0L8 6.446 1.876.322c-.43-.43-1.125-.43-1.554 0-.43.43-.43 1.125 0 1.554L6.446 8z" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n',nI='\n<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M4.948 16c-.243 0-.484-.092-.67-.275-.37-.367-.37-.963 0-1.33L10.716 8 4.277 1.604c-.37-.368-.37-.963 0-1.33.37-.367.97-.367 1.338 0l7.108 7.06c.37.366.37.962 0 1.33l-7.106 7.06c-.185.183-.427.275-.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n',oI='\n<svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">\n  <path d="M12.052 16c.243 0 .484-.092.67-.275.37-.367.37-.963 0-1.33L6.284 8l6.438-6.395c.37-.368.37-.963 0-1.33-.37-.367-.97-.367-1.338 0l-7.108 7.06c-.37.366-.37.962 0 1.33l7.106 7.06c.185.183.427.275.67.275" fill="#FFFFFF" fill-rule="evenodd"/>\n</svg>\n';function iI(e){return(iI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uI(e,t,r){return t&&sI(e.prototype,t),r&&sI(e,r),e}function cI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lI(e,t)}function lI(e,t){return(lI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fI(e){var t=hI();return function(){var r,n=vI(e);if(t){var o=vI(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return pI(this,r)}}function pI(e,t){return!t||"object"!==iI(t)&&"function"!=typeof t?dI(e):t}function dI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hI(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function vI(e){return(vI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mI=71,gI=34,_I=33,bI=function(e){cI(r,e);var t=fI(r);function r(e){var n;return aI(this,r),yI(dI(n=t.call(this,e)),"input",void 0),yI(dI(n),"handleKeyDown",(function(e){var t="MacIntel"===window.navigator.platform;if(e.keyCode===mI&&t&&e.metaKey)e.preventDefault(),e.shiftKey?n.previous():n.next();else if(!t&&e.ctrlKey)e.keyCode===gI?(e.preventDefault(),n.next()):e.keyCode===_I&&(e.preventDefault(),n.previous());else if("Enter"===e.key){if(e.preventDefault(),n.props.isNewQuery(n.state.inputFieldValue)?(n.state.timerId&&clearTimeout(n.state.timerId),n.search(n.state.inputFieldValue)):e.shiftKey?n.previous():n.next(),n.props.isMobile)e.target.blur()}})),yI(dI(n),"handleInputChange",(function(e){n.state.timerId&&clearTimeout(n.state.timerId);var t=null;n.props.enableIncrementalSearch&&(t=setTimeout((function(){n.search(n.state.inputFieldValue)}),500)),n.setState({timerId:t,inputFieldValue:e.target.value})})),yI(dI(n),"handleInputBlur",(function(e){n.state.inputFieldValue||(n.props.featureTracker.usage("FIND_CLOSE_BLUR"),n.props.onCloseButtonClick())})),yI(dI(n),"next",(function(){n.props.featureTracker.usage("FIND_NEXT"),n.props.onNextButtonClick()})),yI(dI(n),"previous",(function(){n.props.featureTracker.usage("FIND_PREV"),n.props.onPreviousButtonClick()})),yI(dI(n),"close",(function(){n.props.featureTracker.usage("FIND_CLOSE"),n.props.onCloseButtonClick()})),n.state={inputFieldValue:"",timerId:null},n.input=c.createRef(),n}return uI(r,[{key:"handleVisibilityChanged",value:function(e,t){var r;if(!e&&t)null===(r=this.input.current)||void 0===r||r.focus(),this.props.featureTracker.opportunity("FIND_QUERY"),this.props.featureTracker.opportunity("FIND_NEXT"),this.props.featureTracker.opportunity("FIND_PREV"),this.props.featureTracker.opportunity("FIND_CLOSE"),this.props.featureTracker.opportunity("FIND_CLOSE_BLUR");else if(!t&&e){var n;null===(n=this.input.current)||void 0===n||n.blur()}}},{key:"componentDidMount",value:function(){this.handleVisibilityChanged(!1,this.props.isVisible)}},{key:"componentDidUpdate",value:function(e,t){this.handleVisibilityChanged(e.isVisible,this.props.isVisible)}},{key:"search",value:function(e){this.props.featureTracker.usage("FIND_QUERY"),this.props.trackOnceMixpanel("reader3_interaction_find_query"),this.props.onSearch(e,this.props.currentPage)}},{key:"render",value:function(){var e=this.props,t=e.isVisible,r=e.currentResult,n=e.numberOfResults,o=e.isMobile,i=e.Spinner,a=e.loadingState,s=e.onRetryClick,u=this.state.inputFieldValue;return c.createElement("div",{className:Wf()("find-widget",{"find-widget--hidden":!t})},c.createElement("button",{className:"find-widget__button find-widget__close-button",type:"button","aria-label":"Close",dangerouslySetInnerHTML:{__html:rI},onClick:this.close}),c.createElement("form",{className:"find-widget__input-wrapper",action:"#"},c.createElement("input",{className:Wf()("find-widget__input",{"find-widget__input--large-font":o}),ref:this.input,type:"search","aria-label":"Find in publication...",onKeyDown:this.handleKeyDown,placeholder:"Find in publication...",value:u,onChange:this.handleInputChange,onBlur:this.handleInputBlur}),c.createElement("div",{className:"find-widget__results-wrapper"},a===ti&&"number"==typeof n&&c.createElement("span",{className:"find-widget__results"},r," of ",n),a===ri&&c.createElement("button",{type:"button",onClick:s,className:"find-widget__retry-button"},"retry"),a===ei&&c.createElement(i,{size:xf}))),c.createElement("button",{className:Wf()("find-widget__button","find-widget__previous-button",{"find-widget__button--disabled":!n}),dangerouslySetInnerHTML:{__html:oI},"aria-label":"Find previous",type:"button",onKeyDown:this.handleKeyDown,onClick:this.previous,disabled:!n}),c.createElement("button",{className:Wf()("find-widget__button","find-widget__next-button",{"find-widget__button--disabled":!n}),dangerouslySetInnerHTML:{__html:nI},"aria-label":"Find next",type:"button",onKeyDown:this.handleKeyDown,onClick:this.next,disabled:!n}),a===ri&&c.createElement("span",{className:"find-widget__error-message"},"Oops, something went wrong"))}}]),r}(c.Component);function wI(){return function(e,t){var r=t();e(Mi(Ei(r),r.reader.currentPageNumber))}}var EI=function(e){return{isMobile:ia.isMobile(),isVisible:wi(e),currentResult:ki(e),numberOfResults:xi(e),currentPage:e.reader.currentPageNumber,nextResultIdx:Pi(e),previousResultIdx:Ci(e),loadingState:Oi(e),isNewQuery:ji(e),Spinner:kf}},OI={onCloseButtonClick:yi,onSearch:Mi,setCurrentResultIdx:Li,triggerLoadTextInfo:wI},TI=function(e,t,r){return Object.assign({},r,e,t,{onNextButtonClick:function(){return t.setCurrentResultIdx(e.nextResultIdx)},onPreviousButtonClick:function(){return t.setCurrentResultIdx(e.previousResultIdx)},onRetryClick:t.triggerLoadTextInfo})},xI=Zn(EI,OI,TI)(bI),kI='\n    <svg width="100%" height="100%" viewBox="0 0 36 36">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g fill="#FFFFFF">\n                <path d="M16.4456672,18.0003762 L10.3219784,24.1243529 C9.89267388,24.5536776 9.89267388,25.249654 10.3219784,25.6787588 C10.5365207,25.8933112 10.8178877,26.0008073 11.0990349,26.0008073 C11.3804019,26.0008073 11.6617688,25.8933112 11.8763112,25.6787588 L18,19.5547821 L24.1236888,25.6787588 C24.3382312,25.8933112 24.6195981,26.0008073 24.9009651,26.0008073 C25.1821123,26.0008073 25.4634793,25.8933112 25.6780216,25.6787588 C26.1073261,25.249654 26.1073261,24.5536776 25.6780216,24.1243529 L19.5543328,18.0003762 L25.6780216,11.8763994 C26.1073261,11.4472946 26.1073261,10.7510983 25.6780216,10.3219935 C25.2487172,9.89266883 24.5529933,9.89266883 24.1236888,10.3219935 L18,16.4459703 L11.8763112,10.3219935 C11.4470067,9.89266883 10.7512828,9.89266883 10.3219784,10.3219935 C9.89267388,10.7510983 9.89267388,11.4472946 10.3219784,11.8763994 L16.4456672,18.0003762 Z"></path>\n            </g>\n        </g>\n    </svg>\n';function SI(e){return(SI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AI(e,t,r){return t&&CI(e.prototype,t),r&&CI(e,r),e}function RI(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jI(e,t)}function jI(e,t){return(jI=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function II(e){var t=LI();return function(){var r,n=NI(e);if(t){var o=NI(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return DI(this,r)}}function DI(e,t){return!t||"object"!==SI(t)&&"function"!=typeof t?MI(e):t}function MI(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LI(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function NI(e){return(NI=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BI(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FI=function(e){RI(r,e);var t=II(r);function r(){var e;PI(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return BI(MI(e=t.call.apply(t,[this].concat(o))),"onOpenAnywayHandler",(function(){window.open(e.props.videoUrl,"_blank"),e.props.dispatch(Sh())})),BI(MI(e),"onBackgroundClick",(function(){e.props.dispatch(Bc())})),BI(MI(e),"onCloseButtonClick",(function(){e.props.dispatch(Bc()),e.props.dispatch(Sh())})),BI(MI(e),"getVideoEmbedUrl",(function(){switch(e.props.service){case"youtube":var t=new U.a(e.props.videoUrl),r=["autoplay=1"];return["rel","start","end","loop"].forEach((function(e){t.hasQueryParam(e)&&r.push("".concat(e,"=").concat(t.getQueryParamValue(e)))})),"https://web.archive.org/web/20220221113829/https://www.youtube.com/embed/".concat(e.props.videoId,"?").concat(r.join("&"));case"vimeo":return"https://player.vimeo.com/video/".concat(e.props.videoId,"?autoplay=1");default:return""}})),BI(MI(e),"renderContent",(function(){var t=e.props,r=t.videoInfo,n=t.service;if(r===Lc.SAFE)return c.createElement("div",{className:"video-overlay__content"},c.createElement("iframe",{className:"video-overlay__player",src:e.getVideoEmbedUrl(),allowFullScreen:!0}),c.createElement(tp,{className:"svg-btn video-overlay__close-button",content:kI,onClick:e.onCloseButtonClick}));switch(r){case Lc.EXPLICIT:return c.createElement("div",{className:"video-overlay__error-content"},c.createElement(eC,{onSubmit:function(){return e.onOpenAnywayHandler()},onClose:function(){return e.onCloseButtonClick()},service:n}));case Lc.UNKNOWN:return c.createElement("div",{className:"video-overlay__content"},c.createElement("div",{className:"video-overlay__loading"},c.createElement(kf,null)),c.createElement(tp,{className:"svg-btn video-overlay__close-button",content:kI,onClick:e.onCloseButtonClick}));case Lc.ERROR:return c.createElement("div",{className:"video-overlay__error-content"},c.createElement(zP,{onSubmit:function(){return e.onOpenAnywayHandler()},onClose:function(){return e.onCloseButtonClick()},service:n}));default:throw new Error("The video info is not a valid value: ".concat(r))}})),e}return AI(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.service,r=e.videoId;e.videoInfo===Lc.UNKNOWN&&this.props.dispatch(Wc(t,r,this.props.metrics))}},{key:"render",value:function(){return c.createElement("div",{className:"video-overlay"},c.createElement("div",{className:"video-overlay__background",onClick:this.onBackgroundClick}),this.renderContent())}}]),r}(c.Component);BI(FI,"displayName","VideoOverlay");var UI=function(e){return{service:e.videoOverlay.service||"",videoId:e.videoOverlay.videoId||"",videoInfo:e.videoOverlay.videoInfo,videoUrl:e.videoOverlay.videoUrl||""}},WI=Zn(UI,void 0,void 0,{pure:!0})(FI),zI=function(e){return e.videoOverlay.showOverlay},HI=r(84),VI="#fff",GI="12px",qI='"Open Sans", Arial, sans-serif',$I="700",KI='\n  <?xml version="1.0" ?>\n  <!DOCTYPE svg  PUBLIC \'-//W3C//DTD SVG 1.1//EN\'  \'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\'>\n  <svg width="24" height="24" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g>\n      <g>\n        <path id="hand" d="M396.3,274.7c0-0.6-0.1-1.2-0.3-1.8c-4.5-19.5-17.5-31.7-33.9-31.7c-4.8,0-9.4,1-13.6,2.8     c-4.5-13.6-17.3-23.5-32.4-23.5c-5.6,0-10.9,1.4-15.5,3.8c-5.6-11.2-17.2-18.8-30.5-18.8c-4.2,0-8.2,0.8-11.9,2.1v-41.6     c0-18.8-15.3-34.2-34.2-34.2c-18.8,0-34.2,15.3-34.2,34.2v142.6l-12.4-21.5c-4.6-8.3-11.9-14-20.7-16.2     c-8.5-2.1-17.6-0.6-25.1,4.1c-12.6,8-16.6,25.9-10.3,45.4c0,0.1,0.1,0.2,0.1,0.3c1.3,3.9,33.4,94.8,71.6,132.9     c2.2,2.2,5,3.3,7.9,3.3c2.9,0,5.7-1.1,7.9-3.3c4.4-4.4,4.3-11.4,0-15.8c-34-33.9-64.9-120.6-66.3-124.4     c-2.8-8.8-2.3-17.4,1.1-19.6c2.3-1.4,5-1.9,7.6-1.3c2.8,0.7,5,2.6,6.7,5.6l33.3,57.7c2.5,4.4,7.7,6.5,12.5,5.2     c4.9-1.3,8.3-5.7,8.3-10.8V166.1c0-6.5,5.3-11.9,11.9-11.9c6.5,0,11.9,5.3,11.9,11.9v127.7c0,6.2,5,11.1,11.1,11.1     c6.2,0,11.1-5,11.1-11.1v-55.1c0-0.1,0.1-0.2,0.1-0.3c0.6-6,5.7-10.6,11.8-10.6c6.5,0,11.9,5.3,11.9,11.9v15.1v11.9v31.2     c0,6.2,5,11.1,11.1,11.1c6.2,0,11.1-5,11.1-11.1v-31.2v-11.9c0-6.5,5.3-11.9,11.9-11.9c6.5,0,11.9,5.3,11.9,11.9v14.9     c0,0.7,0.1,1.4,0.2,2.1c-0.1,1.2-0.2,2.4-0.2,3.7v22.5c0,6.2,5,11.1,11.1,11.1s11.1-5,11.1-11.1v-22.5c0-6.5,5.3-11.9,11.9-11.9     c7.5,0,10.8,8.9,11.9,13.5c0.6,10.9,5.7,112.3-13.3,158.9c-2.3,5.7,0.4,12.2,6.1,14.5c1.4,0.6,2.8,0.8,4.2,0.8     c4.4,0,8.6-2.6,10.3-6.9C403.3,390.6,396.6,279.4,396.3,274.7z"/>\n        <path id="tap-first" d="M278.4,192.2c5.9,1.7,12.1-1.6,13.9-7.5c1.9-6.5,2.9-13.3,2.9-20.2c0-39.2-31.9-71.2-71.2-71.2     c-39.2,0-71.2,31.9-71.2,71.2c0,8.7,1.5,17.2,4.6,25.2c1.7,4.5,5.9,7.2,10.4,7.2c1.3,0,2.6-0.2,3.9-0.7c5.8-2.2,8.7-8.6,6.5-14.4     c-2.1-5.5-3.2-11.3-3.2-17.3c0-26.9,21.9-48.9,48.9-48.9c26.9,0,48.9,21.9,48.9,48.9c0,4.7-0.7,9.4-2,13.9     C269.1,184.3,272.5,190.5,278.4,192.2z"/>\n        <path id="tap-second" d="M136.5,220.5c1.7,0,3.5-0.4,5.1-1.2c5.5-2.8,7.6-9.5,4.8-15c-6.4-12.4-9.6-25.7-9.6-39.8     c0-48.1,39.1-87.2,87.2-87.2c48.1,0,87.2,39.1,87.2,87.2c0,7.6-1,15.1-2.9,22.4c-1.6,6,2,12.1,7.9,13.6c6,1.6,12.1-2,13.6-7.9     c2.4-9.1,3.6-18.5,3.6-28.1c0-60.4-49.1-109.5-109.5-109.5c-60.4,0-109.5,49.1-109.5,109.5c0,17.3,4.2,34.6,12,49.9     C128.5,218.3,132.4,220.5,136.5,220.5z"/>\n      </g>\n    </g>\n    </svg>\n';function YI(e,t){return eD(e)||QI(e,t)||ZI(e,t)||XI()}function XI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ZI(e,t){if(e){if("string"==typeof e)return JI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JI(e,t):void 0}}function JI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QI(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function eD(e){if(Array.isArray(e))return e}var tD="SMARTZOOM_TUTORIAL_SEEN",rD=Object(HI.c)(["from{opacity:0;top:calc(50% - 115px);}to{opacity:0.8;top:calc(50% - 100px);}"]),nD=Object(HI.c)(["from{opacity:0.8;top:calc(50% - 100px);}to{opacity:0;top:calc(50% - 85px);}"]),oD=HI.b.div.withConfig({componentId:"sc-9lvq2x-0"})(["position:absolute;max-width:100px;left:calc(50% - 60px);background-color:#353535;color:",";font-family:",";font-size:",";line-height:1.2;text-align:center;padding:12px;display:none;border-radius:6px;pointer-events:none;",""],VI,qI,GI,(function(e){var t=e.uiState;return"FADE_IN"===t?Object(HI.a)(["display:block;animation:"," 0.25s ease-out forwards;"],rD):"FADE_OUT"===t?Object(HI.a)(["display:block;animation:"," 0.2s ease-in forwards;"],nD):void 0})),iD=HI.b.span.withConfig({componentId:"sc-9lvq2x-1"})(["font-weight:",";"],$I),aD=Object(HI.c)(["from{opacity:0;}to{opacity:1;}"]),sD=HI.b.div.withConfig({componentId:"sc-9lvq2x-2"})(["svg{width:24px;height:24px;path{stroke:",";fill:",";}#tap-first{opacity:0;animation:"," 0.3s ease-in 0.25s forwards;}#tap-second{opacity:0;animation:"," 0.15s ease-in 0.55s forwards;}}"],VI,VI,aD,aD);function uD(){try{return"true"===window.localStorage.getItem(tD)}catch(e){return!1}}function cD(){try{window.localStorage.setItem(tD,"true")}catch(e){}}function lD(e){var t=c.useRef();return c.useEffect((function(){t.current=e})),t.current}function fD(e,t,r){return r?"VISIBLE"===e?"FADE_IN":"HIDDEN_FINAL"===e?"FADE_OUT":"HIDDEN":"HIDDEN"}var pD=function(e){var t=e.visibility,r=e.setVisibility;c.useEffect((function(){"HIDDEN_INITIAL"===t&&r("HIDDEN_READY")}),[t]);var n=YI(c.useState(uD()),2),o=n[0],i=n[1],a=YI(c.useState(!o&&"HIDDEN_INITIAL"===t),1)[0];c.useEffect((function(){"VISIBLE"!==t||o||(cD(),i(!0))}),[t,o]);var s=c.useCallback((function(){if("VISIBLE"===t||"HIDDEN_READY"===t){var e="VISIBLE"===t;return setTimeout((function(){r(e?"HIDDEN_FINAL":"VISIBLE")}),e?2e3:1e3)}}),[t]);c.useEffect((function(){if("HIDDEN_INITIAL"!==t&&"HIDDEN_FINAL"!==t){if("HIDDEN_RESET"!==t){var e=s();return function(){"number"==typeof e&&clearTimeout(e)}}r("HIDDEN_READY")}}),[s]);lD(t);var u=fD(t,0,a);return c.createElement(oD,{uiState:u},c.createElement(sD,{dangerouslySetInnerHTML:{__html:KI}}),c.createElement(iD,null,"Double tap on text to zoom"))},dD=Zn((function(e){return{visibility:e.reader.smartzoomTutorialVisibility}}),(function(e){return{setVisibility:function(t){e({type:"SET_SMARTZOOM_TUTORIAL_VISIBILITY",visibility:t})}}}))(pD),hD=Lo(bs,Ds,qs,$s,qg,(function(e){return e.reader.zoomLevel}),(function(e,t,r,n,o,i){return!!e&&((!o||!r)&&(t||n||1===i))})),vD=Lo(hD,Is,As,(function(e,t,r){return e&&!t&&r>-1})),yD=Lo(hD,js,As,(function(e,t,r){return e&&!t&&r>-1}));function mD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _D(e,t,r){return t&&gD(e.prototype,t),r&&gD(e,r),e}function bD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var wD=function(){function e(t,r){var n=this;mD(this,e),bD(this,"target",void 0),bD(this,"callback",void 0),bD(this,"_eventHandler",(function(e){("wheel"!==e.type||e.ctrlKey)&&n.callback()})),this.target=t,this.callback=r,this.target.addEventListener("mousedown",this._eventHandler,!0),this.target.addEventListener("touchstart",this._eventHandler,!0),this.target.addEventListener("pointerdown",this._eventHandler,!0),this.target.addEventListener("MSPointerDown",this._eventHandler,!0),this.target.addEventListener("gesturestart",this._eventHandler,!0),this.target.addEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.addEventListener("keydown",this._eventHandler,!0)}return _D(e,[{key:"destroy",value:function(){this.target.removeEventListener("mousedown",this._eventHandler,!0),this.target.removeEventListener("touchstart",this._eventHandler,!0),this.target.removeEventListener("pointerdown",this._eventHandler,!0),this.target.removeEventListener("MSPointerDown",this._eventHandler,!0),this.target.removeEventListener("gesturestart",this._eventHandler,!0),this.target.removeEventListener("wheel",this._eventHandler,!0),this.target.ownerDocument.removeEventListener("keydown",this._eventHandler,!0)}}]),e}(),ED=function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},OD=ED;function TD(e){return(TD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xD(Object(r),!0).forEach((function(t){HD(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function SD(e,t){return jD(e)||RD(e,t)||CD(e,t)||PD()}function PD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function CD(e,t){if(e){if("string"==typeof e)return AD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AD(e,t):void 0}}function AD(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RD(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function jD(e){if(Array.isArray(e))return e}function ID(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function MD(e,t,r){return t&&DD(e.prototype,t),r&&DD(e,r),e}function LD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ND(e,t)}function ND(e,t){return(ND=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function BD(e){var t=WD();return function(){var r,n=zD(e);if(t){var o=zD(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return FD(this,r)}}function FD(e,t){return!t||"object"!==TD(t)&&"function"!=typeof t?UD(e):t}function UD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WD(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function zD(e){return(zD=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HD(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VD=function(e){LD(r,e);var t=BD(r);function r(e){var n;return ID(this,r),HD(UD(n=t.call(this,e)),"interactionDetector",void 0),HD(UD(n),"inputHandler",void 0),HD(UD(n),"mainReader",void 0),HD(UD(n),"addOrientationListener",(function(){window.matchMedia("(orientation: portrait)").matches&&OD()&&n.props.featureTracker.opportunity(av.LANDSCAPE_MODE),window.matchMedia("(orientation: landscape)").matches&&OD()&&n.props.featureTracker.opportunity(av.PORTRAIT_MODE),window.addEventListener("orientationchange",n.onOrientationChange,!1)})),HD(UD(n),"destroyOrientationListener",(function(){window.removeEventListener("orientationchange",n.onOrientationChange,!1)})),HD(UD(n),"onOrientationChange",(function(){window.setTimeout((function(){window.matchMedia("(orientation: portrait)").matches&&(n.props.featureTracker.usage(av.PORTRAIT_MODE),n.props.featureTracker.opportunity(av.LANDSCAPE_MODE)),window.matchMedia("(orientation: landscape)").matches&&(n.props.featureTracker.usage(av.LANDSCAPE_MODE),n.props.featureTracker.opportunity(av.PORTRAIT_MODE))}),2e3)})),HD(UD(n),"onNextSpreadButtonClick",(function(e){e.preventDefault(),n.props.featureTracker.usage(av.BUTTON_ARROW_FORWARD),n.trackOnceMixpanel("reader3_interaction_next_page_arrow"),n.props.dispatch(Sh()),n.nextSpread()})),HD(UD(n),"onPreviousSpreadButtonClick",(function(e){e.preventDefault(),n.props.featureTracker.usage(av.BUTTON_ARROW_BACKWARD),n.trackOnceMixpanel("reader3_interaction_previous_page_arrow"),n.props.dispatch(Sh()),n.previousSpread()})),HD(UD(n),"trackOpportunities",(function(){n.props.featureTracker.opportunity(av.FULLSCREEN_MORE),n.props.isLeftArrowVisible&&n.props.featureTracker.opportunity(av.BUTTON_ARROW_BACKWARD),n.props.isRightArrowVisible&&n.props.featureTracker.opportunity(av.BUTTON_ARROW_FORWARD)})),HD(UD(n),"nextSpread",(function(){n.props.dispatch(Sc())})),HD(UD(n),"previousSpread",(function(){n.props.dispatch(kc())})),HD(UD(n),"mixpanelData",(function(){var e=n.props,t=e.readerSizeInPixels,r=e.currentPageNumbers,o=e.documentId,i=e.fullscreenEnabled,a=SD(t.split("x"),2),s=a[0],u=a[1];return{currentPageNumbers:r.toString(),documentId:o,fullScreen:i,reader3Width:s,reader3Height:u}})),HD(UD(n),"trackOnceMixpanel",(function(e,t,r){return n.props.trackOnceMixpanel(e,kD(kD({},n.mixpanelData()),t),r)})),n.mainReader=c.createRef(),n}return MD(r,[{key:"componentDidMount",value:function(){var e=this;this.interactionDetector=new wD(this.mainReader.current,(function(){e.props.interactedWithReader||window.setTimeout((function(){e.props.dispatch(Oc())}),500)}));var t=this.mainReader.current;this.inputHandler=new Nd(t,{onMouseMove:function(t,r,n){e.props.dispatch(Ph())},onMouseEnter:function(t){e.props.dispatch(Ch())},onMouseLeave:function(t){e.props.dispatch(Ah())}}),this.addOrientationListener(),this.trackOpportunities(),OD()&&this.props.featureTracker.usage(av.READER_LOADED_MOBILE),this.trackOnceMixpanel("reader3_interaction_reader_viewed")}},{key:"componentDidUpdate",value:function(e){this.props.renderReadmore&&this.props.exitedFullscreen&&this.props.moreContentContainerIsVisible&&this.props.moreContentContainerIsVisible!==e.moreContentContainerIsVisible&&this.props.featureTracker.usage(av.FULLSCREEN_MORE),this.trackOpportunities()}},{key:"componentWillUnmount",value:function(){this.interactionDetector&&this.interactionDetector.destroy(),this.destroyOrientationListener()}},{key:"render",value:function(){var e,t;t=this.props.showCTAOverlay?c.createElement(aj,{dispatch:this.props.dispatch,featureTracker:this.props.featureTracker,fullscreenEnabled:this.props.fullscreenEnabled,toggleFullscreen:this.props.toggleFullscreen,trackOnceMixpanel:this.trackOnceMixpanel,visible:this.props.isControlsVisible}):c.createElement(Qy,{trackOnceMixpanel:this.trackOnceMixpanel,toggleFullscreen:this.props.toggleFullscreen,visible:this.props.isControlsVisible});var r={backgroundImage:this.props.logo?"url('".concat(this.props.logo.url,"')"):"none"};return c.createElement("div",{ref:this.mainReader,tabIndex:1,className:"reader",style:r},c.createElement("div",{className:"reader__layout"},c.createElement(Zg,{trackOnceMixpanel:this.trackOnceMixpanel}),!this.props.showCTAOverlay&&c.createElement(xI,{featureTracker:this.props.featureTracker,trackOnceMixpanel:this.trackOnceMixpanel,enableIncrementalSearch:!ia.isIOS()}),c.createElement("div",{className:"reader__canvas-container"},c.createElement(IR,{loadStatsTracker:this.props.loadStatsTracker,metrics:this.props.metrics,trackOnceMixpanel:this.trackOnceMixpanel}),c.createElement($R,{leftArrowVisible:this.props.isLeftArrowVisible,rightArrowVisible:this.props.isRightArrowVisible,onClickLeftArrow:this.onPreviousSpreadButtonClick,onClickRightArrow:this.onNextSpreadButtonClick})),this.props.showSmartZoomTutorial&&c.createElement(dD,null),t,this.props.renderReadmore&&c.createElement(_j,{dispatch:this.props.dispatch,visible:this.props.moreContentContainerIsVisible,showAsOverlay:this.props.showReadmoreAsOverlay,readerSizeInPixels:this.props.readerSizeInPixels},null===(e=this.props.readMorePlugin)||void 0===e?void 0:e.render(this.props.config,this.props.debugMode,this.props.exitedFullscreen,this.props.moreContentContainerIsVisible,this.props.showReadmoreAsOverlay)),this.props.renderPaywallOverlay&&c.createElement(tI,null),this.props.renderVideoOverlay&&c.createElement(WI,{metrics:this.props.metrics})))}}]),r}(c.Component);HD(VD,"displayName","Reader");var GD=function(e){return{currentPageNumbers:e.reader.currentPageNumbers,debugMode:e.reader.debugMode,documentId:Ho(e).documentId,exitedFullscreen:e.readmore.exitedFullscreen,featureTracker:e.featureTracker,interactedWithReader:e.reader.interactedWithReader,readMorePlugin:e.readMorePlugin,showReadmoreAsOverlay:qg(e),fullscreenEnabled:Ts(e),isControlsVisible:Ds(e),logo:Ws(e),isLeftArrowVisible:vD(e),isRightArrowVisible:yD(e),moreContentContainerIsVisible:qs(e),readerSizeInPixels:Ms(e),renderReadmore:Hg(e),renderPaywallOverlay:Ja(e),showCTAOverlay:$s(e),showSmartZoomTutorial:Ys(e),renderVideoOverlay:zI(e)}},qD=Zn(GD,void 0,void 0,{pure:!0})(VD);function $D(e){return($D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YD(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XD(e,t,r){return t&&YD(e.prototype,t),r&&YD(e,r),e}function ZD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&JD(e,t)}function JD(e,t){return(JD=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function QD(e){var t=rM();return function(){var r,n=nM(e);if(t){var o=nM(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return eM(this,r)}}function eM(e,t){return!t||"object"!==$D(t)&&"function"!=typeof t?tM(e):t}function tM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rM(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function nM(e){return(nM=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oM(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var iM=function(e){ZD(r,e);var t=QD(r);function r(){var e;KD(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return oM(tM(e=t.call.apply(t,[this].concat(o))),"isOSX",void 0),oM(tM(e),"_repeatTimeoutId",void 0),oM(tM(e),"onKeyDown",(function(t){var r=e.props,n=r.dispatch,o=r.toggleFullscreen,i=r.canFind,a=r.lastSpreadIndex,s=r.moreContentContainerIsVisible,u=r.isFindOverlayVisible,c=r.fullscreenEnabled,l=r.abortCurrentInteraction,f=tM(e).isOSX;if(l)e.stopRepeating();else{if(t.keyCode===fh)s?n(Tg()):u?n(yi()):c&&o();else if(e.isRepeating()||document.activeElement&&"INPUT"===document.activeElement.tagName)return;switch(t.keyCode){case vh:i&&f&&t.metaKey||!f&&t.ctrlKey?(t.preventDefault(),e.openFindDialog()):o();break;case wh:i&&!f&&(t.preventDefault(),e.openFindDialog());break;case bh:i&&(t.preventDefault(),e.openFindDialog());break;case yh:case _h:if(t.metaKey)break;e.startRepeating((function(r){e.props.canGoBackward&&e.goToPreviousPage(),r||e.props.dispatch(kh(t.keyCode))}));break;case hh:case mh:case gh:if(t.metaKey)break;e.startRepeating((function(r){e.props.canGoForward&&e.goToNextPage(),r||e.props.dispatch(kh(t.keyCode))}));break;case ph:n(xc(0));break;case dh:n(xc(a))}n(kh(t.keyCode))}})),oM(tM(e),"onKeyUp",(function(t){switch(t.keyCode){case hh:case yh:case _h:case mh:case gh:e.stopRepeating()}})),e}return XD(r,[{key:"componentDidMount",value:function(){this.isOSX="MacIntel"===window.navigator.platform,window.addEventListener("keyup",this.onKeyUp,!1),window.addEventListener("keydown",this.onKeyDown,!1)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.abortCurrentInteraction,r=e.canGoBackward,n=e.canGoForward,o=e.canFind,i=e.featureTracker;t?this.stopRepeating():(r&&i.opportunity(av.KEYBOARD_BACKWARD),n&&i.opportunity(av.KEYBOARD_FORWARD),o&&i.opportunity(av.KEYBOARD_OPEN_FIND))}},{key:"componentWillUnmount",value:function(){this.stopRepeating(),window.removeEventListener("keyup",this.onKeyUp,!1),window.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"startRepeating",value:function(e){var t=this,r=!0;!function n(){e(r);var o=r?as:ss;r=!1,t._repeatTimeoutId=setTimeout(n,o)}()}},{key:"isRepeating",value:function(){return!!this._repeatTimeoutId}},{key:"stopRepeating",value:function(){this._repeatTimeoutId&&clearTimeout(this._repeatTimeoutId),this._repeatTimeoutId=void 0}},{key:"goToPreviousPage",value:function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(kc()),r.usage(av.KEYBOARD_BACKWARD)}},{key:"goToNextPage",value:function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(Sc()),r.usage(av.KEYBOARD_FORWARD)}},{key:"openFindDialog",value:function(){var e=this.props,t=e.dispatch,r=e.featureTracker;t(vi()),r.usage(av.KEYBOARD_OPEN_FIND)}},{key:"render",value:function(){return c.Children.only(this.props.children)}}]),r}(c.Component);function aM(e){return{abortCurrentInteraction:Ku(e),canFind:!$s(e)&&Ii(e),canGoBackward:vD(e),canGoForward:yD(e),lastSpreadIndex:Rs(e),moreContentContainerIsVisible:qs(e),isFindOverlayVisible:wi(e),fullscreenEnabled:Ts(e)}}var sM,uM=Zn(aM)(iM),cM=function e(t){var r,n,o,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;function u(e,t){var r=window.document,n=r.createElement("div");return n.innerHTML="&nbsp;",n.setAttribute("class",e),n.setAttribute("style",t),r.body.appendChild(n),n}function c(e){return 0===e.offsetHeight||!document.body.contains(e)||"none"===e.style.display||"hidden"===e.style.visibility}return n=u((r=s||{testNodeClasses:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",testNodeStyle:"height: 10px !important; font-size: 20px; color: transparent; position: absolute; bottom: 0; left: -10000px;",testInterval:51,testRuns:4}).testNodeClasses,r.testNodeStyle),o=0,i=!1,a=setInterval((function(){o++,((i=c(n))||o===r.testRuns)&&(clearInterval(a),n.parentNode&&n.parentNode.removeChild(n),t(i))}),r.testInterval),e},lM=cM,fM=r(285),pM=r.n(fM),dM=arguments,hM=function(){var e=/debugads=([^;]*)/.exec(document.cookie);return e&&"true"===e.pop()||"undefined"!=typeof window&&window.location.search.indexOf("debugads=true")>-1},vM=function(){hM()&&console.log(dM)},yM={log:vM},mM=function(){},gM=function(e){var t,r,n=e.config.network,o=e.rootElm.getAttribute("id")||"div-"+Math.round(1e4*Math.random()),i=e.bidders,a=e.bidderTimeout;return function(){var s=e.targeting||[];if(s.push(["advelvet",[Math.floor(20*Math.random())+1+""]]),yM.log("ads","widget","gpt","addPlacementWithTargeting",n,s),e.callbacks=Object.assign({onAdFilled:mM,onAdViewable:mM,onAdFailed:mM,onAdUnfilled:mM},e.callbacks),yM.log("ads","widget","gpt","create",e),n){var u=i.map((function(e){return{name:e.name,config:e.config}})),c=i.map((function(e){return{name:e.name,options:e.options}}));t=pM.a.create({onError:e.callbacks.onAdFailed,bidders:u,bidderTimeout:a,pageUrl:e.pageUrl}),e.rootElm.setAttribute("id",o),r=t.addPlacement(o,n,e.config.sizes,s,c),yM.log("ads","widget","gpt","addPlacement",o,n,e.config.sizes,s),t.addEventListener("slotRenderEnded",(function(t){t.slot.getSlotElementId()===o&&(yM.log("ads","widget","gpt","slotRendered",t),t.isEmpty?e.callbacks.onAdUnfilled():e.callbacks.onAdFilled())})),t.addEventListener("impressionViewable",(function(t){t.slot.getSlotElementId()===o&&(yM.log("ads","widget","gpt","impressionViewable",t),e.callbacks.onAdViewable())}))}else e.callbacks.onAdFailed()}(),{gpt:t,slot:r}},_M={create:gM},bM=new Uint8Array(16);function wM(){if(!sM&&!(sM="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return sM(bM)}var EM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function OM(e){return"string"==typeof e&&EM.test(e)}for(var TM=OM,xM=[],kM=0;kM<256;++kM)xM.push((kM+256).toString(16).substr(1));function SM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(xM[e[t+0]]+xM[e[t+1]]+xM[e[t+2]]+xM[e[t+3]]+"-"+xM[e[t+4]]+xM[e[t+5]]+"-"+xM[e[t+6]]+xM[e[t+7]]+"-"+xM[e[t+8]]+xM[e[t+9]]+"-"+xM[e[t+10]]+xM[e[t+11]]+xM[e[t+12]]+xM[e[t+13]]+xM[e[t+14]]+xM[e[t+15]]).toLowerCase();if(!TM(r))throw TypeError("Stringified UUID is invalid");return r}var PM=SM;function CM(e,t,r){var n=(e=e||{}).random||(e.rng||wM)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return PM(n)}var AM=CM;function RM(){return AM()}var jM="iutk",IM="00000000-0000-0000-0000-000000000000",DM=null;function MM(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").filter((function(e){return e.includes("".concat(jM,"="))}));if(e.length)return e[0].split("=")[1].trim()}return null}function LM(){var e=RM(),t=function(){if("undefined"!=typeof document){var e=/(?:t?)issuu.com$/.exec(document.domain||"");return e?e[0]:null}return null}();document.cookie="".concat(jM,"=").concat(e).concat(t?";domain=".concat(t):"",";path=/;max-age=").concat(15552e3,";samesite=none;secure")}function NM(){if(null===DM){var e;try{null===(e=MM())&&(LM(),e=MM())}catch(t){e=null}DM=null===e?IM:e}return DM}var BM=r(119),FM=r.n(BM),UM="@issuu/tracking-micro",WM="11.0.0",zM={error:Object(BM.debug)("".concat(UM,":").concat(WM,":error")),info:Object(BM.debug)("".concat(UM,":").concat(WM,":info"))};zM.info.log=console.log.bind(console);var HM=zM,VM="".concat(UM,"-v").concat(WM),GM=function(e){var t=NM();return t?Object.assign({iutk:t},e):e},qM=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.pingbackHost||"pingback.tissuu.com",n=t.pingbackUrl||"//".concat(r,"/ping"),o=t.logger||HM,i=t.fetch||window.fetch;return i(n,{method:"post",credentials:"include",headers:{Accept:"application/json","Content-Type":"text/plain;charset=UTF-8"},body:JSON.stringify(GM(e))}).then((function(t){if(!t.ok)return t.text().then((function(t){o.error("".concat(e.type," pingback was invalid: ").concat(t,"."),e)}));o.info("pingback sent with payload \n %O",e)})).catch((function(t){o.error("".concat(e.type," pingback failed \n %O"),t)}))};function $M(e){return function(t){if(!t||Array.isArray(t)&&0===t.length)return Promise.resolve();var r=(Array.isArray(t)?t:[t]).map((function(e){return Object.assign({version:"1.0.0"},e)}));return qM({type:"monitor",version:"2.2.0",origin:VM,data:r},e)}}var KM=function(e){var t,r;function n(n,o){var i={type:t+"."+n,countryCode:e.countryCode,timeElapsed:o,screenWidth:Number(window.innerWidth),screenHeight:Number(window.innerHeight),screenResolution:Number(window.innerHeight)*Number(window.innerWidth)};yM.log("ads","pingback",i),r(i)}return r=e&&!0===e.isProductionEnv?$M({pingbackUrl:"//web.archive.org/web/20220221113829/https://pingback.issuu.com/ping"}):$M({pingbackUrl:"//web.archive.org/web/20220221113829/https://pingback.tissuu.com/ping"}),t=e&&e.trackingKey||"ads-widget",{adRequested:function(e){n("requested",e)},adFailed:function(e){n("failed",e)},adLoaded:function(e){n("filled",e)},adViewable:function(e){n("viewable",e)},adTimeout:function(e){n("timeout",e)},adUnfilled:function(e){n("unfilled",e)},adBlockerBlocked:function(e){n("blocked",e)},adBlockerNotBlocked:function(e){n("notblocked",e)}}},YM={create:KM};function XM(e){return(XM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ZM=10,JM=function(){},QM=function(e){var t,r,n,o,i=!1,a=!1,s=!1;function u(){return(new Date).getTime()-o}function c(){if(!a){a=!0,yM.log("ads","widget",t.trackingKey,"unfilled"),clearTimeout(n),r.adUnfilled(u());try{t.callbacks.onAdUnfilled()}catch(e){throw yM.log("ads","widget","ad callback onAdUnfilled threw an error",e),e}}}function l(){yM.log("ads","widget",t.trackingKey,"failed"),clearTimeout(n),r.adFailed(u());try{t.callbacks.onAdFailed()}catch(e){throw yM.log("ads","widget","ad callback onAdFailed threw an error",e),e}}function f(){yM.log("ads","widget",t.trackingKey,"timeout"),!1==(!0===i||!0===a||!0===s)&&(r.adTimeout(u()),l())}function p(){if(!s){s=!0,yM.log("ads","widget",t.trackingKey,"viewable"),clearTimeout(n),r.adViewable(u());try{t.callbacks.onAdViewable()}catch(e){throw yM.log("ads","widget","ad callback onAdViewable threw an error",e),e}}}function d(){if(!i){i=!0,yM.log("ads","widget",t.trackingKey,"filled"),clearTimeout(n),r.adLoaded(u());try{t.callbacks.onAdFilled()}catch(e){throw yM.log("ads","widget","ad callback onAdFilled threw an error",e),e}}}return t=e||{},(t=Object.assign({},{adProviderConfig:{},dfpTargeting:[],isProductionEnv:!0,trackingKey:"",countryCode:"unknown",bidders:[],bidderTimeout:void 0},t)).callbacks=Object.assign({},{onAdFilled:JM,onAdFailed:JM,onAdViewable:JM,onAdUnfilled:JM,onAdBlocked:JM},t.callbacks),r=YM.create({trackingKey:t.trackingKey,isProductionEnv:t.isProductionEnv,countryCode:t.countryCode||"unknown"}),void 0!==("undefined"==typeof window?"undefined":XM(window))&&lM((function(e){e?(r.adBlockerBlocked(u()),t.callbacks.onAdBlocked()):r.adBlockerNotBlocked(u())})),{show:function(){return o=(new Date).getTime(),n=setTimeout(f,1e3*ZM),e=_M.create({rootElm:t.rootElm,config:t.adProviderConfig,callbacks:{onAdFilled:d,onAdFailed:l,onAdViewable:p,onAdUnfilled:c},targeting:t.dfpTargeting,bidders:/(^|;)\s*CookieConsent=[^;]*marketing:true/.test(document.cookie)?t.bidders:[],bidderTimeout:t.bidderTimeout,pageUrl:t.pageUrl}),r.adRequested(u()),yM.log("ads","widget",t.trackingKey,"requested"),e;var e}}};function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nL(e,t,r){return t&&rL(e.prototype,t),r&&rL(e,r),e}function oL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&iL(e,t)}function iL(e,t){return(iL=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function aL(e){var t=cL();return function(){var r,n=lL(e);if(t){var o=lL(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sL(this,r)}}function sL(e,t){return!t||"object"!==eL(t)&&"function"!=typeof t?uL(e):t}function uL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function lL(e){return(lL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pL=function(e){oL(r,e);var t=aL(r);function r(e){var n;return tL(this,r),fL(uL(n=t.call(this,e)),"adContainer",void 0),fL(uL(n),"adElement",void 0),fL(uL(n),"overlayElement",void 0),fL(uL(n),"progressElement",void 0),fL(uL(n),"onCloseOverlay",(function(e){e.target===n.overlayElement.current&&n.props.onClose()})),n.adContainer=c.createRef(),n.adElement=c.createRef(),n.overlayElement=c.createRef(),n.progressElement=c.createRef(),n}return nL(r,[{key:"createAd",value:function(e){var t=this.adContainer,r=this.props.licenses;if(t){var n,o=document.createElement("div");o.className=Wf()("ad-overlay__ad-slot"),null===(n=t.current)||void 0===n||n.appendChild(o),this.adElement.current=o;var i=[["publicationId",this.props.publicationId],["ownerUsername",this.props.publisherUsername],["licenses",r]];QM({rootElm:this.adElement.current,dfpTargeting:i,adProviderConfig:{network:"/30443627/inPublication_Native",sizes:["fluid",[1,1]]},isProductionEnv:!0,trackingKey:"ads-widget.InPublication_Native",pageUrl:e,callbacks:{onAdFilled:this.props.onShow,onAdFailed:this.props.onFailed,onAdUnfilled:this.props.onUnfilled,onAdBlocked:this.props.onBlocked}}).show()}}},{key:"removeAd",value:function(){this.adElement.current&&this.adElement.current.parentNode&&(this.adElement.current.parentNode.removeChild(this.adElement.current),this.adElement.current=null)}},{key:"updateProgress",value:function(e,t){this.progressElement.current&&(this.progressElement.current.style.transform="scaleX(".concat(e/t,")"))}},{key:"render",value:function(){var e=this.props.isOverlayVisible;return c.createElement("div",{className:Wf()("ad-overlay",{"ad-overlay--hidden":!e}),ref:this.overlayElement,onClick:this.props.areButtonsEnabled?this.onCloseOverlay:void 0},c.createElement("div",{className:Wf()("ad-overlay__unit")},c.createElement("div",{className:Wf()("ad-overlay__placeholder")}),c.createElement("div",{className:Wf()("ad-overlay__ad"),ref:this.adContainer,onClick:this.props.onIntent,onMouseEnter:this.props.onIntent},c.createElement("div",{className:Wf()("ad-overlay__progress")},c.createElement("div",{className:Wf()("ad-overlay__progress-bar"),ref:this.progressElement})),c.createElement("div",{className:Wf()("ad-overlay__label")},"Advertisement"),c.createElement("button",{className:"ad-overlay__close-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:sP},onClick:this.props.onClose}))),c.createElement("button",{className:"ad-overlay__prev-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:DR},onClick:this.props.onClose}),c.createElement("button",{className:"ad-overlay__next-button",disabled:!this.props.areButtonsEnabled,type:"button",dangerouslySetInnerHTML:{__html:DR},onClick:this.props.onClose}))}}]),r}(c.Component);function dL(e){return(dL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hL(){return(hL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function vL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mL(e,t,r){return t&&yL(e.prototype,t),r&&yL(e,r),e}function gL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_L(e,t)}function _L(e,t){return(_L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bL(e){var t=OL();return function(){var r,n=TL(e);if(t){var o=TL(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wL(this,r)}}function wL(e,t){return!t||"object"!==dL(t)&&"function"!=typeof t?EL(e):t}function EL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OL(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function TL(e){return(TL=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kL=function(){try{var e=/.*skipOffset=(\d*)/.exec(window.parent.location.search);if(e&&e[1])return parseInt(e[1],10)}catch(e){}return Ki}(),SL={AD_OVERLAY:pL},PL=function(e){gL(r,e);var t=bL(r);function r(e){var n;return vL(this,r),xL(EL(n=t.call(this,e)),"timeoutId",void 0),xL(EL(n),"adComponent",void 0),xL(EL(n),"hostUrl",void 0),xL(EL(n),"createAd",(function(){var e=n.props.currentPageNumbers;n.adComponent.current&&n.hostUrl&&(n.adComponent.current.createAd(n.hostUrl),n.props.onCreateOverlay(e))})),xL(EL(n),"removeAd",(function(){n.adComponent.current&&n.adComponent.current.removeAd(),n.timeoutId=null,n.setState({intent:!1}),n.props.onDisableButtons()})),xL(EL(n),"startCountDown",(function(){if(!n.timeoutId){n.timeoutId=window.setTimeout((function(){n.props.onEnableButtons(),Yi&&!n.state.intent&&n.onClose("closed")}),kL);var e=q()();window.requestAnimationFrame((function(){return n.updateProgress(e,kL)}))}})),xL(EL(n),"updateProgress",(function(e,t){var r=q()()-e;r>t&&(r=t),n.adComponent.current&&n.adComponent.current.updateProgress(r,t),r<t&&window.requestAnimationFrame((function(){return n.updateProgress(e,kL)}))})),xL(EL(n),"onKeyDown",(function(e){switch(e.keyCode){case 27:case 37:case 38:case 39:case 40:e.metaKey||(window.removeEventListener("keydown",n.onKeyDown,!1),n.onClose("closed"))}})),xL(EL(n),"onIntent",(function(e){n.setState({intent:!0})})),xL(EL(n),"onClose",(function(e){n.props.isOverlayCreated&&(n.removeAd(),n.props.onCloseOverlay(e),setTimeout((function(){n.setState({currentAdType:null})}),500))})),xL(EL(n),"onShow",(function(){n.props.onShowOverlay()})),n.state={currentAdType:null,intent:!1},n.adComponent=l.a.createRef(),n}return mL(r,[{key:"componentDidMount",value:function(){if(window!=window.parent){var e=new Ce(window.document.location.toString());this.hostUrl=e.getHostUrl()}}},{key:"componentWillUnmount",value:function(){this.timeoutId&&window.clearTimeout(this.timeoutId)}},{key:"componentDidUpdate",value:function(e,t){e.canCreateAd!==this.props.canCreateAd&&this.props.canCreateAd&&this.setState({currentAdType:this.props.adType}),t.currentAdType!==this.state.currentAdType&&null!==this.state.currentAdType&&this.createAd(),e.isOverlayVisible!==this.props.isOverlayVisible&&this.props.isOverlayVisible&&this.startCountDown(),this.props.isOverlayVisible&&this.props.areButtonsEnabled?window.addEventListener("keydown",this.onKeyDown,!1):window.removeEventListener("keydown",this.onKeyDown,!1)}},{key:"render",value:function(){var e=this,t=this.props,r=t.areButtonsEnabled,n=t.canCreateAd,o=t.isOverlayVisible,i=t.thumbnailUrl,a=t.documentTitle,s=t.licenses,u=t.metrics,c=t.publicationId,f=t.publisherUsername,p=this.state.currentAdType,d={areButtonsEnabled:r,canCreateAd:n,isOverlayVisible:o,thumbnailUrl:i,documentTitle:a,licenses:s,metrics:u,publicationId:c,publisherUsername:f,onBlocked:function(){e.onClose("blocked")},onClose:function(){e.onClose("closed")},onFailed:function(){e.onClose("failed")},onUnfilled:function(){e.onClose("unfilled")},onIntent:this.onIntent.bind(this),onShow:this.onShow.bind(this)};if(p){var h=SL[p];return l.a.createElement(h,hL({},d,{ref:this.adComponent}))}return null}}]),r}(l.a.Component),CL=function(e){var t=Ho(e),r=t.username,n=t.publicationId;return{adType:zu(e),areButtonsEnabled:e.adOverlay.buttonsEnable,canCreateAd:$u(e),currentPageNumbers:e.adOverlay.sessionPageNumbers,isFullscreenEnabled:Ts(e),isOverlayCreated:Yu(e),isOverlayVisible:Ku(e),licenses:Gu(e),thumbnailUrl:Hu(e),documentTitle:e.metadata.title,publicationId:n,publisherUsername:r}},AL=function(e){return{onCreateOverlay:Zr(Zu,e),onShowOverlay:Zr(Ju,e),onCloseOverlay:Zr(Qu,e),onDisableButtons:Zr(tc,e),onEnableButtons:Zr(ec,e)}},RL=Zn(CL,AL)(PL);function jL(e){var t=e.getBoundingClientRect();return{width:t.width,height:t.height,top:"x"in t?t.x:t.top,left:"y"in t?t.y:t.left,x:"x"in t?t.x:t.left,y:"y"in t?t.y:t.top,right:t.right,bottom:t.bottom}}function IL(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.liveMeasure,r=void 0===t||t,n=Object(c.useState)({}),o=n[0],i=n[1],a=Object(c.useState)(null),s=a[0],u=a[1],l=Object(c.useCallback)((function(e){u(e)}),[]);return Object(c.useLayoutEffect)((function(){if(s){var e=function(){return window.requestAnimationFrame((function(){return i(jL(s))}))};if(e(),r)return window.addEventListener("resize",e),window.addEventListener("scroll",e),function(){window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}}}),[s]),[l,o,s]}var DL=IL;function ML(e,t){return UL(e)||FL(e,t)||NL(e,t)||LL()}function LL(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function NL(e,t){if(e){if("string"==typeof e)return BL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BL(e,t):void 0}}function BL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FL(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function UL(e){if(Array.isArray(e))return e}function WL(e){var t=ML(Object(c.useState)(null),2),r=t[0],n=t[1],o=ML(Object(c.useState)(null),2),i=o[0],a=o[1];return Object(c.useEffect)((function(){var t=new Image;t.onload=function(){return n(t)},t.onerror=function(){return a(new Error("failed to load image"))},t.src=e}),[e]),[r,i]}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function HL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zL(Object(r),!0).forEach((function(t){VL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function VL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GL(e,t){return XL(e)||YL(e,t)||$L(e,t)||qL()}function qL(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $L(e,t){if(e){if("string"==typeof e)return KL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KL(e,t):void 0}}function KL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YL(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function XL(e){if(Array.isArray(e))return e}var ZL=function(e,t,r){var n=t/e,o=n/r;return{width:n>r?e:e*o,height:n>r?t/o:t}},JL=function(e){var t=e.height,r=e.width,n=GL(WL(e.coverUrl),2),o=n[0],i=n[1],a=o?HL(HL({},ZL(r,t,o.height/o.width)),{},{backgroundImage:"url(".concat(o.src,")"),opacity:1}):i?HL(HL({},ZL(r,t,1.2941)),{},{backgroundColor:"#aaa",opacity:1}):{opacity:0};return l.a.createElement("div",{className:"blocked-embed__cover-wrapper",style:a},l.a.createElement("div",{className:"blocked-embed__cover-glare"}))},QL='\n  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" {...rest}>\n    <path\n      fill="white"\n      d="M0 16q0 3.22 1.242 6.18t3.43 5.148 5.148 3.43T16 32q3.203 0 6.172-1.25t5.14-3.422q2.19-2.188 3.44-5.148T32 16t-1.25-6.18-3.44-5.148q-2.17-2.172-5.14-3.422T16 0H0v16zm5-.094v-.125q.016-2.218.898-4.28t2.414-3.563q1.516-1.484 3.547-2.32t4.202-.836h.156q2.984.032 5.53 1.54t4.017 4.086q1.453 2.53 1.453 5.484V16q-.03 3-1.547 5.53-1.515 2.547-4.07 4.008t-5.538 1.46H16q-3.017-.015-5.548-1.546-2.547-1.516-4-4.063T5 15.904zm2.97.016q0 2.188 1.062 4.047 1.078 1.89 2.938 2.99t4.063 1.118h.047q2.188 0 4.055-1.063t2.984-2.922 1.147-4.063q0-2.22-1.07-4.102T20.26 8.936 16.19 7.81h-.064q-2.172 0-4.047 1.064t-2.985 2.922Q7.97 13.686 7.97 15.92zm4.03.016q0-1.734 1.203-2.93t2.938-1.195q1.704.03 2.892 1.242t1.188 2.898V16q0 1.688-1.22 2.883t-2.92 1.195q-1.72-.03-2.9-1.242T12 15.938z"\n    ></path>\n  </svg>\n',eN=function(e){var t=e.editUrl,r=e.url,n=e.isVisible,o=e.isSmall;return c.createElement("div",{className:Wf()("blocked-embed__overlay",{"blocked-embed__overlay--is-visible":n,"blocked-embed__overlay--is-small":o})},c.createElement("div",{className:"blocked-embed__inner"},c.createElement("a",{href:r,target:"_blank",className:"blocked-embed__badge"},c.createElement("div",{className:"blocked-embed__logo",dangerouslySetInnerHTML:{__html:QL}}),!o&&c.createElement("div",{className:"blocked-embed__text"},"Click to read the full content on issuu.com"))),c.createElement("div",{className:"blocked-embed__link-wrapper"},c.createElement("a",{className:"blocked-embed__link",href:t,target:"_blank"},"What happened to my embed?")))};function tN(e,t){return aN(e)||iN(e,t)||nN(e,t)||rN()}function rN(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function nN(e,t){if(e){if("string"==typeof e)return oN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oN(e,t):void 0}}function oN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iN(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return r}}function aN(e){if(Array.isArray(e))return e}function sN(e){var t=e.coverUrl,r=e.url,n=e.editUrl,o=tN(Object(c.useState)(!1),2),i=o[0],a=o[1],s=tN(DL(),2),u=s[0],f=s[1],p=f.width||0,d=f.height||0,h=p<=224||d<=284;return l.a.createElement("div",{ref:u,className:"blocked-embed",onTouchEnd:function(){return a(!0)},onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)}},l.a.createElement("div",{className:"blocked-embed__cover-container"},l.a.createElement(JL,{width:p-48,height:d-48,coverUrl:t})),l.a.createElement(eN,{url:r,editUrl:n,isVisible:i,isSmall:h}))}var uN=Zn((function(e){return{coverUrl:Ho(e).coverUri,url:Vs(e),editUrl:"".concat(de(),"/lp/embed")}}))(sN),cN=Lo((function(e){return!!e.features.requireEmbedLicense}),ja,(function(e,t){return e&&!t}));function lN(e){return(lN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dN(e,t,r){return t&&pN(e.prototype,t),r&&pN(e,r),e}function hN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vN(e,t)}function vN(e,t){return(vN=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yN(e){var t=_N();return function(){var r,n=bN(e);if(t){var o=bN(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return mN(this,r)}}function mN(e,t){return!t||"object"!==lN(t)&&"function"!=typeof t?gN(e):t}function gN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _N(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function bN(e){return(bN=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EN=function(e){hN(r,e);var t=yN(r);function r(e){var n;return fN(this,r),wN(gN(n=t.call(this,e)),"container",void 0),wN(gN(n),"reloadDocument",(function(){n.props.documentConnector.reset(),n.loadDocument()})),wN(gN(n),"loadDocument",(function(){return n.props.loadReaderData(n.props.documentConnector,(function(){if(n.container.current){var e=aa();return[n.container.current.clientWidth*e,n.container.current.clientHeight*e]}}),n.props.readMorePlugin)})),wN(gN(n),"listenToVisibilityChangeEvent",(function(){tf()&&rf((function(){n.props.onVisibilityChange()}))})),wN(gN(n),"toggleFullscreen",(function(){return n.props.toggleFullscreen()})),n.container=c.createRef(),n}return dN(r,[{key:"componentDidMount",value:function(){this.loadDocument(),this.listenToVisibilityChangeEvent()}},{key:"shouldComponentUpdate",value:function(e){return this.props.loading.status!==e.loading.status||this.props.backgroundColor!==e.backgroundColor||this.props.backgroundImage!==e.backgroundImage}},{key:"render",value:function(){var e=["testcafe-reader-container","reader-container"],t=null;switch(this.props.loading.status){case"loading-status@FAILED":t=c.createElement(lr,{sessionId:this.props.sessionId,reloadDocument:this.reloadDocument,error:this.props.loading.error});break;case"loading-status@SUCCESS":t=this.props.showBlockedEmbedScreen?c.createElement(uN,null):c.createElement(uM,{featureTracker:this.props.featureTracker,toggleFullscreen:this.toggleFullscreen},c.createElement(qD,{config:this.props.config,toggleFullscreen:this.toggleFullscreen,metrics:this.props.metrics,loadStatsTracker:this.props.loadStatsTracker,trackOnceMixpanel:this.props.trackOnceMixpanel}));break;case"loading-status@INITIALIZED":case"loading-status@LOADING":default:t=c.createElement(Ff,null)}this.props.backgroundImage&&("TOP_LEFT"===this.props.backgroundImage.style?e.push("reader-container--background-image-top-left"):"STRETCH"===this.props.backgroundImage.style&&e.push("reader-container--background-image-stretch"));var r={width:"100%",height:"100%",backgroundColor:this.props.backgroundColor,backgroundImage:this.props.backgroundImage?"url('".concat(this.props.backgroundImage.url,"')"):"none"};return c.createElement("div",{ref:this.container,id:"ird3-main",className:e.join(" "),style:r},t,c.createElement(RL,{metrics:this.props.metrics}))}}]),r}(c.Component);wN(EN,"displayName","Main");var ON=function(e){return{backgroundColor:Fs(e),backgroundImage:Us(e),config:e.config,loading:e.loading,readMorePlugin:e.readMorePlugin,sessionId:e.config.sessionId,showBlockedEmbedScreen:cN(e)}},TN=function(e){return{toggleFullscreen:Zr(Jl,e),loadReaderData:Zr(Bl,e),onVisibilityChange:Zr(af,e)}},xN=Zn(ON,TN,void 0,{pure:!1})(EN);function kN(e,t){switch(t.type){case Al:return{status:"loading-status@LOADING",loadStartTime:t.timeStamp};case Rl:if("loading-status@LOADING"!==e.status)throw new Error("Can not return SUCCESS without LOADING (".concat(e.status,")"));return{status:"loading-status@SUCCESS",loadStartTime:e.loadStartTime,loadSuccessTime:t.timeStamp};case jl:if("loading-status@LOADING"!==e.status)throw new Error("Can not return FAILED without LOADING (".concat(e.status,")"));return{status:"loading-status@FAILED",loadStartTime:e.loadStartTime,loadFailureTime:t.timeStamp,error:t.error};default:return e}}var SN={status:"loading-status@INITIALIZED"};function PN(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SN,t=arguments.length>1?arguments[1]:void 0;return kN(e,t)}}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function AN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CN(Object(r),!0).forEach((function(t){RN(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function RN(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jN={arrivedAtSpreadTimeStamp:0,autoFlipInitially:!1,debugMode:!1,hoveringOverControls:!1,initialPageNumber:0,interactedWithReader:!1,interactingWithControls:!1,interactingWithCanvas:!1,isIdle:!0,isReady:!1,lastSpreadIndexArrivedAt:-1,targetSpreadIndex:0,visiblePageNumbers:[],currentPageNumbers:[],currentPageNumber:0,currentSpreadIndex:-1,positionInPercent:0,zoomLevel:1,largeViewState:xy,largeViewPromoted:!1,smartzoomTutorialVisibility:"HIDDEN_INITIAL"};function IN(e,t){return Object.assign({},e,{targetSpreadIndex:t.index})}function DN(e,t){var r=t.pageNumber,n=t.targetSpreadIndex,o=t.currentPageNumbers;return Object.assign({},e,{targetSpreadIndex:n,currentPageNumbers:o,currentPageNumber:r,isReady:!0})}function MN(e,t){return Object.assign({},e,{visiblePageNumbers:t.visiblePageNumbers,currentPageNumbers:t.currentPageNumbers,currentSpreadIndex:t.currentSpreadIndex,currentPageNumber:t.currentPageNumber,positionInPercent:t.positionInPercent,targetSpreadIndex:t.currentSpreadIndex===e.targetSpreadIndex?-1:e.targetSpreadIndex})}function LN(e,t){return Object.assign({},e,{zoomLevel:t.zoomLevel})}function NN(e,t){return Object.assign({},e,{isIdle:t.isIdle})}function BN(e,t){return Object.assign({},e,{interactingWithControls:t.val})}function FN(e){return Object.assign({},e,{interactedWithReader:!0})}function UN(e){return Object.assign({},e,{interactedWithReader:!1})}function WN(e,t){return Object.assign({},e,{hoveringOverControls:t})}function zN(e,t){return Object.assign({},e,{largeViewState:t})}function HN(e,t){return Object.assign({},e,{largeViewPromoted:t})}function VN(e,t){return AN(AN({},e),{},{smartzoomTutorialVisibility:t})}function GN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{hasPageChanged:!1},r=t.hasPageChanged;return"HIDDEN_INITIAL"===e.smartzoomTutorialVisibility?e:"VISIBLE"===e.smartzoomTutorialVisibility?AN(AN({},e),{},{smartzoomTutorialVisibility:"HIDDEN_FINAL"}):r&&"HIDDEN_READY"===e.smartzoomTutorialVisibility?AN(AN({},e),{},{smartzoomTutorialVisibility:"HIDDEN_RESET"}):e}function qN(e,t){switch(t.type){case hc.SET_TARGET_SPREAD_INDEX:return IN(e,t);case hc.SET_INTERACTING_WITH_CONTROLS:return BN(e,t);case hc.SET_INTERACTED_WITH_READER:return FN(e);case hc.SET_HOVERING_OVER_CONTROLS:return WN(e,t.val);case hl:return WN(e,!1);case Bo:return GN(MN(e,t),{hasPageChanged:!!t.currentPagesHasChanged});case hc.READER_ZOOM_LEVEL_CHANCED:return GN(LN(e,t));case hc.LARGE_VIEW_HIDE:return zN(e,xy);case hc.LARGE_VIEW_SHOW_ENGAGED:return zN(e,ky);case hc.LARGE_VIEW_SHOW_DISENGAGED:return zN(e,Sy);case hc.LARGE_VIEW_BUTTON_PROMOTED:return HN(e,!0);case hc.LARGE_VIEW_BUTTON_NOT_PROMOTED:return HN(e,!1);case"EMBED_PREVIEW":return UN(e);case Rl:return DN(e,t);case"SET_IS_IDLE":return NN(e,t);case"SET_SMARTZOOM_TUTORIAL_VISIBILITY":return VN(e,t.visibility);case"@reader3/find/FIND_OPEN_DIALOG":case"TOGGLE_DROPDOWN":return GN(e);default:return e}}var $N=function(e,t){return AN(AN({},jN),{},{autoFlipInitially:e.autoFlip,initialPageNumber:t})};function KN(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$N(e,t),n=arguments.length>1?arguments[1]:void 0;return qN(r,n)}}function YN(e){if(e.backgroundImage){var t=null;if("topleft"===e.backgroundImagePosition?t="TOP_LEFT":"stretch"===e.backgroundImagePosition&&(t="STRETCH"),t)return{url:e.backgroundImage,style:t,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}}return null}function XN(e){return e.logo?{url:e.logo,hideWhenNotInFullscreen:!e.showBackgroundImagesOutsideFullscreen}:null}function ZN(e,t){switch(t.type){case"EMBED_PREVIEW":var r=t.embedConfig,n=Object.assign({},e,{autoFlip:r.autoFlip,hideFullScreenButton:!!r.hideFullScreenButton,backgroundImage:YN(r),logo:XN(r),backgroundColor:r.backgroundColor,fullscreenBackgroundColor:r.fullscreenBackgroundColor,readModeRules:{defaultMode:"singlePage"===r.viewMode?"SINGLE_PAGE_SPREAD":"DOUBLE_PAGE_SPREAD",responsiveModeWhen:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN"}});return n.controls=n.controls.map((function(e){return"FEATURE_SHARE_DIALOG"===e.type?Object.assign({},e,{customizedToNotShow:!r.shareButtonEnabled}):e})),n;default:return e}}function JN(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0;return ZN(t,r)}}function QN(e){return Object.assign({},e,{visibleDropdown:null,readMoreDropdownVisible:!1})}function eB(e,t){return Object.assign(QN(e),{visibleDropdown:t!==e.visibleDropdown?t:null})}function tB(e){return Object.assign(QN(e),{readMoreDropdownVisible:!0})}function rB(e,t){switch(t.type){case Pg:return eB(e,t.dropdown);case _g:return tB(e);case bg:case rc:case nc:case Vl:case Gl:return QN(e);case Bo:return t.isDragging?QN(e):e;case ac:return t.isPinching?QN(e):e;case"DOWNLOAD_READY":case"DOWNLOAD_LOADING":case"DOWNLOAD_SUCCESS":case"DOWNLOAD_FAILURE":return QN(e);default:return e}}var nB={visibleDropdown:null,readMoreDropdownVisible:!1};function oB(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nB,t=arguments.length>1?arguments[1]:void 0;return rB(e,t)}}var iB={youtubeApiReady:!1,vimeoApiReady:!0,activeVideoLink:null};function aB(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:iB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mC:return Object.assign({},e,{youtubeApiReady:!0});case gC:return Object.assign({},e,{activeVideoLink:t.videoLink});default:return e}}}var sB={status:"DOWNLOAD_READY"};function uB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOWNLOAD_READY":case"DOWNLOAD_LOADING":case"DOWNLOAD_SUCCESS":case"DOWNLOAD_FAILURE":return{status:t.type};default:return e}}var cB={pages:[]};function lB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cB,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Uo:var r=t.doc.pages;return{pages:r};default:return e}}function fB(e,t,r,n,o,i,a,s,u,c){var l=KN(i,o),f=PN(),p=JN(i),d=oB(),h=Kl(),v=Sg(),y=Yw(u),m=gl(),g=Dw(),_=bi(),b=Ha(i.disableLicenseCheck),w=Ay(e,t,r,n),E=aB(),O=Xu(),T=Ve(c),x={metadata:Wo,pages:cB,links:ol,canvasContext:Kw(u),download:sB,fullscreen:$l,headerControls:nB,loading:SN,reader:$N(i,o),readmore:kg,paywall:Hr,size:vl,videoOverlay:Hc,inlineVideo:iB,visibility:sf,features:i,canvasApi:jw,find:pi,licenses:za(i.disableLicenseCheck),config:Cy(e,t,r,n),featureTracker:a,adOverlay:Au,experiment:He(c),readMorePlugin:s,smartnav:Vi};return function(e,t){var r=e||x;return{metadata:Vo(r.metadata,t),pages:lB(r.pages,t),links:cl(r.links,t),canvasContext:y(r.canvasContext,t),download:uB(r.download,t),fullscreen:h(r.fullscreen,t),headerControls:d(r.headerControls,t),loading:f(r.loading,t),reader:l(r.reader,t),readmore:v(r.readmore,t),paywall:Vr(r.paywall,t),size:m(r.size,t),videoOverlay:Vc(r.videoOverlay,t),inlineVideo:E(r.inlineVideo,t),visibility:uf(r.visibility,t),features:p(r.features,t),canvasApi:g(r.canvasApi,t),find:_(r.find,t),licenses:b(r.licenses,t),config:w(r.config),featureTracker:a,readMorePlugin:"EMBED_PREVIEW"===t.type?t.readMorePlugin:r.readMorePlugin||s,adOverlay:O(r.adOverlay,t),experiment:T(r.experiment),smartnav:qi(r.smartnav,t)}}}function pB(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(o){return"function"==typeof o?o(r,n,e):t(o)}}}}var dB=pB();dB.withExtraArgument=pB;var hB=dB;function vB(){return function(e,t){var r=t(),n=Py(r).api,o=Ho(r),i=o.username,a=o.documentName,s=Os(r);return"NOTLOADED"!==r.paywall.status?Promise.resolve():(e({type:Ur}),fetch("".concat(n,"/call/paywall/reader/v2/overlay/").concat(i,"/").concat(a),{credentials:s?"include":"omit",mode:"cors"}).then((function(e){if(!e.ok)throw new Error("Error load paywallOverlay Api (response.status: ".concat(e.status,")"));return e.json()})).then((function(t){var r=t.currentUserPurchased,n=t.isNotAvailable,o=t.priceAmount,i=t.priceCurrency,a=t.readPurchasedPath;return e({type:Wr,currentUserPurchased:r,isNotAvailable:n,priceAmount:o,priceCurrency:i,readPurchasedPath:a})})).catch((function(t){return e({type:zr,error:t})})))}}function yB(e){var t=!1,r=!1;return function(n){return function(o){return function(i){var a=o(i);if(i.type===Uo&&Ja(n.getState())&&(t=!0,n.dispatch(vB())),!t)return a;if(i.type===Wr)e.monitor("paywall.reader3.show-document");else if(!r&&i.type===Bo){var s=n.getState();Qs(s)&&(e.monitor("paywall.reader3.show-overlay"),r=!0)}return a}}}}var mB=4e3,gB=void 0,_B=!0;function bB(e){gB=window.setInterval((function(){Is(e.getState())?_B=!0:js(e.getState())&&(_B=!1),e.dispatch(_B?Sc():kc())}),mB)}function wB(){gB&&(window.clearInterval(gB),gB=void 0)}var EB=function(e){return function(t){return function(r){var n=t(r);switch(r.type){case Rl:e.getState().reader.autoFlipInitially&&bB(e);break;case hc.SET_INTERACTED_WITH_READER:e.getState().reader.interactedWithReader&&wB();break;case"EMBED_PREVIEW":wB(),e.getState().features.autoFlip&&bB(e)}return n}}};function OB(e){var t=null,r=e;function n(e){if(t&&r){e.dispatch(t);var n=e.getState().readMorePlugin;n&&e.dispatch(xg(n))}}return function(e){return function(o){return function(i){var a=o(i);switch(i.type){case Il:t=Ll(i.timeStamp,i.pageNumber,i.targetSpreadIndex,i.currentPageNumbers),n(e);break;case"ENABLE_TRACKING":r||(r=!0,n(e))}return a}}}}function TB(e){return function(t){return function(r){return function(n){var o=r(n);switch(n.type){case Rl:var i=t.getState().loading;if("loading-status@LOADING"===i.status&&e.monitor("reader3-documentload-stats",{success_time:i.loadSuccessTime?i.loadSuccessTime-i.loadStartTime:0}),e.isEmbed){var a={};a[Ls(t.getState())]=1,e.monitor("reader3-embed-size",a)}break;case jl:var s=t.getState().loading;"loading-status@FAILED"===s.status&&e.monitor("reader3-documentload-stats",{failed_time:s.loadFailureTime-s.loadStartTime,backend_error:s.error.name===I?1:0,fetch_error:s.error.name===R?1:0});break;case mg:e.monitor("reader3-readmoreload-stats",{success:1});break;case gg:e.monitor("reader3-readmoreload-stats",{failure:1});break;case Vl:var u="reader3-fullscreen-method.".concat(n.fullscreenMethod);e.monitor(u,{count:1})}return o}}}}r(140);var xB=[],kB=[];function SB(e){return function(t){return function(r){return function(n){var o=r(n),i=t.getState();switch(n.type){case oc:e.onActivity(i.reader.interactedWithReader);break;case ac:e.onZoom(i.reader.zoomLevel);break;case"DOWNLOAD_SUCCESS":e.onDownload(Ho(i));break;case Bo:if(n.currentPagesHasChanged){var a=Yu(i);a&&kB.push(i.reader.currentPageNumbers);var s=a?xB:i.reader.currentPageNumbers;e.onPageChanged(s)}break;case Iu:kB.forEach((function(t){e.onPageChanged(t)})),kB.splice(0);break;case Rl:var u=Ku(i)?xB:Ss(i);e.onDocumentLoaded(Ho(i),u,Ts(i));break;case hl:e.onResize("".concat(n.width,"x").concat(n.height),Ts(i));break;case rl:if(n.linkModel.type===tl.GOTO_PAGE){var c=n.linkModel,l=c.id,f=c.page.pageNumber,p=c.gotoPageNumber;e.onClippingActionGotoPage(l,f,p)}else{var d=n.linkModel,h=d.id,v=d.page.pageNumber,y=d.url;e.onClippingActionOpenUrl(h,v,y)}}return o}}}}function PB(){window.Cookiebot&&!window.Cookiebot.hasResponse&&window.Cookiebot.regulations&&!window.Cookiebot.regulations.gdprApplies&&window.CookiebotDialog&&"implied"===window.CookiebotDialog.consentLevel&&window.CookiebotDialog.submitConsent(!0,document.location.href)}function CB(){return function(e){return function(e){return function(t){var r=e(t);switch(t.type){case oc:PB()}return r}}}}var AB=2e3,RB=[],jB=function(e,t,r,n){var o="reader3-ad-takeover.".concat(e,".").concat(r?"fullscreen":"normal",".").concat(t[0]);n.monitor(o)},IB=function(e,t,r,n){var o=t?"fullscreen":"normal";e.forEach((function(e){var t="reader3-ad-takeover.page_read.".concat(e,".").concat(o,".").concat(r,".").concat(n.readerEndPoint);n.monitor(t)}))},DB=function(e,t,r){var n="reader3-ad-takeover.document_impression.".concat(e?"fullscreen":"normal",".").concat(t,".").concat(r.readerEndPoint);r.monitor(n)};function MB(e){var t,r=[];return function(n){return function(o){return function(i){var a=o(i),s=n.getState();switch(i.type){case Bo:if(i.currentPagesHasChanged&&Vu(s))if(Yu(s))RB.push(s.adOverlay.sessionPageNumbers);else{var u=r.concat(s.adOverlay.sessionPageNumbers);r.length&&(window.clearTimeout(t),r=[]),IB(u,Ts(s),s.experiment.identifier,e)}Ou(e,s.adOverlay.sessionPageNumbers);break;case Ru:jB("requested",s.adOverlay.sessionPageNumbers,Ts(s),e);break;case ju:jB("displayed",s.adOverlay.sessionPageNumbers,Ts(s),e);break;case Iu:RB.forEach((function(t){IB(t,Ts(s),s.experiment.identifier,e)})),RB.splice(0),jB(i.reason,s.adOverlay.sessionPageNumbers,Ts(s),e);break;case Rl:Vu(s)&&(i.currentPageNumbers.includes(1)&&DB(Ts(s),s.experiment.identifier,e),Yu(s)?RB.push(r):(r=s.adOverlay.sessionPageNumbers,t=window.setTimeout((function(){var t=n.getState();IB(r,Ts(t),t.experiment.identifier,e),r=[]}),AB)))}return a}}}}var LB,NB=function(){return(NB=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},BB={error:FM()("@issuu/request:error"),info:FM()("@issuu/request:info")};BB.info.log=console.log.bind(console);try{LB=!0}catch(e){LB=!0}var FB=function(e){return new Promise((function(t){return setTimeout(t,e)}))},UB="ERROR_REQUEST",WB="ERROR_AUTH",zB="ERROR_API",HB="ERROR_NOT_FOUND",VB="ERROR_TIMEOUT",GB="ERROR_JSON_DECODE",qB=function(e){return Object.keys(e).reduce((function(t,r){return t+(r+"=")+e[r]+"; "}),"").slice(0,-2)},$B=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},KB=function(e){return $B(e).replace(/%20/g,"+")};function YB(e,t){void 0===t&&(t={});var r,n=Date.now();if(t.fetch)r=t.fetch;else{if("undefined"==typeof fetch)throw new Error('No usable fetch function found. Use a polyfill or provide it as "fetch" option');r=fetch}var o=t.method||"GET",i=t.cookies||{};if(t.req&&t.req.cookies){var a=t.req.cookies;i=NB(NB({},i),{"site.model.username":a["site.model.username"],"site.model.token":a["site.model.token"]});for(var s=0,u=Object.keys(a).filter((function(e){return e.startsWith("x-issuu-")}));s<u.length;s++){var c=u[s];i[c]=a[c]}}var l,f=NB({Cookie:qB(i),"Content-Type":t.urlEncoded?"application/x-www-form-urlencoded":"application/json"},t.headers),p=e;if("GET"===o&&(t.body||t.noCache)){var d=t.body||{};t.noCache&&(d=NB(NB({},d),{_:Date.now()})),p=e.indexOf("?")>-1?e+"&"+$B(d):e+"?"+$B(d)}"GET"!==o&&t.urlEncoded?l=KB(t.body||{}):"GET"!==o&&(l=JSON.stringify(t.body||{}));var h=r(p,{credentials:"same-origin",method:o,headers:f,body:l}).catch((function(e){return BB.error(o+" "+p+" "+UB+" "+e.message),Promise.reject({type:UB,url:p,options:t,nativeError:e,nativeErrorMessage:e.message})})).then((function(e){return e.text().then((function(e){return t.textResponse?e||"":e?JSON.parse(e):{}})).catch((function(e){return BB.error(o+" "+p+" "+GB+" "+e.message),Promise.reject({type:GB,url:p,nativeError:e,nativeErrorMessage:e.message})})).then((function(t){var r=Date.now()-n;if(!e.ok){var i=void 0;i=403===e.status?WB:404===e.status?HB:zB,BB.error(o+" "+p+" "+i+" "+e.status+": "+e.statusText+", response: %o",t);var a="string"==typeof t?{payload:t}:t;return Promise.reject(NB(NB({},a),{type:i,url:p}))}return BB.info(o+" "+p+" "+e.status+" "+r+"ms"),t}))})),v=t.timeout||(LB?4e3:void 0);if(v){var y=FB(v).then((function(){return Promise.reject({type:VB,url:p})}));return Promise.race([y,h])}return h}function XB(e,t){void 0===t&&(t={});var r=t.headers;return t.noCache&&(r=NB(NB({},r),{"Cache-Control":"no-cache"})),YB(e,NB(NB({},t),{headers:r}))}var ZB=r(201);function JB(e,t,r,n){var o=Object(ZB.parse)(t),i=r.reduce((function(e,t){return e[t]=o[t]||null,e}),{});if(r.some((function(e){return i[e]})))i[n]=Date.now(),e.register(i);else{var a=parseInt(e.get_property(n),10)||0;Date.now()-a>6048e5&&(e.unregister(n),Object.keys(i).forEach((function(t){return e.unregister(t)})))}}function QB(e){var t=Object(ZB.parse)(e);return["issuu_product","issuu_subproduct","issuu_context","issuu_cta"].reduce((function(e,r){return e[r]=t[r]||null,e}),{})}function eF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rF(e,t,r){return t&&tF(e.prototype,t),r&&tF(e,r),e}function nF(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function oF(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){nF(i,n,o,a,s,"next",e)}function s(e){nF(i,n,o,a,s,"throw",e)}a(void 0)}))}}function iF(e,t){return aF.apply(this,arguments)}function aF(){return(aF=oF(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.race([r,new Promise((function(e){n=setTimeout(e,t)}))]).then((function(){clearTimeout(n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sF(e){return void 0!==e.mixpanel&&"function"==typeof e.mixpanel.get_property&&"function"==typeof e.mixpanel.register&&"function"==typeof e.mixpanel.unregister}var uF=function(){function e(t){var r=this;if(eF(this,e),this.window=t,this.queue=[],t.mixpanel&&sF(t))this.setupMixpanelSuperProps(t.mixpanel);else var n=setInterval((function(){if(t.mixpanel&&sF(t)){clearInterval(n);var e=r.queue.map((function(e){return r.mixpanelTracker(e.event,e.payload,e.options)}));r.queue=[],r.setupMixpanelSuperProps(t.mixpanel),Promise.all(e).then((function(){r.tracker.initialized=!0}))}}),100);this.tracker={track:function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.mixpanel&&sF(t)?r.mixpanelTracker(e,n,o):r.mixpanelTrackerQueue(e,n,o)},getDistinctId:function(){var e,r;return null===(e=t.mixpanel)||void 0===e||null===(r=e.get_distinct_id)||void 0===r?void 0:r.call(e)},reset:function(){var e,r;return null===(e=t.mixpanel)||void 0===e||null===(r=e.reset)||void 0===r?void 0:r.call(e)},initialized:!!t.mixpanel}}var t,r,n;return rF(e,[{key:"getCookie",value:function(e){if(void 0!==this.window.document){var t=new RegExp("(?:(?:^|.*;\\s*)".concat(e,"\\s*\\=\\s*([^;]*).*$)|^.*$"));return this.window.document.cookie.replace(t,"$1")}}},{key:"setupMixpanelSuperProps",value:function(e){JB(e,this.window.location.search,["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],"utm_timestamp"),JB(e,this.window.location.search,["embed_id","embed_domain","embed_context","embed_cta"],"embed_timestamp")}},{key:"getUserPlan",value:(n=oF(regeneratorRuntime.mark((function e(t){var r,n,o=this,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},n=r.force,!this.cachedUserPlan||n){e.next=3;break}return e.abrupt("return",this.cachedUserPlan);case 3:return this.cachedUserPlanPromise||(this.cachedUserPlanPromise=XB("/res/licensing/".concat(t,"/publisher_plan")).then((function(e){return"ok"===e.rsp.stat?e.rsp._content.plan:"free"})).catch((function(e){return HM.error("could not get user license, %o",e),"free"})).then((function(e){return o.cachedUserPlanPromise=void 0,o.cachedUserPlan=e,e}))),e.abrupt("return",this.cachedUserPlanPromise);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"mixpanelTrackerQueue",value:(r=oF(regeneratorRuntime.mark((function e(t,r){var n,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},r?this.queue.push({event:t,payload:r,options:n}):this.queue.push({event:t,options:n}),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"mixpanelTracker",value:(t=oF(regeneratorRuntime.mark((function e(t,r){var n,o,i,a,s,u=this,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>2&&void 0!==c[2]?c[2]:{},e.prev=1,o=this.getCookie("site.model.username"),i=this.getCookie("site.model.token"),a=null,!o||!i||n.noPlanInfo){e.next=9;break}return e.next=8,this.getUserPlan(o,{force:n.forcePlanCheck});case 8:a=e.sent;case 9:return s={},o&&Object.assign(s,{username:o}),a&&Object.assign(s,{current_plan:a}),Object.assign(s,r||{},QB(this.window.location.search)),e.abrupt("return",iF(100,new Promise((function(e){var r,n,o=null===(r=u.window.mixpanel)||void 0===r||null===(n=r.track)||void 0===n?void 0:n.call(r,t,s,e);o?HM.info('tracking "'.concat(o.event,'" with payload %o'),o.properties):HM.info('(deffered) tracking "'.concat(t,'" with payload %o'),s)}))));case 16:e.prev=16,e.t0=e.catch(1),HM.error("error while attempting to track, %o",e.t0);case 19:case"end":return e.stop()}}),e,this,[[1,16]])}))),function(e,r){return t.apply(this,arguments)})}]),e}();function cF(e){var t=null!=e?e:window;return t.mp_issuu_t||(t.mp_issuu_t=new uF(t).tracker),t.mp_issuu_t}function lF(e){return hF(e)||dF(e)||pF(e)||fF()}function fF(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function pF(e,t){if(e){if("string"==typeof e)return vF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vF(e,t):void 0}}function dF(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function hF(e){if(Array.isArray(e))return vF(e)}function vF(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yF,mF="TRACKED_EVENTS_MIXPANEL",gF=(yF=[],function(e){if(e.fake){var t=function(e,t,r){return yF.push({event:e,payload:t,options:r}),Promise.resolve()};return t.queue=yF,{track:t,getDistinctId:function(){},initialized:!1,reset:function(){}}}return window.loadMixpanel&&window.loadMixpanel(),cF()}),_F=function(){var e=Be();return"string"==typeof e.iutk&&parseInt(e.iutk.slice(0,8),16)%1e3<10},bF=function(e){return function(t,r){try{if(_F()){var n=JSON.parse(sessionStorage.getItem(mF)||"{}");if(n[r.documentId]&&n[r.documentId].includes(t))return Promise.resolve();n[r.documentId]=[].concat(lF(n[r.documentId]||[]),[t]),sessionStorage.setItem(mF,JSON.stringify(n));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];return e.track.apply(e,[t,r].concat(i))}return Promise.resolve()}catch(e){return Promise.resolve()}}},wF=gF;r(396);function EF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function TF(e,t,r){return t&&OF(e.prototype,t),r&&OF(e,r),e}function xF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kF=5e3,SF=function(){function e(t){EF(this,e),xF(this,"metrics",void 0),xF(this,"mode",void 0),xF(this,"_hasTrackedTimeToCover",!1),xF(this,"_pageLoadStartTime",new Map),xF(this,"_fontLoadStartTime",new Map),xF(this,"_imageDecodeStartTime",new Map),xF(this,"_pageLoadStats",{failedCount:0,successCount:0,successAfterRetryCount:0,failedTotalTime:0,successTotalTime:0,layersImageFallbackCount:0,fontloadCount:0,fontloadTotalTime:0}),xF(this,"_pageLoadStatsTimerId",null),xF(this,"_totalFontRenderCalls",0),xF(this,"_totalSlowFontRenderCalls",0),xF(this,"_totalFramesDroppedOnFontRendering",0),xF(this,"_fontRenderingTimings",{uncached:[],preview:[],hires:[]}),xF(this,"_fontLoadTimings",[]),xF(this,"_imageDecodeTimings",[]),this.metrics=t}return TF(e,[{key:"onLoaderError",value:function(){this.metrics.monitor("reader3-render-manager-load-layer-error")}},{key:"onOpsValidationError",value:function(e){this.metrics.monitor("reader3-render-manager-ops-validation-failed",{count:e})}},{key:"onDynamicApiLoadComplete",value:function(e,t){t?this.metrics.monitor("reader3-dynamicapi-stats",{failure:1,failure_time:Math.round(e)}):this.metrics.monitor("reader3-dynamicapi-stats",{success:1,success_time:Math.round(e)})}},{key:"onPageLoadStart",value:function(e,t){this.mode=t,this._pageLoadStartTime.set(e,q()())}},{key:"onPageLoadSuccess",value:function(e){var t=q()();if(!this._hasTrackedTimeToCover){try{var r=window.performance.timing.fetchStart-window.performance.timing.navigationStart,n=window.performance.now()-r;this.metrics.onTimeToCover(n)}catch(e){}this._hasTrackedTimeToCover=!0}this._pageLoadStats.successCount+=1,this._pageLoadStats.successTotalTime+=t-(this._pageLoadStartTime.get(e)||0),this._pageLoadStartTime.delete(e),this.batchPageLoadStats()}},{key:"onPageLoadSuccessAfterRetry",value:function(e){this._pageLoadStats.successAfterRetryCount+=1,this.onPageLoadSuccess(e)}},{key:"onPageLoadFailure",value:function(e){this._pageLoadStats.failedCount+=1,this._pageLoadStats.failedTotalTime+=q()()-(this._pageLoadStartTime.get(e)||0),this.batchPageLoadStats()}},{key:"onLayersImageFallback",value:function(){this._pageLoadStats.layersImageFallbackCount+=1,this.batchPageLoadStats()}},{key:"onFontRenderingStart",value:function(){}},{key:"onFontRenderingEnd",value:function(){}},{key:"uncachedFontRenderingTracker",value:function(){return this._fontRenderingTracker("uncached")}},{key:"previewFontRenderingTracker",value:function(){return this._fontRenderingTracker("preview")}},{key:"hiresFontRenderingTracker",value:function(){return this._fontRenderingTracker("hires")}},{key:"_fontRenderingTracker",value:function(e){var t,r=this;return{start:function(){t=q()()},end:function(){var n=q()()-t;r._fontRenderingTimings[e].push(Math.round(n)),r._totalFontRenderCalls+=1;var o=Math.max(Math.floor(n/(1e3/60))-1,0);o&&(r._totalSlowFontRenderCalls+=1,r._totalFramesDroppedOnFontRendering+=o),r.batchPageLoadStats()}}}},{key:"onFontLoadStart",value:function(e){this._fontLoadStartTime.set(e,q()())}},{key:"onFontLoadEnd",value:function(e){var t=q()()-(this._fontLoadStartTime.get(e)||0);this._fontLoadTimings.push(Math.round(t)),this._fontLoadStartTime.delete(e)}},{key:"onImageDecodeStart",value:function(e){this._imageDecodeStartTime.set(e,q()())}},{key:"onImageDecodeEnd",value:function(e){var t=q()()-(this._imageDecodeStartTime.get(e)||0);this._imageDecodeTimings.push(Math.round(t)),this._imageDecodeStartTime.delete(e)}},{key:"batchPageLoadStats",value:function(){var e=this;if(!this._pageLoadStatsTimerId){var t=this._pageLoadStats;this._pageLoadStatsTimerId=setTimeout((function(){if(e._pageLoadStatsTimerId=null,t.successCount>0){var r={success_count:t.successCount,success_total_time:t.successTotalTime,success_avg_time:t.successTotalTime/t.successCount,success_after_retry:t.successAfterRetryCount,mode:e.mode,load_and_decode_count:void 0,load_and_decode_total_time:void 0,load_and_decode_avg_time:void 0};t.fontloadCount>0&&(Object.assign(r,{load_and_decode_count:t.fontloadCount,load_and_decode_total_time:t.fontloadTotalTime,load_and_decode_avg_time:t.fontloadTotalTime/t.fontloadCount}),t.fontloadCount=0,t.fontloadTotalTime=0),e.metrics.monitor("reader3-pageload-stats",r),t.successCount=0,t.successAfterRetryCount=0,t.successTotalTime=0}t.layersImageFallbackCount>0&&(e.metrics.monitor("reader3-pageload-stats",{layers_image_fallback_count:t.layersImageFallbackCount}),t.layersImageFallbackCount=0),t.failedCount>0&&(e.metrics.monitor("reader3-pageload-stats",{failed_count:t.failedCount,failed_total_time:t.failedTotalTime,failed_avg_time:t.failedTotalTime/t.failedCount,mode:e.mode}),t.failedCount=0,t.failedTotalTime=0),e._totalFontRenderCalls>0&&(e.metrics.monitor("reader3-fontrender-stats",{total:e._totalFontRenderCalls,total_slow:e._totalSlowFontRenderCalls,total_frames_dropped:e._totalFramesDroppedOnFontRendering,mode:e.mode,time_uncached:e._fontRenderingTimings.uncached.slice(0),time_preview:e._fontRenderingTimings.preview.slice(0),time_hires:e._fontRenderingTimings.hires.slice(0)}),e._totalFontRenderCalls=0,e._totalSlowFontRenderCalls=0,e._totalFramesDroppedOnFontRendering=0,e._fontRenderingTimings.uncached.length=0,e._fontRenderingTimings.preview.length=0,e._fontRenderingTimings.hires.length=0),(e._fontLoadTimings.length||e._imageDecodeTimings.length)&&(e.metrics.monitor("reader3-fontload-stats",{image_decode:e._fontLoadTimings.slice(0),font_load:e._imageDecodeTimings.slice(0),mode:e.mode}),e._fontLoadTimings.length=0,e._imageDecodeTimings.length=0)}),kF)}}}]),e}();function PF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AF(e,t,r){return t&&CF(e.prototype,t),r&&CF(e,r),e}function RF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jF=1e3,IF=function(){function e(t){PF(this,e),RF(this,"quantcastTracker",void 0),RF(this,"_previousPageNumbers",[]),RF(this,"_timeoutId",void 0),this.quantcastTracker=t}return AF(e,[{key:"destroy",value:function(){window.clearTimeout(this._timeoutId)}},{key:"onDocumentLoaded",value:function(e){var t=this;this._previousPageNumbers=e,$().rIC((function(){t.quantcastTracker.track()}))}},{key:"onPageChanged",value:function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout((function(){var e=t._previousPageNumbers.slice();$().rIC((function(){e.forEach((function(){t.quantcastTracker.track()}))}))}),jF))}}]),e}();function DF(e,t){return function(r){return function(n){return function(o){var i=n(o),a=r.getState();try{switch(o.type){case Rl:e.onDocumentLoaded(o.currentPageNumbers);break;case Bo:a.reader.isReady&&o.currentPagesHasChanged&&e.onPageChanged(o.currentPageNumbers)}}catch(e){t(e)}return i}}}}function MF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function NF(e,t,r){return t&&LF(e.prototype,t),r&&LF(e,r),e}function BF(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var FF=1e3,UF=function(){function e(t){MF(this,e),BF(this,"gaTracker",void 0),BF(this,"_baseUrl",""),BF(this,"_previousPageNumbers",[]),BF(this,"_timeoutId",void 0),this.gaTracker=t}return NF(e,[{key:"destroy",value:function(){window.clearTimeout(this._timeoutId)}},{key:"onDocumentLoaded",value:function(e,t,r){var n=this;this._baseUrl=e,this._previousPageNumbers=r,$().rIC((function(){n.gaTracker.sendInitialPageview("".concat(n._baseUrl,"/").concat(t)),n.gaTracker.handleDocumentLoadByPublisherAccount(n._baseUrl)}))}},{key:"onPageChanged",value:function(e){var t=this;this._previousPageNumbers.join()!==e.join()&&(this._previousPageNumbers=e,window.clearTimeout(this._timeoutId),this._timeoutId=window.setTimeout((function(){var e=t._previousPageNumbers.slice();$().rIC((function(){e.forEach((function(e){t.gaTracker.sendVirtualPageview("".concat(t._baseUrl,"/").concat(e))}))}))}),FF))}}]),e}();function WF(e,t){return function(r){return function(n){return function(o){var i=n(o),a=r.getState();try{switch(o.type){case Rl:e.onDocumentLoaded(Ho(a).path,o.pageNumber,o.currentPageNumbers);break;case Bo:a.reader.isReady&&o.currentPagesHasChanged&&e.onPageChanged(o.currentPageNumbers)}}catch(e){t(e)}return i}}}}function zF(e,t,r){var n=[ga,wa,ma,ya,ba,_a],o=function(e,t){var r=t();r.readMorePlugin&&r.readMorePlugin.load(r.config.origins.main,Ho(r).publicationId,Ho(r).username,Ia(r),Da(r)).then((function(t){t&&e(wg())}))};return function(i,a){i({type:"EMBED_PREVIEW",embedConfig:t,readMorePlugin:r});var s=Ps(a());i(xc(Go(s,t.startPage))),t.noRelatedEnabled?(i(Fa(n.concat([Ea]))),i(o)):e.whenLicensesFetched().then((function(e){i(Fa(Array.from(new Set(n.concat(e))))),i(o)}))}}function HF(e){return function(t,r){return t(xc(Go(Ps(r()),e)))}}var VF=function(){};function GF(e,t){var r={ON_DOCUMENT_LOAD_EVENT:VF,ON_PAGE_CHANGE_EVENT:VF,ON_INTERACTED_EVENT:VF,ON_ENTER_FULLSCREEN:VF,ON_EXIT_FULLSCREEN:VF,ON_LARGE_VIEW_CLICK:VF};return{types:{ENABLE_TRACKING:"ENABLE_TRACKING",EMBED_PREVIEW:"EMBED_PREVIEW"},middleware:function(e){return function(n){return function(o){var i=n(o),a=e.getState();try{switch(o.type){case ql.ENTER_FULLSCREEN:r.ON_ENTER_FULLSCREEN();break;case ql.EXIT_FULLSCREEN:r.ON_EXIT_FULLSCREEN();break;case Rl:var s=Ss(a);r.ON_DOCUMENT_LOAD_EVENT(s);break;case Bo:if(o.currentPagesHasChanged){var u=o.currentPageNumbers;r.ON_PAGE_CHANGE_EVENT(u)}break;case oc:r.ON_INTERACTED_EVENT();break;case hc.LARGE_VIEW_BUTTON_CLICKED:r.ON_LARGE_VIEW_CLICK()}}catch(e){t(e)}return i}}},api:function(t){return{beginTrackingReads:function(){t.dispatch({type:"ENABLE_TRACKING"})},toggleFullscreen:function(){t.dispatch(Jl())},showFindDialog:function(){t.dispatch(vi())},embedPreview:function(r,n){t.dispatch(zF(e,r,n))},getPageNumbers:function(){return Ss(t.getState())},getPageCount:function(){return Ho(t.getState()).pageCount},setPageNumber:function(e){t.dispatch(HF(e))},goToPreviousPage:function(){t.dispatch(kc())},goToNextPage:function(){t.dispatch(Sc())},hideLargeViewButton:function(){t.dispatch(vc())},showLargeViewEngagedButton:function(){t.dispatch(yc())},showLargeViewDisengagedButton:function(){t.dispatch(mc())},largeViewButtonPromoted:function(){t.dispatch(gc())},largeViewButtonNotPromoted:function(){t.dispatch(_c())},setCallback:function(e,t){r.hasOwnProperty(e)&&(r[e]=t)}}}}}function qF(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function KF(e,t,r){return t&&$F(e.prototype,t),r&&$F(e,r),e}var YF=16,XF="\n#extension GL_OES_standard_derivatives : require\nprecision highp float;\nvarying vec3 v[8];\nvoid main(void) {\n    vec3 d = smoothstep(0.0, v[3].x, dFdx(vec3(v[1])) * fwidth(v[2])); // Undeclared identifier 'dFdx'\n    if (gl_FrontFacing) { // This hardware is unable to support gl_FrontFacing\n        gl_FragColor = vec4(1, d.x, 0, 1);\n    } else {\n        gl_FragColor = vec4(0, d.x, 1, 1);\n    }\n}\n",ZF="\nprecision highp float;\nattribute vec2 vertex;\nvarying vec3 v[8];\nvoid main(void) {\n    v[0] = vec3(0); // Maximum varying vector count exceeded\n    v[1] = vec3(1); // Maximum varying vector count exceeded\n    v[2] = vec3(2); // Maximum varying vector count exceeded\n    v[3] = vec3(3); // Maximum varying vector count exceeded\n    v[4] = vec3(4); // Maximum varying vector count exceeded\n    v[5] = vec3(5); // Maximum varying vector count exceeded\n    v[6] = vec3(6); // Maximum varying vector count exceeded\n    v[7] = vec3(7); // Maximum varying vector count exceeded\n\n    vec2 p = 2.0 * vertex - 1.0;\n    gl_Position = vec4(p.x, -p.y, 0.0, 1.0);\n}\n";function JF(e,t,r){var n=e.createShader(r);if(!n)throw new Error("Couldn't create shader");if(e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error("Cannot compile ".concat(r," shader: ").concat(e.getShaderInfoLog(n)));return n}function QF(e,t){var r=e.getExtension(t);if(!r)throw new Error("does not support extension ");return r}function eU(e,t,r,n,o){if(e.checkFramebufferStatus(e.FRAMEBUFFER)!==e.FRAMEBUFFER_COMPLETE)throw new Error("cannot read from framebuffer");var i=new Uint8Array(YF*YF*4);e.readPixels(0,0,YF,YF,e.RGBA,e.UNSIGNED_BYTE,i);for(var a=0;a<YF*YF;a++){var s=i.subarray(4*a,4*(a+1));if(s[0]!==t||s[1]!==r||s[2]!==n||s[3]!==o)return!1}return!0}function tU(e){[].push(QF(e,"OES_standard_derivatives"));var t=e.createProgram();if(!t)throw new Error("Couldn't create program");var r=JF(e,ZF,e.VERTEX_SHADER),n=JF(e,XF,e.FRAGMENT_SHADER);if(e.attachShader(t,r),e.attachShader(t,n),e.linkProgram(t),!e.getProgramParameter(t,e.LINK_STATUS))throw new Error("Cannot link shaderprogram: ".concat(e.getProgramInfoLog(t)));var o=e.getAttribLocation(t,"vertex");e.enableVertexAttribArray(o);var i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),e.STATIC_DRAW),e.vertexAttribPointer(t.vertex,2,e.FLOAT,!1,0,0);var a=e.createTexture();e.bindTexture(e.TEXTURE_2D,a),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,YF,YF,0,e.RGBA,e.UNSIGNED_BYTE,null);var s=e.createFramebuffer();if(e.bindFramebuffer(e.FRAMEBUFFER,s),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,a,0),e.viewport(0,0,YF,YF),e.useProgram(t),e.drawArrays(e.TRIANGLE_STRIP,0,4),!eU(e,255,0,0,255))throw new Error("did not render correct color (frontfacing)");if(e.bufferData(e.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,1,1,0]),e.STATIC_DRAW),e.drawArrays(e.TRIANGLE_STRIP,0,4),!eU(e,0,0,255,255))throw new Error("did not render correct color (backfacing)");e.bindFramebuffer(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindBuffer(e.ARRAY_BUFFER,null),e.deleteFramebuffer(s),e.deleteTexture(a),e.deleteBuffer(i),e.detachShader(t,r),e.deleteShader(r),e.detachShader(t,n),e.deleteShader(n),e.deleteProgram(t)}var rU=function(){function e(){qF(this,e)}return KF(e,null,[{key:"isWebGLSupported",value:function(){try{var e=ik(document.createElement("canvas"));return!!e&&(tU(e),!0)}catch(e){return!1}}}]),e}(),nU='\n    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="1px" height="1px">\n    <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g>  <g transform="translate(16,179)">    <path fill="#995ba5" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 40 H 136.64189910888672 v 35 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z M 47.832489013671875,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 126.64189910888672,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path>\n    </g></svg>\n';if(window.chrome){var oU=document.createElement("div");oU.style.position="absolute",oU.style.left="0px",oU.style.top="0px",oU.innerHTML=nU,document.body&&document.body.appendChild(oU)}function iU(e){e.monitor("READER3_POLYFILLS",{"whatwg-fetch":window.fetch.polyfill?1:0})}function aU(e){var t=e.metrics,r=e.network,n=e.trackerConfig,o=e.gaTracker,i=e.quantcastTracker,a=e.features,s=e.readMorePlugin,u=e.connector,c=e.experiment;if(!u)throw new Error("Missing data to initialize reader (username && name) | (connector)");var f=rU.isWebGLSupported();t.monitor("READER3_WEBGL",{webgl:f?1:0,no_webgl:f?0:1}),iU(t);var p=e.document?e.document.embedId:null,d=new SF(t),h=GF(u,Co),v=[hB,EB,TB(t),SB(t),CB(),yB(t),OB(n.startTrackingOnLoad),h.middleware,MB(t)];if(i){var y=new IF(i);v.push(DF(y,Co))}if(o){var m=new UF(o);v.push(WF(m,Co))}var g=new uv(t,n.sessionId),_=(e.document?e.document.initialPageNumber:1)||1,b=tn,w=Yr(fB(r,n.sessionId,n.embedTrackingQuery,p,_,a,g,s||null,f,c),e.preloadedState,b(rn.apply(void 0,v))),E=l.a.createElement(dn,{store:w},l.a.createElement(xN,{documentConnector:u,loadStatsTracker:d,featureTracker:g,metrics:t,trackOnceMixpanel:bF(e.mixpanel)})),O=h.api(w);return window.ISSUU_READER_STORE=w,window.ISSUU_READER_OBJECT=E,window.ISSUU_READER_EXTERNAL_API=O,{reader:E,api:O}}r(194);function sU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sU(Object(r),!0).forEach((function(t){lU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fU=20,pU=2e3,dU=function e(t,r){var n=this;cU(this,e),lU(this,"_wrapper",void 0),lU(this,"_post",void 0),lU(this,"_postBatchedTimeoutId",void 0),lU(this,"_batchedQueue",[]),lU(this,"_queueLength",(function(){return n._batchedQueue.length})),lU(this,"_addToQueue",(function(e){n._batchedQueue.push(uU(uU({},e),{},{version:"1.0.0"}))})),lU(this,"_startPostTimerIfNeeded",(function(){void 0===n._postBatchedTimeoutId&&(n._postBatchedTimeoutId=setTimeout((function(){n._postBatchedTimeoutId=void 0,n._postAllQueued()}),pU))})),lU(this,"_postAllQueued",(function(){0!==n._queueLength()&&(void 0!==n._postBatchedTimeoutId&&(n._postBatchedTimeoutId&&clearTimeout(n._postBatchedTimeoutId),n._postBatchedTimeoutId=void 0),n._post(uU(uU({},n._wrapper.getMonitorPingbackWrapper()),{},{data:n._batchedQueue})),n._batchedQueue=[])})),lU(this,"monitor",(function(e){n._addToQueue(e),n._postAllQueued()})),lU(this,"monitorBatched",(function(e){n._addToQueue(e),n._queueLength()>=fU?n._postAllQueued():n._startPostTimerIfNeeded()})),lU(this,"flush",(function(){n._postAllQueued()})),this._wrapper=t,this._post=r};function hU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yU="2.2.0",mU=function e(t,r){var n=this;hU(this,e),vU(this,"_origin",void 0),vU(this,"_iutk",void 0),vU(this,"_getPingbackWrapper",(function(e){return{version:yU,origin:n._origin,iutk:n._iutk,type:e}})),vU(this,"getMonitorPingbackWrapper",(function(){return n._getPingbackWrapper("monitor")})),vU(this,"getWebsitePingbackWrapper",(function(){return n._getPingbackWrapper("website")})),vU(this,"getReaderPingbackWrapper",(function(){return n._getPingbackWrapper("reader")})),this._origin=t,this._iutk=r};function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gU(Object(r),!0).forEach((function(t){wU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var EU=20,OU=1500;function TU(e){return{version:"1.3.3",username:e.getUsername(),ui_language:e.getLanguage(),location:e.getLocation(),referrer:e.getReferrer(),source:e.getSource(),contexts:[]}}function xU(e,t){var r=e.data.contexts.length;if(0===r)return!0;var n=!1;return["doc_id","doc_creator","doc_name","ad_id","ad_token","embed_id","display_size","stream_origin","stream_ranking"].forEach((function(o){n=n||e.data.contexts[r-1][o]!==t[o]})),n=n||e.data.contexts[r-1].pages.toString()!==t.pages.toString()}var kU=function e(t,r,n,o){var i=this;bU(this,e),wU(this,"_handleError",void 0),wU(this,"_wrapper",void 0),wU(this,"_post",void 0),wU(this,"_environment",void 0),wU(this,"_nagleTimeout",void 0),wU(this,"_signal",void 0),wU(this,"_model",void 0),wU(this,"_timeoutId",void 0),wU(this,"initializeModel",(function(e){i._model?i._handleError(new Error("reader pingback helper->initializeModel->model already exist")):i._model={doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),pages:e.pages,pageNumber:e.pageNumber,ad_id:e.adpageId||null,ad_token:e.adpageToken||null,is_embed:e.isEmbed,embed_id:e.embedId||null,display_size:i._environment.getBrowserSize(),is_fullscreen:e.isFullscreen,stream_origin:e.streamOrigin||null,stream_ranking:e.streamRanking||null,user_interacted:!1}})),wU(this,"clearModel",(function(){i.executePingback(),i._model=void 0})),wU(this,"updateModelOnPageChange",(function(e){i._model?i._model.pages=e.pages:i._handleError(new Error("reader pingback handler->updateModelOnPageChange->no model."))})),wU(this,"updateModelOnResize",(function(e){i._model?(i._model.display_size=e.displaySize,i._model.is_fullscreen=e.isFullscreen):i._handleError(new Error("reader pingback handler->updateModelOnResize->no model."))})),wU(this,"updateModelOnUserInteracted",(function(){i._model?i._model.user_interacted=!0:i._handleError(new Error("reader pingback handler->updateModelOnUserInteracted->no model."))})),wU(this,"_executePingbackIfPlatformHasChanged",(function(){var e=i._signal;if(e){var t=TU(i._environment);["version","username","location","referrer","source"].find((function(r){return e.data[r]!==t[r]}))&&i.executePingback()}})),wU(this,"viewportHasUserAttention",(function(){return i._model?!i._model.is_embed||i._model.is_fullscreen||i._model.user_interacted:(i._handleError(new Error("reader pingback handler - viewportHasUserAttention - no model.")),!1)})),wU(this,"updateSignal",(function(e){var t=i._model;if(t){i._executePingbackIfPlatformHasChanged();var r=i._signal||_U(_U({},i._wrapper.getReaderPingbackWrapper()),{},{data:TU(i._environment)});i._signal=r,xU(r,t)&&r.data.contexts.push({doc_id:t.doc_id,doc_creator:t.doc_creator,doc_name:t.doc_name,pages:t.pages,ad_id:t.ad_id,ad_token:t.ad_token,embed_id:t.embed_id,display_size:t.display_size,stream_origin:t.stream_origin,stream_ranking:t.stream_ranking,events:[]});var n=r.data.contexts.length;n>0?r.data.contexts[n-1].events.push(e):i._handleError(new Error("reader pingback handler context length invalid."))}else i._handleError(new Error("reader pingback handler - update signal - no model."))})),wU(this,"getCurrentPages",(function(){return i._model?i._model.pages:(i._handleError(new Error("reader pingback handler - get current pages - no model.")),[])})),wU(this,"timeoutPingback",(function(){if(i._signal){i._timeoutId&&(clearTimeout(i._timeoutId),i._timeoutId=void 0);for(var e=0,t=i._signal.data.contexts.length-1;t>=0;t--)e+=i._signal.data.contexts[t].events.length;e>=EU?i.executePingback():i._timeoutId=setTimeout((function(){i.executePingback()}),OU)}})),wU(this,"executePingback",(function(){i._timeoutId&&(clearTimeout(i._timeoutId),i._timeoutId=void 0),i._signal&&(i._post(i._signal),i._signal=void 0)})),this._handleError=t,this._wrapper=r,this._post=n,this._environment=o};function SU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var CU=function e(t){var r=this;SU(this,e),PU(this,"_readerPingbackHelper",void 0),PU(this,"moreContentDocumentShow",(function(e){r._readerPingbackHelper.updateSignal({type:"more_content_document_impression",doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),page:e.pageNumber,stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),r._readerPingbackHelper.timeoutPingback()})),PU(this,"moreContentDocumentClick",(function(e){r._readerPingbackHelper.updateSignal({type:"more_content_document_click",doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase(),stream_origin:e.streamOrigin,stream_ranking:e.streamRanking}),r._readerPingbackHelper.executePingback()})),this._readerPingbackHelper=t};function AU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jU=function e(t){var r=this;AU(this,e),RU(this,"_readerPingbackHelper",void 0),RU(this,"clippingAction",(function(e){r._readerPingbackHelper.updateSignal({type:"clipping_action",clippingId:e.clippingId,action:e.action,on_page:e.onPage,creator:e.creator,url:e.url,page:e.page,service:e.service,videoid:e.videoid,opened_in_reader:e.opened_in_reader}),r._readerPingbackHelper.timeoutPingback()})),this._readerPingbackHelper=t};function IU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var MU=2e3,LU=6e5,NU=[2e3,3e3,4e3,6e3,8e3,12e3],BU=function e(t){var r=this;IU(this,e),DU(this,"_readerPingbackHelper",void 0),DU(this,"_eventsAfterDocumentRead",[]),DU(this,"_documentReadTimeoutId",void 0),DU(this,"_documentReadTriggered",!1),DU(this,"_pageReadLastPages",null),DU(this,"_pageReadStartTime",Date.now()),DU(this,"_pageReadLastEndTime",Date.now()),DU(this,"_delays",null),DU(this,"_pageReadTimeTimeoutId",void 0),DU(this,"_idleTimeoutId",void 0),DU(this,"_setUpPageReadTimers",(function(){r._delays=NU.slice(0),r._pageReadStartTime=r._pageReadLastEndTime=Date.now(),r._startPageReadTimer()})),DU(this,"_getReaderSize",(function(){return r._readerPingbackHelper._model&&r._readerPingbackHelper._model.is_fullscreen?"fullscreen":"normal"})),DU(this,"_startPageReadTimer",(function(){r._pageReadTimeTimeoutId=setTimeout((function(){r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime(),r._startPageReadTimer()}),r._getNextPageReadTimeout())})),DU(this,"_startIdleTimer",(function(){r._idleTimeoutId=setTimeout((function(){r._idleTimeoutId=void 0,void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime())}),LU)})),DU(this,"_resetIdleTimer",(function(){void 0!==r._idleTimeoutId?(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0):r._readerPingbackHelper.viewportHasUserAttention()&&(r._pageReadLastEndTime=(new Date).getTime(),r._delays?r._startPageReadTimer():r._setUpPageReadTimers()),r._startIdleTimer()})),DU(this,"_clearTimers",(function(){void 0!==r._idleTimeoutId&&(r._idleTimeoutId&&clearTimeout(r._idleTimeoutId),r._idleTimeoutId=void 0),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0)})),DU(this,"_getNextPageReadTimeout",(function(){var e=r._delays?r._delays.shift():NaN;if(void 0===e||isNaN(e)){var t=NU.length;return NU[t-1]+.2*((new Date).getTime()-r._pageReadStartTime)}return e})),DU(this,"_trackDocumentImpression",(function(){r._readerPingbackHelper.updateSignal({type:"document_impression"}),r._readerPingbackHelper.timeoutPingback()})),DU(this,"_trackDocumentRead",(function(){for(;r._eventsAfterDocumentRead.length>0;)r._readerPingbackHelper.updateSignal(r._eventsAfterDocumentRead.shift());r._readerPingbackHelper.updateSignal({type:"document_read"}),r._readerPingbackHelper.executePingback(),r._documentReadTriggered=!0,r._documentReadTimeoutId=void 0})),DU(this,"_trackPageImpression",(function(e){e.forEach((function(e){r._readerPingbackHelper.updateSignal({type:"page_impression",page:e})})),r._readerPingbackHelper.timeoutPingback()})),DU(this,"_maybeTrackPageRead",(function(){var e=r._readerPingbackHelper.getCurrentPages(),t=JSON.stringify(e);r._pageReadLastPages!==t&&(r._pageReadLastPages=t,e.forEach((function(e){var t={type:"page_read_v2",page:e,reader_size:r._getReaderSize()};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)})),r._readerPingbackHelper.timeoutPingback())})),DU(this,"_trackPageReadTime",(function(){var e=(new Date).getTime(),t=r._readerPingbackHelper.getCurrentPages(),n=Math.floor((e-r._pageReadLastEndTime)/t.length);n<=0||(t.forEach((function(e){var t={type:"page_read_time_v2",time_increment:n,page:e,reader_size:r._getReaderSize()};r._documentReadTriggered?r._readerPingbackHelper.updateSignal(t):r._eventsAfterDocumentRead.push(t)})),r._pageReadLastEndTime=e,r._readerPingbackHelper.timeoutPingback())})),DU(this,"_maybeStartDocumentReadTimer",(function(){void 0!==r._documentReadTimeoutId||r._documentReadTriggered||(r._documentReadTimeoutId=setTimeout((function(){r._trackDocumentRead()}),MU))})),DU(this,"documentLoad",(function(e){r._readerPingbackHelper.initializeModel(e),r._trackDocumentImpression(),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),r._startIdleTimer()})),DU(this,"documentUnLoad",(function(){r.flush(),r._readerPingbackHelper.clearModel()})),DU(this,"userInteracted",(function(){r._readerPingbackHelper.updateModelOnUserInteracted(),r._resetIdleTimer(),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeStartDocumentReadTimer(),r._maybeTrackPageRead(),r._setUpPageReadTimers()),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead())})),DU(this,"pageChange",(function(e){r._resetIdleTimer(),void 0!==r._documentReadTimeoutId&&(r._documentReadTimeoutId&&clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0,r._trackDocumentRead()),void 0!==r._pageReadTimeTimeoutId&&(r._pageReadTimeTimeoutId&&clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()),r._readerPingbackHelper.updateModelOnPageChange(e),r._trackPageImpression(e.pages),r._readerPingbackHelper.viewportHasUserAttention()&&(r._maybeTrackPageRead(),r._setUpPageReadTimers())})),DU(this,"zoom",(function(){r._resetIdleTimer()})),DU(this,"resize",(function(e){r._resetIdleTimer(),r._readerPingbackHelper.updateModelOnResize(e),r._readerPingbackHelper.viewportHasUserAttention()?(r._maybeStartDocumentReadTimer(),void 0===r._pageReadTimeTimeoutId&&r._setUpPageReadTimers(),r._maybeTrackPageRead()):(r._documentReadTimeoutId&&(clearTimeout(r._documentReadTimeoutId),r._documentReadTimeoutId=void 0),r._pageReadTimeTimeoutId&&(clearTimeout(r._pageReadTimeTimeoutId),r._pageReadTimeTimeoutId=void 0,r._trackPageReadTime()))})),DU(this,"flush",(function(){r._clearTimers(),r._eventsAfterDocumentRead=[],r._readerPingbackHelper.executePingback()})),this._readerPingbackHelper=t};function FU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FU(Object(r),!0).forEach((function(t){zU(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function WU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zU(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var HU=function e(t,r,n){var o=this;WU(this,e),zU(this,"_wrapper",void 0),zU(this,"_post",void 0),zU(this,"_environment",void 0),zU(this,"_getSignalData",(function(e){return{version:"2.2.2",username:e?null:o._environment.getUsername(),ui_language:o._environment.getLanguage(),location:o._environment.getLocation(),referrer:o._environment.getReferrer(),contexts:[]}})),zU(this,"downloadAnonymously",(function(e){var t={type:"document_download",doc_id:"".concat(e.revisionId,"-").concat(e.publicationId),doc_creator:e.ownerUsername.toLowerCase(),doc_name:e.publicationName.toLowerCase()};o._post(UU(UU({},o._wrapper.getWebsitePingbackWrapper()),{},{data:UU(UU({},o._getSignalData(!0)),{},{contexts:[{browser_size:o._environment.getBrowserSize(),events:[t]}]})}))})),this._wrapper=t,this._post=r,this._environment=n},VU="iutk",GU="00000000-0000-0000-0000-000000000000",qU=null;function $U(){if("undefined"!=typeof document&&void 0!==document.cookie){var e=document.cookie.split(";").filter((function(e){return e.includes("".concat(VU,"="))}));if(e.length)return e[0].split("=")[1].trim()}return null}function KU(){var e=RM(),t=function(){if("undefined"!=typeof document){var e=/(?:t?)issuu.com$/.exec(document.domain||"");return e?e[0]:null}return null}();"undefined"!=typeof document&&(document.cookie="".concat(VU,"=").concat(e).concat(t?";domain=".concat(t):"",";path=/;max-age=").concat(15552e3,";samesite=none;secure"))}function YU(){if(null===qU){var e;try{null===(e=$U())&&(KU(),e=$U())}catch(t){e=null}qU=null===e?GU:e}return qU}function XU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ZU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XU(Object(r),!0).forEach((function(t){tW(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eW(e,t,r){return t&&QU(e.prototype,t),r&&QU(e,r),e}function tW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var rW=function(){function e(t){JU(this,e),tW(this,"_monitorHandler",void 0),tW(this,"_seeMoreHandler",void 0),tW(this,"_linkHandler",void 0),tW(this,"_documentHandler",void 0),tW(this,"_websiteHandler",void 0),tW(this,"deviceType",void 0),tW(this,"browserName",void 0),tW(this,"readerEndPoint",void 0);var r={getUsername:function(){return t.username},getLanguage:function(){return t.language},getLocation:function(){return t.location},getReferrer:function(){return t.referrer},getSource:function(){return t.source},getWidth:function(){return t.width},getHeight:function(){return t.height},getBrowserSize:function(){return"".concat(r.getWidth(),"x").concat(r.getHeight())}},n=function(e){if(!t.monitorEventsOnly||"monitor"===e.type){var r=new XMLHttpRequest;r.open("POST","".concat(t.pingbackOrigin,"/ping"),!0),r.withCredentials=!0,r.setRequestHeader("Accept","application/json"),r.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),r.send(JSON.stringify(e))}},o=YU(),i=new mU("".concat(t.origin,"_tracking-buildin"),o),a=new kU((function(e){0}),i,n,r);this.deviceType=t.deviceType,this.browserName=t.browserName,this.readerEndPoint=t.readerEndPoint,this._monitorHandler=new dU(i,n),this._seeMoreHandler=new CU(a),this._linkHandler=new jU(a),this._documentHandler=new BU(a),this._websiteHandler=new HU(i,n,r)}return eW(e,[{key:"onEvent",value:function(e){switch(e.type){case"DOCUMENT_LOAD_MESSAGE":this._documentHandler.documentLoad(e.data);break;case"USER_INTERACTED_MESSAGE":this._documentHandler.userInteracted();break;case"PAGE_CHANGE_MESSAGE":this._documentHandler.pageChange(e.data);break;case"ZOOM_MESSAGE":this._documentHandler.zoom();break;case"RESIZE_MESSAGE":this._documentHandler.resize(e.data);break;case"DOCUMENT_DOWNLOAD_MESSAGE":this._websiteHandler.downloadAnonymously(e.data);break;case"CLIPPING_ACTION_MESSAGE":this._linkHandler.clippingAction(e.data);break;case"MORE_CONTENT_DOCUMENT_SHOW_MESSAGE":this._seeMoreHandler.moreContentDocumentShow(e.data);break;case"MORE_CONTENT_DOCUMENT_CLICK_MESSAGE":this._seeMoreHandler.moreContentDocumentClick(e.data);break;case"MONITOR_BATCHED_MESSAGE":this._monitorHandler.monitorBatched(e.data);break;case"MONITOR_MESSAGE":this._monitorHandler.monitor(e.data);break;case"MONITOR_TRAFFIC_SOURCE":this._monitorHandler.monitorBatched({type:"rattlesnakes.reader3.".concat(this.readerEndPoint,".documentimpression")});break;case"MONITOR_DROPPED_FRAMES":var t=e.data,r=t.webgl?"3d":"2d";this._monitorHandler.monitorBatched(ZU(ZU({},t),{},{type:"reader3-dropped-frames.".concat(r)})),this._monitorHandler.monitorBatched(ZU(ZU({},t),{},{type:"reader3-dropped-frames.".concat(r,".endpoint.").concat(this.readerEndPoint)})),this._monitorHandler.monitorBatched(ZU(ZU({},t),{},{type:"reader3-dropped-frames.".concat(r,".browser.").concat(this.browserName)})),this._monitorHandler.monitorBatched(ZU(ZU({},t),{},{type:"reader3-dropped-frames.".concat(r,".device.").concat(this.deviceType)}));break;case"MONITOR_TIME_TO_COVER":var n=e.data;this._monitorHandler.monitorBatched({type:"reader3-time-to-cover",ms_to_cover:n}),this._monitorHandler.monitorBatched({type:"reader3-time-to-cover.".concat(this.readerEndPoint,".").concat(this.deviceType,".").concat(this.browserName),ms_to_cover:n})}}}]),e}(),nW=r(286),oW=["chrome","firefox","safari","mobile_safari","edge","ie"],iW=["desktop","mobile","tablet"],aW=function(){var e="",t="";try{var r=(new nW.UAParser).getResult();e=r.device.type||"desktop",t=r.browser.name||"unknown_browser"}catch(e){}return e=e.replace(" ","_").toLocaleLowerCase(),t=t.replace(" ","_").toLocaleLowerCase(),iW.includes(e)||(e="otherDevice"),oW.includes(t)||(t="otherBrowser"),{deviceType:e,browserName:t}};function sW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cW(e,t,r){return t&&uW(e.prototype,t),r&&uW(e,r),e}function lW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fW(){try{var e;return(null===(e=window.document.cookie.match(/\bsite.model.username=([^;]+);/))||void 0===e?void 0:e[1])||null}catch(e){return null}}function pW(e){var t=e.location,r=e.referrer,n=e.monitorEventsOnly,o=e.readerEndPoint,i=e.pingbackOrigin,a=e.source,s=aW(),u=s.deviceType,c=s.browserName,l="reader3-v".concat("2.0.426","_").concat(o,"-v").concat("1.0.426"),f={pingbackOrigin:i,monitorEventsOnly:n,width:window.innerWidth,height:window.innerHeight,username:fW(),location:t,referrer:r,source:a,origin:l,language:"en",deviceType:u,browserName:c,readerEndPoint:o},p=new rW(f);return function(e){p.onEvent(e)}}var dW=function(){function e(t){sW(this,e),lW(this,"metricsEvent",(function(){})),lW(this,"streamData",void 0),lW(this,"isEmbed",void 0),lW(this,"adpageId",void 0),lW(this,"embedId",void 0),lW(this,"readerEndPoint",void 0),lW(this,"_isTrackerReady",!1),lW(this,"_interactedWithReader",!1),lW(this,"_previousPages",[]),lW(this,"_previousZoom",1),this.metricsEvent=pW(t),this.streamData=t.streamData||{origin:null,ranking:null},this.isEmbed=t.isEmbed,this.adpageId=t.adpageId,this.readerEndPoint=t.readerEndPoint,this.embedId=t.embedId}return cW(e,[{key:"monitor",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=Object.assign({type:e},t);this.metricsEvent({type:r?"MONITOR_MESSAGE":"MONITOR_BATCHED_MESSAGE",data:n})}},{key:"onDocumentLoaded",value:function(e,t,r){var n=e.publicationId,o=e.revisionId,i=e.documentName,a=e.username;this._previousPages=t,this._isTrackerReady=!0,this.metricsEvent({type:"DOCUMENT_LOAD_MESSAGE",data:{isEmbed:this.isEmbed,isFullscreen:r,revisionId:o,publicationId:n,publicationName:i,ownerUsername:a,pages:t,pageNumber:t[0],embedId:this.embedId,adpageId:this.adpageId,streamOrigin:this.streamData.origin,streamRanking:this.streamData.ranking}}),this.metricsEvent({type:"MONITOR_TRAFFIC_SOURCE"})}},{key:"onActivity",value:function(e){this._isTrackerReady&&e&&!this._interactedWithReader&&(this._interactedWithReader=!0,this.metricsEvent({type:"USER_INTERACTED_MESSAGE"}))}},{key:"onPageChanged",value:function(e){this._isTrackerReady&&this._previousPages.join()!==e.join()&&(this._previousPages=e,this.metricsEvent({type:"PAGE_CHANGE_MESSAGE",data:{pages:e}}))}},{key:"onZoom",value:function(e){this._isTrackerReady&&this._previousZoom!==e&&(this._previousZoom=e,this.metricsEvent({type:"ZOOM_MESSAGE"}))}},{key:"onResize",value:function(e,t){this._isTrackerReady&&this.metricsEvent({type:"RESIZE_MESSAGE",data:{displaySize:e,isFullscreen:t}})}},{key:"onDownload",value:function(e){var t=e.revisionId,r=e.publicationId,n=e.documentName,o=e.username;this.metricsEvent({type:"DOCUMENT_DOWNLOAD_MESSAGE",data:{anonymous:!0,revisionId:t,publicationId:r,publicationName:n,ownerUsername:o}})}},{key:"onClippingActionGotoPage",value:function(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{clippingId:e,action:"gotoPage",onPage:t,page:r,creator:"publisher"}})}},{key:"onClippingActionOpenUrl",value:function(e,t,r){this._isTrackerReady&&this.metricsEvent({type:"CLIPPING_ACTION_MESSAGE",data:{clippingId:e,action:"openUrl",onPage:t,creator:"publisher",url:r}})}},{key:"onTimeToCover",value:function(e){this.metricsEvent({type:"MONITOR_TIME_TO_COVER",data:e})}},{key:"onFrameDrop",value:function(e){this.metricsEvent({type:"MONITOR_DROPPED_FRAMES",data:{dropped:Math.round(e.droppedFrames),dropped_per_sec:Math.round(Math.min(e.droppedFrames/e.duration*1e3,e.droppedFrames)),duration_in_ms:Math.round(e.duration),webgl:e.webgl}})}},{key:"onMoreContentDocumentClick",value:function(e){this._isTrackerReady&&this.metricsEvent({type:"MORE_CONTENT_DOCUMENT_CLICK_MESSAGE",data:e})}},{key:"onMoreContentDocumentShow",value:function(e){this._isTrackerReady&&this.metricsEvent({type:"MORE_CONTENT_DOCUMENT_SHOW_MESSAGE",data:e})}}]),e}();function hW(e){return(hW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function mW(e,t,r){return t&&yW(e.prototype,t),r&&yW(e,r),e}function gW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_W(e,t)}function _W(e,t){return(_W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bW(e){var t=OW();return function(){var r,n=TW(e);if(t){var o=TW(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return wW(this,r)}}function wW(e,t){return!t||"object"!==hW(t)&&"function"!=typeof t?EW(e):t}function EW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OW(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function TW(e){return(TW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kW=function(e){gW(r,e);var t=bW(r);function r(e){var n;return vW(this,r),xW(EW(n=t.call(this,e)),"stream",void 0),xW(EW(n),"onClickStreamItem",(function(e,t){n.props.onClickElement(e,t)})),xW(EW(n),"_documentPageUrl",(function(e,t){var r="".concat(n.props.config.origins.main,"/").concat(e.content.ownerUsername,"/docs/").concat(e.content.publicationName),o="?streamOrigin=".concat(encodeURIComponent(e.origin.join(";")),"&streamRanking=").concat(t);return o+=z("read_more",n.props.embedTrackingQuery,"&"),r.toLowerCase()+o})),xW(EW(n),"_imgUrl",(function(e){var t="".concat(e.content.revisionId,"-").concat(e.content.publicationId);return"".concat(n.props.config.origins.image,"/").concat(t,"/jpg/page_1_thumb_large.jpg")})),xW(EW(n),"_getCoverMarkup",(function(e,t){var r=e.content.height/e.content.width,o="".concat(e.content.revisionId,"-").concat(e.content.publicationId),i=n._imgUrl(e),a=n._documentPageUrl(e,t),s={backgroundImage:"url(".concat(i,")"),border:void 0},u=n.props.openInNewTab?"_blank":"_top",l=null;return n.props.debug&&(s.border="5px solid "+e.debug_info.color,l=c.createElement("span",{className:"stream-list__debug"},e.origin.join(";"))),c.createElement("a",{key:o,className:"stream-list__item stream-list__cover",href:a,style:s,target:u,title:e.content.title,onClick:function(r){return n.onClickStreamItem(e,t)}},l,c.createElement("div",{className:"stream-list__item-aspect",style:{paddingTop:"".concat(100*r,"%")}}))})),n.stream=c.createRef(),n}return mW(r,[{key:"componentWillUpdate",value:function(e){var t;if(!this.props.isVisible&&e.isVisible&&e.animate)null===(t=this.stream.current)||void 0===t||t.classList.add("stream-list--animate");else if(this.props.isVisible&&!e.isVisible){var r;null===(r=this.stream.current)||void 0===r||r.classList.remove("stream-list--animate")}}},{key:"render",value:function(){var e=this,t=this.props.showAsColumns&&2!==this.props.stream.length,r=Wf()("stream-list",{"stream-list--columns":t,"stream-list--shelf":!t}),n=this.props.stream;return c.createElement("div",{ref:this.stream,className:r},n.map((function(t,r){return e._getCoverMarkup(t,r)})))}}]),r}(c.Component);function SW(e){return(SW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AW(e,t,r){return t&&CW(e.prototype,t),r&&CW(e,r),e}function RW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jW(e,t)}function jW(e,t){return(jW=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function IW(e){var t=LW();return function(){var r,n=NW(e);if(t){var o=NW(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return DW(this,r)}}function DW(e,t){return!t||"object"!==SW(t)&&"function"!=typeof t?MW(e):t}function MW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LW(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function NW(e){return(NW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function BW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}xW(kW,"displayName","StreamList");var FW=function(e){RW(r,e);var t=IW(r);function r(){return PW(this,r),t.apply(this,arguments)}return AW(r,[{key:"shouldComponentUpdate",value:function(e){return!lf()(this.props,e)}},{key:"render",value:function(){var e=Wf()("readmore-header",{"readmore-header--large":!!this.props.large,"readmore-header--one-line":!!this.props.oneLine});return c.createElement("div",{className:e},c.createElement("strong",{className:"readmore-header__text"},"Here's more to read..."))}}]),r}(c.Component);function UW(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++)try{var o=decodeURIComponent(r[n]).trim();if(0===o.indexOf(t))return o.substring(t.length,o.length)}catch(e){continue}return null}function WW(){var e=UW("issuu.comstream.debug.style");return!!window.ISSUU_STREAM_DEBUG||null!==e}function zW(e){return(zW="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function HW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GW(e,t,r){return t&&VW(e.prototype,t),r&&VW(e,r),e}function qW(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$W(e,t)}function $W(e,t){return($W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function KW(e){var t=ZW();return function(){var r,n=JW(e);if(t){var o=JW(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return YW(this,r)}}function YW(e,t){return!t||"object"!==zW(t)&&"function"!=typeof t?XW(e):t}function XW(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZW(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function JW(e){return(JW=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function QW(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}BW(FW,"displayName","Header");var ez=function(e){qW(r,e);var t=KW(r);function r(){var e;HW(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return QW(XW(e=t.call.apply(t,[this].concat(o))),"_streamDebugMode",void 0),QW(XW(e),"_visibilityTime",void 0),QW(XW(e),"onClickStreamItem",(function(t,r){e.props.metrics.onMoreContentDocumentClick({revisionId:t.content.revisionId,publicationId:t.content.publicationId,ownerUsername:t.content.ownerUsername,publicationName:t.content.publicationName,streamOrigin:t.origin,streamRanking:r})})),QW(XW(e),"onClickSeeMore",(function(){e.props.metrics.monitor("reader3-readmore-seemore",{click:1,msToClick:Date.now()-(e._visibilityTime?e._visibilityTime:0)},!0)})),QW(XW(e),"trackOnVisible",(function(t){t.map((function(t,r){e.props.metrics.onMoreContentDocumentShow({revisionId:t.content.revisionId,publicationId:t.content.publicationId,ownerUsername:t.content.ownerUsername,publicationName:t.content.publicationName,pageNumber:1,streamOrigin:t.origin,streamRanking:r})})),e.showReadmoreButton(t)&&e.props.metrics.monitor("reader3-readmore-seemore",{impression:1}),e.showHeader(t)&&e.props.metrics.monitor("reader3-readmore-logo",{impression:1}),e._visibilityTime=Date.now()})),QW(XW(e),"decideStream",(function(){if(!e.props.streamState)return[];var t=e.props.exitedFullscreen?e.props.streamState.exitFullscreenStream:e.props.streamState.buttonStream;return e.props.shouldHackStreamCount?t.slice(0,3):t})),QW(XW(e),"showHeader",(function(t){return e.props.showAsOverlay||t.length>1})),QW(XW(e),"showReadmoreButton",(function(t){return 4===t.length&&(!e.props.showAsOverlay||window.innerHeight>400)})),QW(XW(e),"seeMoreUrl",(function(){return e.props.showOwnDocuments&&e.props.username?"".concat(e.props.config.origins.main,"/").concat(e.props.username):"".concat(e.props.config.origins.main,"/explore").concat(z("read_more_issuu",e.props.embedTrackingQuery))})),e}return GW(r,[{key:"componentDidMount",value:function(){this._streamDebugMode=WW()}},{key:"componentDidUpdate",value:function(e){!e.isVisible&&this.props.isVisible&&this.trackOnVisible(this.decideStream())}},{key:"render",value:function(){var e=this.decideStream();if(!e||0===e.length||!this.props.showMore)return null;var t=window.innerWidth<window.innerHeight,r=t&&this.props.showAsOverlay,n=this.seeMoreUrl(),o=Wf()("readmore",{"readmore--overlay":this.props.showAsOverlay,"readmore--overlay-landscape":this.props.showAsOverlay&&!t,"readmore--overlay-portrait":this.props.showAsOverlay&&t,"readmore--dropdown-4-items":!this.props.showAsOverlay&&4===e.length,"readmore--dropdown-3-items":!this.props.showAsOverlay&&3===e.length,"readmore--dropdown-2-items":!this.props.showAsOverlay&&2===e.length,"readmore--dropdown-1-items":!this.props.showAsOverlay&&1===e.length}),i=this.props.openInNewTab?"_blank":"_top";return c.createElement("div",{className:o},this.showHeader(e)&&c.createElement(FW,{config:this.props.config,large:this.props.showAsOverlay&&window.innerHeight>360&&!t,oneLine:!this.props.showAsOverlay}),c.createElement(kW,{animate:!r,config:this.props.config,debug:!(!this.props.debug&&!this._streamDebugMode),embedTrackingQuery:this.props.embedTrackingQuery,isVisible:this.props.isVisible,onClickElement:this.onClickStreamItem,openInNewTab:this.props.openInNewTab,publicationId:this.props.publicationId,publisherUsername:this.props.username,showAsColumns:r,stream:e}),this.showReadmoreButton(e)&&c.createElement("div",{className:"readmore__see-more-wrapper"},c.createElement("a",{className:"readmore__see-more",href:n,target:i,role:"button","aria-label":"Read more",onClick:this.onClickSeeMore},"Read more on Issuu")))}}]),r}(c.Component);function tz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}QW(ez,"displayName","MoreContent");var nz=function e(t,r){tz(this,e),rz(this,"buttonStream",void 0),rz(this,"exitFullscreenStream",void 0),this.buttonStream=t,this.exitFullscreenStream=r};function oz(e){return fetch(e).then((function(e){return e.ok?e.json().then((function(e){return"fail"===e.rsp.stat?Promise.reject(new Error("Failed to decode json object while loading streams")):e.rsp._content.stream})):Promise.reject(new Error("Failed to load streams from the server"))}))}function iz(e,t){return oz("".concat(e,"/call/stream/web/embed/read_more_by_button_click/initial?publicationId=").concat(t,"&seed=42&pageSize=8"))}function az(e,t){return oz("".concat(e,"/call/stream/web/embed/read_more_exit_from_fullscreen/initial?publicationId=").concat(t,"&seed=42&pageSize=8"))}function sz(e,t,r){return oz("".concat(e,"/call/stream/web/embed/read_more_from_paying_publisher/initial?ownerUsername=").concat(r,"&publicationId=").concat(t,"&pageSize=8"))}function uz(e,t,r){return oz("".concat(e,"/call/stream/web/embed/read_more_from_paying_publisher_from_fullscreen/initial?ownerUsername=").concat(r,"&publicationId=").concat(t,"&pageSize=8"))}function cz(e,t,r,n){var o=null,i=null;return n?(o=sz(e,t,r),i=uz(e,t,r)):(o=iz(e,t),i=az(e,t)),Promise.all([o,i]).then((function(e){return new nz(e[0],e[1])}))}function lz(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function fz(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){lz(i,n,o,a,s,"next",e)}function s(e){lz(i,n,o,a,s,"throw",e)}a(void 0)}))}}function pz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dz(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function hz(e,t,r){return t&&dz(e.prototype,t),r&&dz(e,r),e}function vz(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yz(){return window.innerWidth<470&&window.innerWidth>window.innerHeight}var mz,gz=function(){function e(t){var r=t.metrics,n=t.embedTrackingQuery,o=void 0===n?"":n,i=t.show,a=void 0===i?"RELATED":i,s=t.alwaysOverlay,u=void 0!==s&&s,c=t.hideWhenNotInFullscreen,l=void 0!==c&&c,f=t.openInNewTab,p=void 0===f||f;pz(this,e),vz(this,"metrics",void 0),vz(this,"show",void 0),vz(this,"showMore",!1),vz(this,"embedTrackingQuery",""),vz(this,"alwaysOverlay",void 0),vz(this,"hideWhenNotInFullscreen",void 0),vz(this,"openInNewTab",void 0),vz(this,"showOwnDocuments",void 0),vz(this,"publicationId",""),vz(this,"username",""),vz(this,"unreadCount",void 0),vz(this,"streamState",void 0),this.metrics=r,this.show=a,this.embedTrackingQuery=o,this.alwaysOverlay=u,this.hideWhenNotInFullscreen=l,this.openInNewTab=p,this.showOwnDocuments="OWN_DOCUMENTS"===this.show}var t;return hz(e,[{key:"load",value:(t=fz(regeneratorRuntime.mark((function e(t,r,n,o,i){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.showMore=this.shouldShowMore(o,i),this.showOwnDocuments=this.shouldShowOwnDocuments(o),this.publicationId=r,this.username=n,this.showMore){e.next=6;break}return e.abrupt("return",Promise.resolve(!1));case 6:return e.next=8,cz(t,r,n,this.showOwnDocuments);case 8:return a=e.sent,this.streamState=a,e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)}))),function(e,r,n,o,i){return t.apply(this,arguments)})},{key:"shouldShowOwnDocuments",value:function(e){return"OWN_DOCUMENTS"===this.show&&e}},{key:"shouldShowRelated",value:function(e,t){return"RELATED"===this.show||"RELATED_FOR_FREE_PUBLISHERS"===this.show&&!t||"OWN_DOCUMENTS"===this.show&&!e&&!t}},{key:"shouldShowMore",value:function(e,t){return this.shouldShowRelated(e,t)||this.shouldShowOwnDocuments(e)}},{key:"shouldAlwaysBeOverlay",value:function(){return this.alwaysOverlay}},{key:"hasStreamData",value:function(){return!!(this.streamState&&this.streamState.buttonStream&&this.streamState.buttonStream.length>0)}},{key:"shouldRenderButton",value:function(e,t,r){return!(this.hideWhenNotInFullscreen&&!r)&&(this.hasStreamData()&&this.shouldShowMore(e,t))}},{key:"shouldRenderExitFullscreenOverlay",value:function(e,t){return!this.hideWhenNotInFullscreen&&this.hasStreamData()&&this.shouldShowMore(e,t)}},{key:"getButtonUnreadCount",value:function(){var e;return(e=void 0!==this.unreadCount?this.unreadCount:this.streamState&&this.streamState.buttonStream?this.streamState.buttonStream.length:void 0)&&yz()&&(e=Math.min(e,3)),e}},{key:"clearButtonUnreadCount",value:function(){this.unreadCount=0}},{key:"render",value:function(e,t,r,n,o){return c.createElement(ez,{config:e,debug:t,exitedFullscreen:r,embedTrackingQuery:this.embedTrackingQuery,isVisible:n,openInNewTab:this.openInNewTab,publicationId:this.publicationId,shouldHackStreamCount:yz(),showAsOverlay:o,showMore:this.showMore,showOwnDocuments:this.showOwnDocuments,streamState:this.streamState,metrics:this.metrics,username:this.username})}}]),e}();function _z(e){try{window.parent.postMessage(e,"*")}catch(e){0}}function bz(e,t){window.addEventListener("message",(function(t){var r=t.data.type;if("issuu.setPageNumber"===r){var n=parseInt(t.data.pageNumber,10);n>=1&&n<=e.getPageCount()&&e.setPageNumber(n)}else"issuu.goToPreviousPage"===r?e.goToPreviousPage():"issuu.goToNextPage"===r?e.goToNextPage():"issuu.goToFirstPage"===r?e.setPageNumber(1):"issuu.goToLastPage"===r&&e.setPageNumber(e.getPageCount())}),!1),e.setCallback("ON_DOCUMENT_LOAD_EVENT",(function(){_z({type:"issuu.documentLoaded",pageCount:e.getPageCount(),pageNumbers:e.getPageNumbers(),identifier:t})})),e.setCallback("ON_PAGE_CHANGE_EVENT",(function(){_z({type:"issuu.pageChanged",pageNumbers:e.getPageNumbers(),identifier:t})}))}function wz(e,t){var r=t.metrics,n=t.publicApiIdentifier,o=t.sessionId,i=t.embedTrackingQuery,a=t.rootElement,s=t.fullscreenFallbackArgs,c=t.connector,l=e.embedConfig.backgroundColor;l||!r.embedId||r.embedId.startsWith("0/")||(l="rgba(0, 0, 0, 0.1)"),l||r.monitor("reader3-embed.backgroundcolor.default");var f=null;if(e.embedConfig.backgroundImage){var p=null;e.embedConfig.backgroundStretch?p="STRETCH":e.embedConfig.backgroundTile||(p="TOP_LEFT"),p&&(f={url:e.embedConfig.backgroundImage,style:p,hideWhenNotInFullscreen:!0})}var d=null;e.embedConfig.logo&&(d={url:e.embedConfig.logo,hideWhenNotInFullscreen:!0});var h=ye(),v=aU({document:{initialPageNumber:e.initialPageNumber,embedId:r.embedId},connector:c,network:{origins:h},features:{controls:[{type:"FEATURE_DOWNLOAD"},{type:"FEATURE_SHARE_DIALOG",customizedToNotShow:!e.embedConfig.shareButtonEnabled},{type:"FEATURE_NAVIGATION_ARROWS"},{type:"FEATURE_ZOOM"},{type:"FEATURE_FULLSCREEN",kind:"NORMAL",overlayOnSmallReaders:!0,showButtons:"ALWAYS",fullscreenFallbackArgs:s},{type:"FEATURE_ISSUU_BRANDING",openInNewTab:!0}],allowUIToOverlayCover:!1,autoFlip:e.embedConfig.autoFlip,backgroundColor:l,canLoadAdOverlay:!1,canUseCredentials:!1,fullscreenBackgroundColor:e.embedConfig.fullscreenBackgroundColor,backgroundImage:f,links:{allowOnSmallReaders:!1},logo:d,disableLicenseCheck:!1,showControlsUntilFirstInteraction:!0,requireEmbedLicense:!0,readModeRules:{defaultMode:e.embedConfig.viewMode,responsiveModeWhen:"HANDHELD_IN_PORTRAIT_IN_FULLSCREEN"}},trackerConfig:{startTrackingOnLoad:!0,sessionId:o,embedTrackingQuery:i},metrics:r,quantcastTracker:new fe({quantcastId:ae}),mixpanel:wF({fake:!_F()}),readMorePlugin:new gz({metrics:r,embedTrackingQuery:i,show:e.embedConfig.proSidebarEnabled?"OWN_DOCUMENTS":"RELATED_FOR_FREE_PUBLISHERS",alwaysOverlay:!0})});u.a.render(v.reader,a),bz(v.api,n)}function Ez(e,t,r){u.a.render(l.a.createElement(Or,{mainOrigin:de(),username:r.username,documentName:r.documentName,initialPageNumber:r.initialPageNumber,embedId:t}),e)}function Oz(e,t){var r=t.sessionId,n=t.embedType,o=t.metrics,i=t.isRobot,a=t.embedTrackingQuery,s=t.publicApiIdentifier,c=t.fullscreenFallbackArgs,f={username:e.ownerUsername,documentName:e.documentURI,initialPageNumber:e.initialPageNumber,embedConfig:{embedType:n,isEmbed:!0,autoFlip:!!e.autoFlip,viewMode:"singlePage"===e.pageLayout?"SINGLE_PAGE_SPREAD":"DOUBLE_PAGE_SPREAD",shareButtonEnabled:!!e.enableShare,proSidebarEnabled:!!e.enableSeeMore,backgroundColor:e.bgColor,fullscreenBackgroundColor:e.fullscreenBgColor,logo:e.fullscreenLogo,backgroundImage:e.fullscreenBgImage,backgroundTile:!!e.fullscreenBgImageTile,backgroundStretch:!!e.fullscreenBgImageStretch},features:{showIssuuBranding:!!e.enablePoweredByIssuu}},p=document.getElementById("app");if(!p)throw new Error("unexpected missing markup");var d=document.createElement("div");d.setAttribute("id","root"),p.appendChild(d);var h=document.createElement("div");h.setAttribute("id","branding"),p.appendChild(h);var v=ye(),y=Zt({origins:v,username:f.username,documentName:f.documentName,metrics:o,sessionId:r,isRobot:!1});i?Ez(d,o.embedId,f):wz(f,{metrics:o,publicApiIdentifier:s,sessionId:r,embedTrackingQuery:a,rootElement:d,fullscreenFallbackArgs:c,connector:y});var m=function(){p instanceof Element&&p.classList.add("show-branding"),u.a.render(l.a.createElement(Fr,{useEmojiBranding:!1,embedTrackingQuery:a,mainOrigin:de(),creatorHubOrigin:ve(),metrics:o}),h)};f.features.showIssuuBranding&&m(),y.whenLicensesFetched().then((function(e){e.includes(ga)||m()}))}var Tz=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){mz=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.__sentry_original__||this;return mz.apply(r,e)}},e.id="FunctionToString",e}(),xz=r(104),kz=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Sz=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){vo((function(t){var r=Oo();if(!r)return t;var n=r.getIntegration(e);if(n){var o=r.getClient(),i=o?o.getOptions():{},a="function"==typeof n._mergeOptions?n._mergeOptions(i):{};return"function"!=typeof n._shouldDropEvent?t:n._shouldDropEvent(t,a)?null:t}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(so.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(to.d)(e)),!0):this._isIgnoredError(e,t)?(so.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(to.d)(e)),!0):this._isDeniedUrl(e,t)?(so.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(to.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(so.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(to.d)(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Object(xz.a)(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var r=this._getEventFilterUrl(e);return!!r&&t.denyUrls.some((function(e){return Object(xz.a)(r,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var r=this._getEventFilterUrl(e);return!r||t.allowUrls.some((function(e){return Object(xz.a)(r,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:Object(eo.e)(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:Object(eo.e)(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:Object(eo.e)(this._options.ignoreErrors||[],e.ignoreErrors||[],kz),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},r=t.type,n=void 0===r?"":r,o=t.value,i=void 0===o?"":o;return[""+i,n+": "+i]}catch(t){return so.error("Cannot extract message for event "+Object(to.d)(e)),[]}return[]},e.prototype._getLastValidUrl=function(e){var t,r;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--){var o=e[n];if("<anonymous>"!==(null===(t=o)||void 0===t?void 0:t.filename)&&"[native code]"!==(null===(r=o)||void 0===r?void 0:r.filename))return o.filename||null}return null},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return this._getLastValidUrl(t)}if(e.exception){var r=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return this._getLastValidUrl(r)}return null}catch(t){return so.error("Cannot extract url for event "+Object(to.d)(e)),null}},e.id="InboundFilters",e}();function Pz(e,t){var r;!0===t.debug&&so.enable();var n=Oo();null===(r=n.getScope())||void 0===r||r.update(t.initialScope);var o=new e(t);n.bindClient(o)}var Cz=r(161);function Az(){if(!("fetch"in Object(to.e)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Rz(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function jz(){if(!Az())return!1;var e=Object(to.e)();if(Rz(e.fetch))return!0;var t=!1,r=e.document;if(r&&"function"==typeof r.createElement)try{var n=r.createElement("iframe");n.hidden=!0,r.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(t=Rz(n.contentWindow.fetch)),r.head.removeChild(n)}catch(e){so.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}function Iz(){if(!Az())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function Dz(){var e=Object(to.e)(),t=e.chrome,r=t&&t.app&&t.app.runtime,n="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!r&&n}var Mz,Lz=Object(to.e)(),Nz={},Bz={};function Fz(e){if(!Bz[e])switch(Bz[e]=!0,e){case"console":zz();break;case"dom":eH();break;case"xhr":qz();break;case"fetch":Hz();break;case"history":$z();break;case"error":rH();break;case"unhandledrejection":oH();break;default:so.warn("unknown instrumentation type:",e)}}function Uz(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(Nz[e.type]=Nz[e.type]||[],Nz[e.type].push(e.callback),Fz(e.type))}function Wz(e,t){var r,n;if(e&&Nz[e])try{for(var o=Object(eo.f)(Nz[e]||[]),i=o.next();!i.done;i=o.next()){var a=i.value;try{a(t)}catch(t){so.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+Object(Cz.a)(a)+"\nError: "+t)}}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}function zz(){"console"in Lz&&["debug","info","warn","error","log","assert"].forEach((function(e){e in Lz.console&&Object(yo.c)(Lz.console,e,(function(t){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];Wz("console",{args:r,level:e}),t&&Function.prototype.apply.call(t,Lz.console,r)}}))}))}function Hz(){jz()&&Object(yo.c)(Lz,"fetch",(function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n={args:t,fetchData:{method:Vz(t),url:Gz(t)},startTimestamp:Date.now()};return Wz("fetch",Object(eo.a)({},n)),e.apply(Lz,t).then((function(e){return Wz("fetch",Object(eo.a)(Object(eo.a)({},n),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw Wz("fetch",Object(eo.a)(Object(eo.a)({},n),{endTimestamp:Date.now(),error:e})),e}))}}))}function Vz(e){return void 0===e&&(e=[]),"Request"in Lz&&Object(co.g)(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function Gz(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in Lz&&Object(co.g)(e[0],Request)?e[0].url:String(e[0])}function qz(){if("XMLHttpRequest"in Lz){var e=[],t=[],r=XMLHttpRequest.prototype;Object(yo.c)(r,"open",(function(r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];var i=this,a=n[1];i.__sentry_xhr__={method:Object(co.k)(n[0])?n[0].toUpperCase():n[0],url:n[1]},Object(co.k)(a)&&"POST"===i.__sentry_xhr__.method&&a.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(e){}try{var r=e.indexOf(i);if(-1!==r){e.splice(r);var o=t.splice(r)[0];i.__sentry_xhr__&&void 0!==o[0]&&(i.__sentry_xhr__.body=o[0])}}catch(e){}Wz("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?Object(yo.c)(i,"onreadystatechange",(function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return s(),e.apply(i,t)}})):i.addEventListener("readystatechange",s),r.apply(i,n)}})),Object(yo.c)(r,"send",(function(r){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e.push(this),t.push(n),Wz("xhr",{args:n,startTimestamp:Date.now(),xhr:this}),r.apply(this,n)}}))}}function $z(){if(Dz()){var e=Lz.onpopstate;Lz.onpopstate=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=Lz.location.href,o=Mz;if(Mz=n,Wz("history",{from:o,to:n}),e)try{return e.apply(this,t)}catch(e){}},Object(yo.c)(Lz.history,"pushState",t),Object(yo.c)(Lz.history,"replaceState",t)}function t(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length>2?t[2]:void 0;if(n){var o=Mz,i=String(n);Mz=i,Wz("history",{from:o,to:i})}return e.apply(this,t)}}}var Kz,Yz,Xz=1e3;function Zz(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}function Jz(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}function Qz(e,t){return void 0===t&&(t=!1),function(r){if(r&&Yz!==r&&!Jz(r)){var n="keypress"===r.type?"input":r.type;(void 0===Kz||Zz(Yz,r))&&(e({event:r,name:n,global:t}),Yz=r),clearTimeout(Kz),Kz=Lz.setTimeout((function(){Kz=void 0}),Xz)}}}function eH(){if("document"in Lz){var e=Wz.bind(null,"dom"),t=Qz(e,!0);Lz.document.addEventListener("click",t,!1),Lz.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var r=Lz[t]&&Lz[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Object(yo.c)(r,"addEventListener",(function(t){return function(r,n,o){if("click"===r||"keypress"==r)try{var i=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=i[r]=i[r]||{refCount:0};if(!a.handler){var s=Qz(e);a.handler=s,t.call(this,r,s,o)}a.refCount+=1}catch(e){}return t.call(this,r,n,o)}})),Object(yo.c)(r,"removeEventListener",(function(e){return function(t,r,n){if("click"===t||"keypress"==t)try{var o=this.__sentry_instrumentation_handlers__||{},i=o[t];i&&(i.refCount-=1,i.refCount<=0&&(e.call(this,t,i.handler,n),i.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,r,n)}})))}))}}var tH=null;function rH(){tH=Lz.onerror,Lz.onerror=function(e,t,r,n,o){return Wz("error",{column:n,error:o,line:r,msg:e,url:t}),!!tH&&tH.apply(this,arguments)}}var nH=null;function oH(){nH=Lz.onunhandledrejection,Lz.onunhandledrejection=function(e){return Wz("unhandledrejection",e),!nH||nH.apply(this,arguments)}}var iH="6.12.0",aH=Object.setPrototypeOf||({__proto__:[]}instanceof Array?sH:uH);function sH(e,t){return e.__proto__=t,e}function uH(e,t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r]);return e}var cH=function(e){function t(t){var r=this.constructor,n=e.call(this,t)||this;return n.message=t,n.name=r.prototype.constructor.name,aH(n,r.prototype),n}return Object(eo.b)(t,e),t}(Error),lH=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,fH="Invalid Dsn",pH=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,r=t.host,n=t.path,o=t.pass,i=t.port,a=t.projectId;return t.protocol+"://"+t.publicKey+(e&&o?":"+o:"")+"@"+r+(i?":"+i:"")+"/"+(n?n+"/":n)+a},e.prototype._fromString=function(e){var t=lH.exec(e);if(!t)throw new cH(fH);var r=Object(eo.c)(t.slice(1),6),n=r[0],o=r[1],i=r[2],a=void 0===i?"":i,s=r[3],u=r[4],c=void 0===u?"":u,l="",f=r[5],p=f.split("/");if(p.length>1&&(l=p.slice(0,-1).join("/"),f=p.pop()),f){var d=f.match(/^\d+/);d&&(f=d[0])}this._fromComponents({host:s,pass:a,path:l,projectId:f,port:c,protocol:n,publicKey:o})},e.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new cH(fH+": "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new cH(fH+": Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new cH(fH+": Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new cH(fH+": Invalid port "+this.port)},e}(),dH=[];function hH(e){return e.reduce((function(e,t){return e.every((function(e){return t.name!==e.name}))&&e.push(t),e}),[])}function vH(e){var t=e.defaultIntegrations&&Object(eo.e)(e.defaultIntegrations)||[],r=e.integrations,n=Object(eo.e)(hH(t));Array.isArray(r)?n=Object(eo.e)(n.filter((function(e){return r.every((function(t){return t.name!==e.name}))})),hH(r)):"function"==typeof r&&(n=r(n),n=Array.isArray(n)?n:[n]);var o=n.map((function(e){return e.name}));return-1!==o.indexOf("Debug")&&n.push.apply(n,Object(eo.e)(n.splice(o.indexOf("Debug"),1))),n}function yH(e){-1===dH.indexOf(e.name)&&(e.setupOnce(vo,Oo),dH.push(e.name),so.log("Integration installed: "+e.name))}function mH(e){var t={};return vH(e).forEach((function(e){t[e.name]=e,yH(e)})),Object.defineProperty(t,"initialized",{value:!0}),t}var gH,_H=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new pH(t.dsn))}return e.prototype.captureException=function(e,t,r){var n=this,o=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return n._captureEvent(e,t,r)})).then((function(e){o=e}))),o},e.prototype.captureMessage=function(e,t,r,n){var o=this,i=r&&r.event_id,a=Object(co.i)(e)?this._getBackend().eventFromMessage(String(e),t,r):this._getBackend().eventFromException(e,r);return this._process(a.then((function(e){return o._captureEvent(e,r,n)})).then((function(e){i=e}))),i},e.prototype.captureEvent=function(e,t,r){var n=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then((function(e){n=e}))),n},e.prototype.captureSession=function(e){this._isEnabled()?"string"!=typeof e.release?so.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1})):so.warn("SDK not enabled, will not capture session.")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then((function(r){return t._getBackend().getTransport().close(e).then((function(e){return r&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=mH(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return so.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var r,n,o=!1,i=!1,a=t.exception&&t.exception.values;if(a){i=!0;try{for(var s=Object(eo.f)(a),u=s.next();!u.done;u=s.next()){var c=u.value.mechanism;if(c&&!1===c.handled){o=!0;break}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}}var l=e.status===Jn.Ok;(l&&0===e.errors||l&&o)&&(e.update(Object(eo.a)(Object(eo.a)({},o&&{status:Jn.Crashed}),{errors:e.errors||Number(i||o)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new lo((function(r){var n=0,o=setInterval((function(){0==t._numProcessing?(clearInterval(o),r(!0)):(n+=1,e&&n>=e&&(clearInterval(o),r(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,r){var n=this,o=this.getOptions().normalizeDepth,i=void 0===o?3:o,a=Object(eo.a)(Object(eo.a)({},e),{event_id:e.event_id||(r&&r.event_id?r.event_id:Object(to.i)()),timestamp:e.timestamp||Object(ro.a)()});this._applyClientOptions(a),this._applyIntegrationsMetadata(a);var s=t;r&&r.captureContext&&(s=po.clone(s).update(r.captureContext));var u=lo.resolve(a);return s&&(u=s.applyToEvent(a,r)),u.then((function(e){return"number"==typeof i&&i>0?n._normalizeEvent(e,i):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var r=Object(eo.a)(Object(eo.a)(Object(eo.a)(Object(eo.a)(Object(eo.a)({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return Object(eo.a)(Object(eo.a)({},e),e.data&&{data:Object(yo.d)(e.data,t)})}))}),e.user&&{user:Object(yo.d)(e.user,t)}),e.contexts&&{contexts:Object(yo.d)(e.contexts,t)}),e.extra&&{extra:Object(yo.d)(e.extra,t)});e.contexts&&e.contexts.trace&&(r.contexts.trace=e.contexts.trace);var n=this.getOptions()._experiments;return(void 0===n?{}:n).ensureNoCircularStructures?Object(yo.d)(r):r},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),r=t.environment,n=t.release,o=t.dist,i=t.maxValueLength,a=void 0===i?250:i;"environment"in e||(e.environment="environment"in t?r:"production"),void 0===e.release&&void 0!==n&&(e.release=n),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=Object(xz.d)(e.message,a));var s=e.exception&&e.exception.values&&e.exception.values[0];s&&s.value&&(s.value=Object(xz.d)(s.value,a));var u=e.request;u&&u.url&&(u.url=Object(xz.d)(u.url,a))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=Object(eo.e)(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,r){return this._processEvent(e,t,r).then((function(e){return e.event_id}),(function(e){so.error(e)}))},e.prototype._processEvent=function(e,t,r){var n=this,o=this.getOptions(),i=o.beforeSend,a=o.sampleRate;if(!this._isEnabled())return lo.reject(new cH("SDK not enabled, will not capture event."));var s="transaction"===e.type;return!s&&"number"==typeof a&&Math.random()>a?lo.reject(new cH("Discarding event because it's not included in the random sample (sampling rate = "+a+")")):this._prepareEvent(e,r,t).then((function(e){if(null===e)throw new cH("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||s||!i)return e;var r=i(e,t);return n._ensureBeforeSendRv(r)})).then((function(e){if(null===e)throw new cH("`beforeSend` returned `null`, will not send event.");var t=r&&r.getSession&&r.getSession();return!s&&t&&n._updateSessionFromEvent(t,e),n._sendEvent(e),e})).then(null,(function(e){if(e instanceof cH)throw e;throw n.captureException(e,{data:{__sentry__:!0},originalException:e}),new cH("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then((function(e){return t._numProcessing-=1,e}),(function(e){return t._numProcessing-=1,e}))},e.prototype._ensureBeforeSendRv=function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(Object(co.m)(e))return e.then((function(e){if(!Object(co.h)(e)&&null!==e)throw new cH(t);return e}),(function(e){throw new cH("beforeSend rejected with "+e)}));if(!Object(co.h)(e)&&null!==e)throw new cH(t);return e},e}();!function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(gH||(gH={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(gH||(gH={}));var bH,wH=function(){function e(){}return e.prototype.sendEvent=function(e){return lo.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:gH.Skipped})},e.prototype.close=function(e){return lo.resolve(!0)},e}(),EH=function(){function e(e){this._options=e,this._options.dsn||so.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new cH("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,r){throw new cH("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){so.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){so.error("Error while sending session: "+e)})):so.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new wH},e}();!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(bH||(bH={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(bH||(bH={}));var OH="?",TH=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,xH=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,kH=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,SH=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,PH=/\((\S*)(?::(\d+))(?::(\d+))\)/,CH=/Minified React error #\d+;/i;function AH(e){var t=null,r=0;e&&("number"==typeof e.framesToPop?r=e.framesToPop:CH.test(e.message)&&(r=1));try{if(t=jH(e))return IH(t,r)}catch(e){}try{if(t=RH(e))return IH(t,r)}catch(e){}return{message:DH(e),name:e&&e.name,stack:[],failed:!0}}function RH(e){if(!e||!e.stack)return null;for(var t,r,n,o=[],i=e.stack.split("\n"),a=0;a<i.length;++a){if(r=TH.exec(i[a])){var s=r[2]&&0===r[2].indexOf("native");r[2]&&0===r[2].indexOf("eval")&&(t=PH.exec(r[2]))&&(r[2]=t[1],r[3]=t[2],r[4]=t[3]);var u=r[2]&&0===r[2].indexOf("address at ")?r[2].substr("address at ".length):r[2],c=r[1]||OH,l=-1!==c.indexOf("safari-extension"),f=-1!==c.indexOf("safari-web-extension");(l||f)&&(c=-1!==c.indexOf("@")?c.split("@")[0]:OH,u=l?"safari-extension:"+u:"safari-web-extension:"+u),n={url:u,func:c,args:s?[r[2]]:[],line:r[3]?+r[3]:null,column:r[4]?+r[4]:null}}else if(r=kH.exec(i[a]))n={url:r[2],func:r[1]||OH,args:[],line:+r[3],column:r[4]?+r[4]:null};else{if(!(r=xH.exec(i[a])))continue;r[3]&&r[3].indexOf(" > eval")>-1&&(t=SH.exec(r[3]))?(r[1]=r[1]||"eval",r[3]=t[1],r[4]=t[2],r[5]=""):0!==a||r[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),n={url:r[3],func:r[1]||OH,args:r[2]?r[2].split(","):[],line:r[4]?+r[4]:null,column:r[5]?+r[5]:null}}!n.func&&n.line&&(n.func=OH),o.push(n)}return o.length?{message:DH(e),name:e.name,stack:o}:null}function jH(e){if(!e||!e.stacktrace)return null;for(var t,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,n=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=e.stacktrace.split("\n"),i=[],a=0;a<o.length;a+=2){var s=null;(t=r.exec(o[a]))?s={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=n.exec(o[a]))&&(s={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),s&&(!s.func&&s.line&&(s.func=OH),i.push(s))}return i.length?{message:DH(e),name:e.name,stack:i}:null}function IH(e,t){try{return Object(eo.a)(Object(eo.a)({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function DH(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}var MH=50;function LH(e){var t=FH(e.stack),r={type:e.name,value:e.message};return t&&t.length&&(r.stacktrace={frames:t}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r}function NH(e,t,r){var n={exception:{values:[{type:Object(co.f)(e)?e.constructor.name:r?"UnhandledRejection":"Error",value:"Non-Error "+(r?"promise rejection":"exception")+" captured with keys: "+Object(yo.b)(e)}]},extra:{__serialized__:Object(yo.e)(e)}};if(t){var o=FH(AH(t).stack);n.stacktrace={frames:o}}return n}function BH(e){return{exception:{values:[LH(e)]}}}function FH(e){if(!e||!e.length)return[];var t=e,r=t[0].func||"",n=t[t.length-1].func||"";return-1===r.indexOf("captureMessage")&&-1===r.indexOf("captureException")||(t=t.slice(1)),-1!==n.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,MH).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function UH(e,t,r){var n=zH(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Object(to.a)(n,{handled:!0,type:"generic"}),n.level=bH.Error,r&&r.event_id&&(n.event_id=r.event_id),lo.resolve(n)}function WH(e,t,r,n){void 0===r&&(r=bH.Info);var o=HH(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return o.level=r,n&&n.event_id&&(o.event_id=n.event_id),lo.resolve(o)}function zH(e,t,r){var n;if(void 0===r&&(r={}),Object(co.e)(e)&&e.error)return n=BH(AH(e=e.error));if(Object(co.a)(e)||Object(co.b)(e)){var o=e,i=o.name||(Object(co.a)(o)?"DOMError":"DOMException"),a=o.message?i+": "+o.message:i;return n=HH(a,t,r),Object(to.b)(n,a),"code"in o&&(n.tags=Object(eo.a)(Object(eo.a)({},n.tags),{"DOMException.code":""+o.code})),n}return Object(co.d)(e)?n=BH(AH(e)):Object(co.h)(e)||Object(co.f)(e)?(n=NH(e,t,r.rejection),Object(to.a)(n,{synthetic:!0}),n):(n=HH(e,t,r),Object(to.b)(n,""+e,void 0),Object(to.a)(n,{synthetic:!0}),n)}function HH(e,t,r){void 0===r&&(r={});var n={message:e};if(r.attachStacktrace&&t){var o=FH(AH(t).stack);n.stacktrace={frames:o}}return n}function VH(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function GH(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=Object(eo.e)(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=Object(eo.e)(e.sdk.packages||[],t.packages||[]),e):e}function qH(e,t){var r=VH(t),n="aggregates"in e?"sessions":"session";return{body:JSON.stringify(Object(eo.a)(Object(eo.a)({sent_at:(new Date).toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()}))+"\n"+JSON.stringify({type:n})+"\n"+JSON.stringify(e),type:n,url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function $H(e,t){var r=VH(t),n=e.type||"event",o="transaction"===n||t.forceEnvelope(),i=e.debug_meta||{},a=i.transactionSampling,s=Object(eo.d)(i,["transactionSampling"]),u=a||{},c=u.method,l=u.rate;0===Object.keys(s).length?delete e.debug_meta:e.debug_meta=s;var f={body:JSON.stringify(r?GH(e,t.metadata.sdk):e),type:n,url:o?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(o){var p=JSON.stringify(Object(eo.a)(Object(eo.a)({event_id:e.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),t.forceEnvelope()&&{dsn:t.getDsn().toString()}))+"\n"+JSON.stringify({type:n,sample_rates:[{id:c,rate:l}]})+"\n"+f.body;f.body=p}return f}var KH="7",YH=function(){function e(e,t,r){void 0===t&&(t={}),this.dsn=e,this._dsnObject=new pH(e),this.metadata=t,this._tunnel=r}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){var e=this.getDsn(),t=e.protocol?e.protocol+":":"",r=e.port?":"+e.port:"";return t+"//"+e.host+r+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this.forceEnvelope()?this._tunnel:this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this.getDsn();return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var r=this.getDsn(),n=["Sentry sentry_version="+KH];return n.push("sentry_client="+e+"/"+t),n.push("sentry_key="+r.publicKey),r.pass&&n.push("sentry_secret="+r.pass),{"Content-Type":"application/json","X-Sentry-Auth":n.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this.getDsn(),r=this.getBaseApiEndpoint()+"embed/error-page/",n=[];for(var o in n.push("dsn="+t.toString()),e)if("dsn"!==o)if("user"===o){if(!e.user)continue;e.user.name&&n.push("name="+encodeURIComponent(e.user.name)),e.user.email&&n.push("email="+encodeURIComponent(e.user.email))}else n.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return n.length?r+"?"+n.join("&"):r},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return this._tunnel?this._tunnel:""+this.getBaseApiEndpoint()+this.getDsn().projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e={sentry_key:this.getDsn().publicKey,sentry_version:KH};return Object(yo.f)(e)},e}(),XH=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;if(!this.isReady())return lo.reject(new cH("Not adding Promise due to buffer limit reached."));var r=e();return-1===this._buffer.indexOf(r)&&this._buffer.push(r),r.then((function(){return t.remove(r)})).then(null,(function(){return t.remove(r).then(null,(function(){}))})),r},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new lo((function(r){var n=setTimeout((function(){e&&e>0&&r(!1)}),e);lo.all(t._buffer).then((function(){clearTimeout(n),r(!0)})).then(null,(function(){r(!0)}))}))},e}(),ZH={event:"error",transaction:"transaction",session:"session",attachment:"attachment"},JH=function(){function e(e){this.options=e,this._buffer=new XH(30),this._rateLimits={},this._api=new YH(e.dsn,e._metadata,e.tunnel),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new cH("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,r=e.response,n=e.headers,o=e.resolve,i=e.reject,a=gH.fromHttpCode(r.status);this._handleRateLimit(n)&&so.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),a!==gH.Success?i(r):o({status:a})},e.prototype._disabledUntil=function(e){var t=ZH[e];return this._rateLimits[t]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,r,n,o,i=Date.now(),a=e["x-sentry-rate-limits"],s=e["retry-after"];if(a){try{for(var u=Object(eo.f)(a.trim().split(",")),c=u.next();!c.done;c=u.next()){var l=c.value.split(":",2),f=parseInt(l[0],10),p=1e3*(isNaN(f)?60:f);try{for(var d=(n=void 0,Object(eo.f)(l[1].split(";"))),h=d.next();!h.done;h=d.next()){var v=h.value;this._rateLimits[v||"all"]=new Date(i+p)}}catch(e){n={error:e}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return!0}return!!s&&(this._rateLimits.all=new Date(i+Object(to.g)(i,s)),!0)},e}();function QH(){var e,t,r=Object(to.e)();if(Rz(r.fetch))return r.fetch.bind(r);var n=r.document,o=r.fetch;if("function"==typeof(null===(e=n)||void 0===e?void 0:e.createElement))try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),(null===(t=i.contentWindow)||void 0===t?void 0:t.fetch)&&(o=i.contentWindow.fetch),n.head.removeChild(i)}catch(e){so.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return o.bind(r)}var eV=function(e){function t(t,r){void 0===r&&(r=QH());var n=e.call(this,t)||this;return n._fetch=r,n}return Object(eo.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest($H(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(qH(e,this._api),e)},t.prototype._sendRequest=function(e,t){var r=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var n={body:e.body,method:"POST",referrerPolicy:Iz()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(n,this.options.fetchParameters),void 0!==this.options.headers&&(n.headers=this.options.headers),this._buffer.add((function(){return new lo((function(t,o){r._fetch(e.url,n).then((function(n){var i={"x-sentry-rate-limits":n.headers.get("X-Sentry-Rate-Limits"),"retry-after":n.headers.get("Retry-After")};r._handleResponse({requestType:e.type,response:n,headers:i,resolve:t,reject:o})})).catch(o)}))}))},t}(JH),tV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(eo.b)(t,e),t.prototype.sendEvent=function(e){return this._sendRequest($H(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(qH(e,this._api),e)},t.prototype._sendRequest=function(e,t){var r=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add((function(){return new lo((function(t,n){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};r._handleResponse({requestType:e.type,response:o,headers:i,resolve:t,reject:n})}},o.open("POST",e.url),r.options.headers)r.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,r.options.headers[i]);o.send(e.body)}))}))},t}(JH),rV=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(eo.b)(t,e),t.prototype.eventFromException=function(e,t){return UH(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,r){return void 0===t&&(t=bH.Info),WH(this._options,e,t,r)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=Object(eo.a)(Object(eo.a)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(t):Az()?new eV(t):new tV(t)},t}(EH),nV=0;function oV(){return nV>0}function iV(){nV+=1,setTimeout((function(){nV-=1}))}function aV(e,t,r){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var n=function(){var n=Array.prototype.slice.call(arguments);try{r&&"function"==typeof r&&r.apply(this,arguments);var o=n.map((function(e){return aV(e,t)}));return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw iV(),Ao((function(r){r.addEventProcessor((function(e){var r=Object(eo.a)({},e);return t.mechanism&&(Object(to.b)(r,void 0,void 0),Object(to.a)(r,t.mechanism)),r.extra=Object(eo.a)(Object(eo.a)({},r.extra),{arguments:n}),r})),Co(e)})),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}catch(e){}e.prototype=e.prototype||{},n.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:n}),Object.defineProperties(n,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get:function(){return e.name}})}catch(e){}return n}function sV(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new YH(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else so.error("Missing dsn option in showReportDialog call");else so.error("Missing eventId option in showReportDialog call")}var uV=r(200),cV=function(){function e(t){this.name=e.id,this._options=Object(eo.a)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&Oo().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Object(to.d)(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&Uz({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._consoleBreadcrumb.apply(e,Object(eo.e)(t))},type:"console"}),this._options.dom&&Uz({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._domBreadcrumb.apply(e,Object(eo.e)(t))},type:"dom"}),this._options.xhr&&Uz({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._xhrBreadcrumb.apply(e,Object(eo.e)(t))},type:"xhr"}),this._options.fetch&&Uz({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._fetchBreadcrumb.apply(e,Object(eo.e)(t))},type:"fetch"}),this._options.history&&Uz({callback:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];e._historyBreadcrumb.apply(e,Object(eo.e)(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:bH.fromString(e.level),message:Object(xz.b)(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(Object(xz.b)(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Oo().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t,r="object"==typeof this._options.dom?this._options.dom.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{t=e.event.target?Object(uV.a)(e.event.target,r):Object(uV.a)(e.event,r)}catch(e){t="<unknown>"}0!==t.length&&Oo().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name,global:e.global})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},r=t.method,n=t.url,o=t.status_code,i=t.body;Oo().addBreadcrumb({category:"xhr",data:{method:r,url:n,status_code:o},type:"http"},{xhr:e.xhr,input:i})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Oo().addBreadcrumb({category:"fetch",data:e.fetchData,level:bH.Error,type:"http"},{data:e.error,input:e.args}):Oo().addBreadcrumb({category:"fetch",data:Object(eo.a)(Object(eo.a)({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=Object(to.e)(),r=e.from,n=e.to,o=Object(to.h)(t.location.href),i=Object(to.h)(r),a=Object(to.h)(n);i.path||(i=o),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),o.protocol===i.protocol&&o.host===i.host&&(r=i.relative),Oo().addBreadcrumb({category:"navigation",data:{from:r,to:n}})},e.id="Breadcrumbs",e}(),lV=function(e){function t(t){void 0===t&&(t={});return t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:iH}],version:iH},e.call(this,rV,t)||this}return Object(eo.b)(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),Object(to.e)().document&&(this._isEnabled()?sV(Object(eo.a)(Object(eo.a)({},e),{dsn:e.dsn||this.getDsn()})):so.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,r,n){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,r,n)},t.prototype._sendEvent=function(t){var r=this.getIntegration(cV);r&&r.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(_H),fV=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],pV=function(){function e(t){this.name=e.id,this._options=Object(eo.a)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=Object(to.e)();(this._options.setTimeout&&Object(yo.c)(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&Object(yo.c)(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&Object(yo.c)(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Object(yo.c)(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:fV).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0];return t[0]=aV(n,{mechanism:{data:{function:Object(Cz.a)(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,aV(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(Cz.a)(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Object(to.e)(),r=t[e]&&t[e].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(Object(yo.c)(r,"addEventListener",(function(t){return function(r,n,o){try{"function"==typeof n.handleEvent&&(n.handleEvent=aV(n.handleEvent.bind(n),{mechanism:{data:{function:"handleEvent",handler:Object(Cz.a)(n),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,r,aV(n,{mechanism:{data:{function:"addEventListener",handler:Object(Cz.a)(n),target:e},handled:!0,type:"instrument"}}),o)}})),Object(yo.c)(r,"removeEventListener",(function(e){return function(t,r,n){var o,i=r;try{var a=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;a&&e.call(this,t,a,n)}catch(e){}return e.call(this,t,i,n)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(e){e in n&&"function"==typeof n[e]&&Object(yo.c)(n,e,(function(t){var r={mechanism:{data:{function:e,handler:Object(Cz.a)(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(r.mechanism.data.handler=Object(Cz.a)(t.__sentry_original__)),aV(t,r)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),dV=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(eo.a)({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(so.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(so.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(Uz({callback:function(r){var n=r.error,o=Oo(),i=o.getIntegration(e),a=n&&!0===n.__sentry_own_request__;if(i&&!oV()&&!a){var s=o.getClient(),u=void 0===n&&Object(co.k)(r.msg)?t._eventFromIncompleteOnError(r.msg,r.url,r.line,r.column):t._enhanceEventWithInitialFrame(zH(n||r.msg,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!1}),r.url,r.line,r.column);Object(to.a)(u,{handled:!1,type:"onerror"}),o.captureEvent(u,{originalException:n})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(Uz({callback:function(r){var n=r;try{"reason"in r?n=r.reason:"detail"in r&&"reason"in r.detail&&(n=r.detail.reason)}catch(e){}var o=Oo(),i=o.getIntegration(e),a=n&&!0===n.__sentry_own_request__;if(!i||oV()||a)return!0;var s=o.getClient(),u=Object(co.i)(n)?t._eventFromRejectionWithPrimitive(n):zH(n,void 0,{attachStacktrace:s&&s.getOptions().attachStacktrace,rejection:!0});u.level=bH.Error,Object(to.a)(u,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(u,{originalException:n})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,r,n){var o,i=Object(co.e)(e)?e.message:e,a=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);a&&(o=a[1],i=a[2]);var s={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(s,t,r,n)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,r,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(n,10))?void 0:n,i=isNaN(parseInt(r,10))?void 0:r,a=Object(co.k)(t)&&t.length>0?t:Object(to.f)();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:a,function:"?",in_app:!0,lineno:i}),e},e.id="GlobalHandlers",e}(),hV="cause",vV=5,yV=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||hV,this._limit=t.limit||vV}return e.prototype.setupOnce=function(){vo((function(t,r){var n=Oo().getIntegration(e);if(n){var o=n._handler&&n._handler.bind(n);return"function"==typeof o?o(t,r):t}return t}))},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&Object(co.g)(t.originalException,Error)))return e;var r=this._walkErrorTree(t.originalException,this._key);return e.exception.values=Object(eo.e)(r,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,r){if(void 0===r&&(r=[]),!Object(co.g)(e[t],Error)||r.length+1>=this._limit)return r;var n=LH(AH(e[t]));return this._walkErrorTree(e[t],t,Object(eo.e)([n],r))},e.id="LinkedErrors",e}(),mV=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,r){t((function(t){var n=r().getIntegration(e);if(n){try{if(n._shouldDropEvent(t,n._previousEvent))return so.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return n._previousEvent=t}return n._previousEvent=t}return t}))},e.prototype._shouldDropEvent=function(e,t){return!!t&&(!!this._isSameMessageEvent(e,t)||!!this._isSameExceptionEvent(e,t))},e.prototype._isSameMessageEvent=function(e,t){var r=e.message,n=t.message;return!(!r&&!n)&&(!(r&&!n||!r&&n)&&(r===n&&(!!this._isSameFingerprint(e,t)&&!!this._isSameStacktrace(e,t))))},e.prototype._getFramesFromEvent=function(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}else if(e.stacktrace)return e.stacktrace.frames},e.prototype._isSameStacktrace=function(e,t){var r=this._getFramesFromEvent(e),n=this._getFramesFromEvent(t);if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;if(r=r,(n=n).length!==r.length)return!1;for(var o=0;o<n.length;o++){var i=n[o],a=r[o];if(i.filename!==a.filename||i.lineno!==a.lineno||i.colno!==a.colno||i.function!==a.function)return!1}return!0},e.prototype._getExceptionFromEvent=function(e){return e.exception&&e.exception.values&&e.exception.values[0]},e.prototype._isSameExceptionEvent=function(e,t){var r=this._getExceptionFromEvent(t),n=this._getExceptionFromEvent(e);return!(!r||!n)&&(r.type===n.type&&r.value===n.value&&(!!this._isSameFingerprint(e,t)&&!!this._isSameStacktrace(e,t)))},e.prototype._isSameFingerprint=function(e,t){var r=e.fingerprint,n=t.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return!(r.join("")!==n.join(""))}catch(e){return!1}},e.id="Dedupe",e}(),gV=Object(to.e)(),_V=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){vo((function(t){var r,n,o;if(Oo().getIntegration(e)){if(!gV.navigator&&!gV.location&&!gV.document)return t;var i=(null===(r=t.request)||void 0===r?void 0:r.url)||(null===(n=gV.location)||void 0===n?void 0:n.href),a=(gV.document||{}).referrer,s=(gV.navigator||{}).userAgent,u=Object(eo.a)(Object(eo.a)(Object(eo.a)({},null===(o=t.request)||void 0===o?void 0:o.headers),a&&{Referer:a}),s&&{"User-Agent":s}),c=Object(eo.a)(Object(eo.a)({},i&&{url:i}),{headers:u});return Object(eo.a)(Object(eo.a)({},t),{request:c})}return t}))},e.id="UserAgent",e}(),bV=[new a.InboundFilters,new a.FunctionToString,new pV,new cV,new dV,new yV,new mV,new _V];function wV(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=bV),void 0===e.release){var t=Object(to.e)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),Pz(lV,e),e.autoSessionTracking&&EV()}function EV(){if(void 0!==Object(to.e)().document){var e=Oo();"function"==typeof e.startSession&&"function"==typeof e.captureSession&&(e.startSession({ignoreDuration:!0}),e.captureSession(),Uz({callback:function(t){var r=t.from,n=t.to;void 0!==r&&r!==n&&(e.startSession({ignoreDuration:!0}),e.captureSession())},type:"history"}))}else so.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}function OV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function TV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OV(Object(r),!0).forEach((function(t){xV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kV="https://web.archive.org/web/20220221113829/https://8032d897b775460797a37afd3d0854f3@sentry.issuu.com/150";function SV(){wV(TV(TV({},L({dsn:kV,environment:Y,release:"1.0.426"})),{},{allowUrls:[ee,ie,"www.googletagmanager.com","consent.cookiebot.com","unpkg.com"],ignoreErrors:["ReferenceError: 'createImageBitmap' is not defined",/\(--client-only--\)/i,A.DocumentNotLoad,A.ClippingNotLoad,A.DocumentIdMissing,A.JsonNotLoad,A.PaywallPreviewDisableLicenseCheck,A.PreviewDisableLicenseCheck,A.LicensingNotLoaded,A.SmartzoomNotLoaded,"ReferenceError: 'fetch'",'ReferenceError: "fetch"',"ReferenceError: fetch","ReferenceError: « fetch »"]}))}function PV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CV(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PV(Object(r),!0).forEach((function(t){AV(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function AV(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var RV=new Ce(document.location.toString()),jV=RV.getHostUrl(),IV=RV.getHostReferrer(),DV=RV.getEmbedType(),MV=RV.getEmbedId(),LV=V(window.navigator.userAgent),NV=W("embed",jV,MV,LV),BV=RV.getIdentifier(),FV=Re();SV();var UV={isEmbed:!0,embedId:MV,location:jV,referrer:IV,monitorEventsOnly:!1,readerEndPoint:"".concat(DV,"embed"),pingbackOrigin:pe(),source:"external"},WV=new dW(UV);function zV(e){var t=document.getElementById("root");t&&u.a.render(l.a.createElement(lr,{error:e,sessionId:FV,embedId:WV.embedId}),t)}if(MV)window.fetch("".concat(he(),"/config/").concat(MV.split("/")[1],".json")).then((function(e){if(!e.ok)throw new Error("".concat(e.status," ").concat(e.statusText));return e.json()})).then((function(e){if(!e.ownerUsername||!e.documentURI)throw new Error("Invalid embedId: ".concat(MV));1!==RV.getInitialPageNumber()&&(e.initialPageNumber=RV.getInitialPageNumber()),Oz(e,{sessionId:FV,embedType:DV,metrics:WV,isRobot:LV,embedTrackingQuery:NV,publicApiIdentifier:BV,fullscreenFallbackArgs:RV.extractFullscreenFallbackArgs()})})).catch((function(e){zV(e)}));else{var HV=new dW(CV(CV({},UV),{},{readerEndPoint:"".concat(DV,"newembed")})),VV=RV.getUsername(),GV=RV.getDocumentName();if(VV&&GV){var qV={ownerUsername:VV,documentURI:GV,initialPageNumber:RV.getInitialPageNumber(),autoFlip:RV.getAutoFlip(),bgColor:RV.getBackgroundColor()||"#353535",enablePoweredByIssuu:RV.getEnablePoweredByIssuu(),enableSeeMore:RV.getEnableSeeMore()||!1,enableShare:RV.getEnableShare(),fullscreenBgColor:RV.getFullscreenBgColor(),fullscreenBgImage:RV.getFullscreenBgImage(),fullscreenBgImageStretch:RV.getFullscreenImageStretch(),fullscreenBgImageTile:!1,fullscreenLogo:RV.getFullScreenLogo(),pageLayout:RV.getPageLayout()};Oz(qV,{sessionId:FV,embedType:DV,metrics:HV,isRobot:LV,embedTrackingQuery:NV,publicApiIdentifier:BV,fullscreenFallbackArgs:RV.extractFullscreenFallbackArgs()})}else zV(new Error("Invalid embedId"))}},,,,function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));var n=r(39),o=r(145),i={nowSeconds:function(){return Date.now()/1e3}};var a=Object(o.b)()?function(){try{return Object(o.a)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=Object(n.e)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),s=void 0===a?i:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=i.nowSeconds.bind(i),c=s.nowSeconds.bind(s);!function(){var e=Object(n.e)().performance;if(e&&e.now){var t=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+t-r):36e5,i=o<36e5,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+t-r):36e5;return i||s<36e5?o<=s?("timeOrigin",e.timeOrigin):("navigationStart",a):("dateNow",r)}"none"}()}).call(this,r(192)(e))}]);
//# sourceMappingURL=//sourcemaps.issuu.com/product-reader3-frontend/426/iframe-embed.js.map
}!function(){var n,t=[],e=!!window.Promise,i=!!window.fetch,o=!!window.PointerEvent;n=window.SCRIPT_LOADER,e&&i&&o?n():(e||t.push("https://web.archive.org/web/20220221113829/https://cdn.jsdelivr.net/npm/promise-polyfill@8/dist/polyfill.min.js"),i||t.push("https://web.archive.org/web/20220221113829/https://cdn.jsdelivr.net/npm/whatwg-fetch@3.5.0/dist/fetch.umd.min.js"),o||t.push("https://web.archive.org/web/20220221113829/https://cdn.jsdelivr.net/npm/pepjs@0.5.2/dist/pep.min.js"),function(n,t){if(0===n.length)return t();var e={};n.forEach((function(i){e[i]=!1;var o=document.createElement("script");o.src=i,o.defer=!0,o.onload=function(){e[i]=!0,function(n,t){for(var e=t.length,i=!0,o=0;o<e&&(i=i&&n[t[o]]);o++);return i}(e,n)&&t()},o.onerror=function(){new Error("Failed to load polyfill")},document.head.appendChild(o)}))}(t,n))}();

}
/*
     FILE ARCHIVED ON 11:38:29 Feb 21, 2022 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 13:15:06 Sep 18, 2022.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 543.405
  exclusion.robots: 0.138
  exclusion.robots.policy: 0.127
  cdx.remote: 0.089
  esindex: 0.012
  LoadShardBlock: 495.797 (3)
  PetaboxLoader3.datanode: 120.676 (4)
  CDXLines.iter: 14.114 (3)
  load_resource: 508.898
  PetaboxLoader3.resolve: 416.622
*/